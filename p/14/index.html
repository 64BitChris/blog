<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US" xml:lang="en-US"
  itemscope="" itemtype="http://schema.org/WebPage">
  <head>
    <base href="http://www.yegor256.com/p/14/"/>
    <meta charset="utf-8"/>
    <meta itemprop="name" content="Programming Blog" />
    <meta itemprop="author" content="Yegor Bugayenko" />
    <meta itemprop="breadcrumb" content="http://www.yegor256.com" />
    <meta itemprop="keywords" content="high quality programming, java, java blog, programming blog, quality of software, software blog, software development blog, yegor bugayenko blog" />
    <meta itemprop="description" content="Yegor Bugayenko blogging about object-oriented programming, Java, project management, philosophy, and venture investments; one new post every week." />
    <meta name="description" content="Yegor Bugayenko blogging about object-oriented programming, Java, project management, philosophy, and venture investments; one new post every week. (page 14) " />
    <meta name="keywords" content="high quality programming, java, java blog, programming blog, quality of software, software blog, software development blog, yegor bugayenko blog" />
    <meta name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1"/>
    <meta name="twitter:creator" content="@yegor256"/>
    <meta property="twitter:account_id" content="4503599630178231" />
    <meta property="og:url" content="http://www.yegor256.com/p/14/"/>
    
    <meta property="og:site_name" content="yegor256"/>
    <meta property="og:title" content="Programming Blog"/>
    <meta property="og:description" content="Yegor Bugayenko blogging about object-oriented programming, Java, project management, philosophy, and venture investments; one new post every week."/>
    <meta property="og:type" content="article" />
    <meta property="og:locale" content="en_US" />
    <meta property="fb:admins" content="10203747823006002"/>
    <meta name="twitter:site" content="@yegor256"/>
    <meta name="twitter:creator" content="@yegor256"/>
    <meta name="twitter:url" content="http://www.yegor256.com/p/14/"/>
    <meta property="article:author" content="https://www.facebook.com/yegor256"/>
    <meta name="p:domain_verify" content="61f09f0ef5db665328827225a3fc11bd"/>
    <link rel="search" type="application/opensearchdescription+xml" href="opensearch.xml" title="yegor256" />
    <link rel="shortcut icon" href="/favicon.ico?464bbff"/>
    <link rel="apple-touch-icon" href="/favicon.ico?464bbff"/>
    <link rel="alternate" type="application/rss+xml" title="RSS for yegor256.com" href="http://www.yegor256.com/rss.xml"/>
    <link rel="author" href="http://plus.google.com/u/0/114792568016408327418?rel=author" />
    <link rel="publisher" href="http://plus.google.com/u/0/114792568016408327418" />
    <link rel="stylesheet" href="/css/layout.css?464bbff"/>
    <link rel="stylesheet" href="/css/icons.css?464bbff"/>
    <link rel="canonical" href="http://www.yegor256.com/p/14/" />
    <title>Programming Blog - Yegor Bugayenko
      
        (page 14)
      </title>
    <script src="http://code.jquery.com/jquery-2.1.0.min.js"></script>
    <script src="/js/global.js?464bbff"></script>
  </head>
  <body>
    <div class="wrapper">
      <aside class="header-toggle unprintable" id="header-toggle" title="show head menu"
        onclick="$('#header').show();$('#header-toggle').hide();">&#9776;</aside>
      <header class="header" id="header">
        <div class="face">
          <a href="/about-me.html" class="sub"><span>subscribe</span></a>
          <a href="/about-me.html">
            <img src="/images/yegor-bugayenko-192x192.png" class="photo"
              alt="photo of Yegor Bugayenko"/>
          </a>
          <a href="/about-me.html" class="hire"><span>hire me</span></a>
        </div>
        <nav>
          <ul class="menu social notranslate">
            <li><a href="http://www.twitter.com/yegor256" title="follow me in Twitter"><i class="icon icon-twitter notranslate" aria-hidden="true"></i></a></li>
            <li><a href="/rss" title="RSS feed"><i class="icon icon-rss notranslate" aria-hidden="true"></i></a></li>
            <li><a href="https://github.com/yegor256" title="my GitHub profile"><i class="icon icon-github notranslate" aria-hidden="true"></i></a></li>
            <li><a href="http://stackoverflow.com/users/187141/yegor256" title="my StackOverflow profile"><i class="icon icon-stackoverflow notranslate" aria-hidden="true"></i></a></li>
            <li><a href="https://www.facebook.com/yegor256" title="follow me in Facebook"><i class="icon icon-facebook notranslate" aria-hidden="true"></i></a></li>
            <li><a href="https://plus.google.com/+YegorBugayenko/posts" title="follow me in Google+"><i class="icon icon-googleplus notranslate" aria-hidden="true"></i></a></li>
            <li><a href="https://www.linkedin.com/in/yegor256" title="my LinkedIn profile"><i class="icon icon-linkedin notranslate" aria-hidden="true"></i></a></li>
            <li><a href="https://www.youtube.com/channel/UCr9qCdqXLm2SU0BIs6d_68Q" title="my Youtube video channel"><i class="icon icon-youtube notranslate" aria-hidden="true"></i></a></li>
            <li><a href="https://www.pinterest.com/yegor256/" title="my Pinterest boards"><i class="icon icon-pinterest notranslate" aria-hidden="true"></i></a></li>
            <li><a href="mailto:yegor@teamed.io" title="yegor@teamed.io"><i class="icon icon-mail notranslate" aria-hidden="true"></i></a></li>
          </ul>
          <ul class="menu">
            <li><a href="/" title="home page">home</a></li>
            <li><a href="/best.html" title="best articles to read">12&nbsp;best</a></li>
            <li><a href="/contents.html" title="blog contents">all&nbsp;169</a></li>
            <li><a href="/webinars.html" title="webinars">webinars</a></li>
            <li><a href="/talks.html" title="talks">talks</a></li>
            <li><a href="/books.html" title="books">books</a></li>
            <li><a href="/award.html" title="software quality award">award</a></li>
          </ul>
        </nav>
        <div id="search">
          <form method="get" action="https://www.google.com/search" style="position:relative">
            <input name="sitesearch" value="yegor256.com" type="hidden"/>
            <input id="search-query" class="field field-text"
              onfocus="$('#google').css('display', 'inline-block');"
              name="q" placeholder="Search" autocomplete="off"/>
            <span class="desktop-only">
              <input type="image" src="/images/google-search-icon.png" id="google" title="search via Google"
                style="width:3em;height:3em;display:none;position:absolute;margin-left:1em;" alt="search via Google"/>
            </span>
          </form>
          <div id="search-results" style="display: none;">
            <div class="entries"></div>
          </div>
        </div>
        
        <script id="search-results-template" type="text/mustache">
          {{#entries}}
            <div>
              <a href="{{url}}">{{title}}</a>
            </div>
          {{/entries}}
        </script>
        
        <div class="hot">
          <a href="http://goo.gl/5Yfx1i">
            <img src="/images/books/elegant-objects/cover.png"
              alt="Elegant Objects"
              style="width:100px;float:right;margin-left:1em;"/>
          </a>
          <ul>
            <li>
              <strong>Elegant Objects</strong>, my book about
              object-oriented programming, is published! Buy it
              <a href="http://goo.gl/5Yfx1i">on Amazon</a>
              and give me your feedback, please.
            </li>
            <!--
            <li>
              Meet me in Seattle, on Mar 12, at
              <a href="http://casitconf.org/casitconf16/talks/">CascadiaIT</a>,
              I'll be speaking about chat bots
            </li>
            -->
            <li>
              Meet me in Washington DC, on Mar 31, at
              <a href="http://www.sedcconference.org/">SEDC</a>,
              I'll be speaking about XDSD and meeting-free work
            </li>
            <li>
              <a href="https://plus.google.com/events/cn2nne1qnm8t475bt461igccrg4">Webinar #13</a>
              will be about the role of a Software Architect;
              join us on Apr 6, at 11am PST
            </li>
          </ul>
        </div>
      </header>
    </div>
    
  <div class="wrapper">
    <section class="front">
      <header>
        <h1>
          <a href="/2014/06/26/sass-in-java-webapp.html">
            SASS in Java Webapp
          </a>
        </h1>
        <ul class="subline">
          <li>
            <time datetime="2014-06-26T00:00:00+00:00">
              26 June 2014
            </time>
          </li>
          <li>
            111 words
          </li>
          <li>
            
            
              a minute
            
            to read
          </li>
          <li>
            <i class="icon icon-comments"></i>
            <a href="http://www.yegor256.com/2014/06/26/sass-in-java-webapp.html#disqus_thread">comments</a>
          </li>
        </ul>
      </header>
      <div class="main">
        <p><a href="http://sass-lang.com/">SASS</a> is a powerful and very popular
language for writing <a href="http://www.w3.org/Style/CSS/Overview.en.html">CSS</a>
style sheets. This is how I&#39;m using SASS in my Maven projects.</p>

<p>First, I change the extensions of <code>.css</code> files to
<code>.scss</code> and move them from <code>src/main/webapp/css</code> to <code>src/main/scss</code>.</p>

<p>Then, I configure the <a href="https://github.com/Jasig/sass-maven-plugin">sass-maven-plugin</a>
(get its latest versions in <a href="http://search.maven.org/">Maven Central</a>):</p>

<figure class="highlight"><pre><code class="language-xml" data-lang="xml"><span class="nt">&lt;plugin&gt;</span>
  <span class="nt">&lt;groupId&gt;</span>nl.geodienstencentrum.maven<span class="nt">&lt;/groupId&gt;</span>
  <span class="nt">&lt;artifactId&gt;</span>sass-maven-plugin<span class="nt">&lt;/artifactId&gt;</span>
  <span class="nt">&lt;executions&gt;</span>
    <span class="nt">&lt;execution&gt;</span>
      <span class="nt">&lt;id&gt;</span>generate-css<span class="nt">&lt;/id&gt;</span>
      <span class="nt">&lt;phase&gt;</span>generate-resources<span class="nt">&lt;/phase&gt;</span>
      <span class="nt">&lt;goals&gt;</span>
        <span class="nt">&lt;goal&gt;</span>update-stylesheets<span class="nt">&lt;/goal&gt;</span>
      <span class="nt">&lt;/goals&gt;</span>
      <span class="nt">&lt;configuration&gt;</span>
        <span class="nt">&lt;sassSourceDirectory&gt;</span>${basedir}/src/main/scss<span class="nt">&lt;/sassSourceDirectory&gt;</span>
        <span class="nt">&lt;destination&gt;</span>${project.build.directory}/css<span class="nt">&lt;/destination&gt;</span>
      <span class="nt">&lt;/configuration&gt;</span>
    <span class="nt">&lt;/execution&gt;</span>
  <span class="nt">&lt;/executions&gt;</span>
<span class="nt">&lt;/plugin&gt;</span></code></pre></figure>

      </div>
      <p>
        <a href="/2014/06/26/sass-in-java-webapp.html">
          continue...
        </a>
      </p>
    </section>
  </div>

  <div class="wrapper">
    <section class="front">
      <header>
        <h1>
          <a href="/2014/06/25/xml-and-xslt-in-browser.html">
            XML+XSLT in a Browser
          </a>
        </h1>
        <ul class="subline">
          <li>
            <time datetime="2014-06-25T00:00:00+00:00">
              25 June 2014
            </time>
          </li>
          <li>
            1023 words
          </li>
          <li>
            
            
              
                  four
                
              minutes
            
            to read
          </li>
          <li>
            <i class="icon icon-comments"></i>
            <a href="http://www.yegor256.com/2014/06/25/xml-and-xslt-in-browser.html#disqus_thread">comments</a>
          </li>
        </ul>
      </header>
      <div class="main">
        <p><a href="http://en.wikipedia.org/wiki/Separation_of_presentation_and_content">Separating data and their presentation</a>
is a great concept. Take HTML and CSS for example. HTML is supposed to have pure data and
CSS is supposed to format that data in order to make it readable by a human. Years ago,
that was probably the intention of HTML/CSS, but in reality it doesn&#39;t work like that.
Mostly because CSS is not powerful enough.</p>

<p>We still have to format our data using HTML tags, while
<a href="/2014/06/26/sass-in-java-webapp.html">CSS</a>
can help slightly with positioning and decorating.</p>

<p>On the other hand, XML with <a href="http://en.wikipedia.org/wiki/XSLT">XSLT</a>
implements perfectly the idea of separating data and presentation. XML documents,
like HTML, are supposed to contain data only without any information about
positioning or formatting. XSL stylesheets position and decorate the data.
XSL is a much more powerful language. That&#39;s why it&#39;s possible to avoid
any formatting inside XML.</p>

<p>The latest versions of Chrome, Safari, Firefox and IE all support
this mechanism. When a browser retrieves an XML document from a server,
and the document has an XSL stylesheet <a href="http://www.w3.org/TR/xml-stylesheet/">associated</a>
with it &mdash; the browser transforms XML into HTML on-fly.</p>

      </div>
      <p>
        <a href="/2014/06/25/xml-and-xslt-in-browser.html">
          continue...
        </a>
      </p>
    </section>
  </div>

  <div class="wrapper">
    <section class="front">
      <header>
        <h1>
          <a href="/2014/06/24/jekyll-github-deploy.html">
            Deploy Jekyll to GitHub Pages
          </a>
        </h1>
        <ul class="subline">
          <li>
            <time datetime="2014-06-24T00:00:00+00:00">
              24 June 2014
            </time>
          </li>
          <li>
            191 words
          </li>
          <li>
            
            
              a minute
            
            to read
          </li>
          <li>
            <i class="icon icon-comments"></i>
            <a href="http://www.yegor256.com/2014/06/24/jekyll-github-deploy.html#disqus_thread">comments</a>
          </li>
        </ul>
      </header>
      <div class="main">
        <p>This blog is written in <a href="http://jekyllrb.com/">Jekyll</a> and is hosted at
<a href="https://pages.github.com/">GitHub Pages</a>. It uses half a dozen custom
plugins, which <a href="https://help.github.com/articles/using-jekyll-plugins-with-github-pages">are not allowed there</a>.</p>

<p>Here is how I deploy it:</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ </span>jgd</code></pre></figure>

<p>That&#39;s it. <a href="http://rubygems.org/gems/jgd">jgd</a> is my
Ruby gem (stands for &quot;Jekyll GitHub Deploy&quot;), which does
the trick. Here is
<a href="https://github.com/yegor256/jekyll-github-deploy/blob/master/bash/deploy.sh">what it does</a>:</p>

      </div>
      <p>
        <a href="/2014/06/24/jekyll-github-deploy.html">
          continue...
        </a>
      </p>
    </section>
  </div>

  <div class="wrapper">
    <section class="front">
      <header>
        <h1>
          <a href="/2014/06/21/casperjs-with-maven.html">
            CasperJS Tests in Maven Build
          </a>
        </h1>
        <ul class="subline">
          <li>
            <time datetime="2014-06-21T00:00:00+00:00">
              21 June 2014
            </time>
          </li>
          <li>
            610 words
          </li>
          <li>
            
            
              
                  three
                
              minutes
            
            to read
          </li>
          <li>
            <i class="icon icon-comments"></i>
            <a href="http://www.yegor256.com/2014/06/21/casperjs-with-maven.html#disqus_thread">comments</a>
          </li>
        </ul>
      </header>
      <div class="main">
        <p>I&#39;m a big fan of automated testing in general and integration
testing in particular. I strongly believe that effort spent on
writing tests are direct investments into quality and stability
of the product under development.</p>

<p><a href="http://casperjs.org/">CasperJS</a> is a testing framework on top of
<a href="http://phantomjs.org/">PhantomJS</a>, which is a headless browser. Using
CasperJS, we can ensure that our application responds correctly
to requests sent by a regular web browser.</p>

      </div>
      <p>
        <a href="/2014/06/21/casperjs-with-maven.html">
          continue...
        </a>
      </p>
    </section>
  </div>

  <div class="wrapper">
    <section class="front">
      <header>
        <h1>
          <a href="/2014/06/20/limit-method-execution-time.html">
            Limit Java Method Execution Time
          </a>
        </h1>
        <ul class="subline">
          <li>
            <time datetime="2014-06-20T00:00:00+00:00">
              20 June 2014
            </time>
          </li>
          <li>
            329 words
          </li>
          <li>
            
            
              
                  two
                
              minutes
            
            to read
          </li>
          <li>
            <i class="icon icon-comments"></i>
            <a href="http://www.yegor256.com/2014/06/20/limit-method-execution-time.html#disqus_thread">comments</a>
          </li>
        </ul>
      </header>
      <div class="main">
        <figure class='badge'><a href='http://aspects.jcabi.com'><img src='http://img.jcabi.com/logo-square.svg' style='width:64px;' alt='badge'/></a></figure>

<p>Say, you want to allow a Java method to work for
a maximum of five seconds and want an exception
to be thrown if the timeframe is exceeded. Here is how
you can do it with <a href="http://aspects.jcabi.com">jcabi-aspects</a>
and <a href="http://eclipse.org/aspectj/">AspectJ</a>:</p>

<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Resource</span> <span class="o">{</span>
  <span class="nd">@Timeable</span><span class="o">(</span><span class="n">limit</span> <span class="o">=</span> <span class="mi">5</span><span class="o">,</span> <span class="n">unit</span> <span class="o">=</span> <span class="n">TimeUnit</span><span class="o">.</span><span class="na">SECONDS</span><span class="o">)</span>
  <span class="kd">public</span> <span class="n">String</span> <span class="nf">load</span><span class="o">(</span><span class="n">URL</span> <span class="n">url</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">return</span> <span class="n">url</span><span class="o">.</span><span class="na">openConnection</span><span class="o">().</span><span class="na">getContent</span><span class="o">();</span>
  <span class="o">}</span>
<span class="o">}</span></code></pre></figure>

      </div>
      <p>
        <a href="/2014/06/20/limit-method-execution-time.html">
          continue...
        </a>
      </p>
    </section>
  </div>

  <div class="wrapper">
    <section class="front">
      <header>
        <h1>
          <a href="/2014/06/19/avoid-string-concatenation.html">
            Avoid String Concatenation
          </a>
        </h1>
        <ul class="subline">
          <li>
            <time datetime="2014-06-19T00:00:00+00:00">
              19 June 2014
            </time>
          </li>
          <li>
            518 words
          </li>
          <li>
            
            
              
                  two
                
              minutes
            
            to read
          </li>
          <li>
            <i class="icon icon-comments"></i>
            <a href="http://www.yegor256.com/2014/06/19/avoid-string-concatenation.html#disqus_thread">comments</a>
          </li>
        </ul>
      </header>
      <div class="main">
        <p>This is &quot;string concatenation&quot;, and it is a bad practice:</p>

<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="c1">// bad practice, don&#39;t reuse!</span>
<span class="n">String</span> <span class="n">text</span> <span class="o">=</span> <span class="s">&quot;Hello, &quot;</span> <span class="o">+</span> <span class="n">name</span> <span class="o">+</span> <span class="s">&quot;!&quot;</span><span class="o">;</span></code></pre></figure>

<p>Why? Some may say that it is slow, mostly because parts of
the resulting string are copied multiple times. Indeed, on every <code>+</code> operator,
<code>String</code> class allocates a new block in memory and copies everything
it has into it; plus a suffix being concatenated. This is true,
but this is not the point here.</p>

      </div>
      <p>
        <a href="/2014/06/19/avoid-string-concatenation.html">
          continue...
        </a>
      </p>
    </section>
  </div>

  <div class="wrapper">
    <section class="front">
      <header>
        <h1>
          <a href="/2014/06/09/objects-should-be-immutable.html">
            Objects Should Be Immutable
          </a>
        </h1>
        <ul class="subline">
          <li>
            <time datetime="2014-06-09T00:00:00+00:00">
              9 June 2014
            </time>
          </li>
          <li>
            1242 words
          </li>
          <li>
            
            
              
                  five
                
              minutes
            
            to read
          </li>
          <li>
            <i class="icon icon-comments"></i>
            <a href="http://www.yegor256.com/2014/06/09/objects-should-be-immutable.html#disqus_thread">comments</a>
          </li>
        </ul>
      </header>
      <div class="main">
        <p>In object-oriented programming, an object is
<a href="http://en.wikipedia.org/wiki/Immutable_object">immutable</a> if its state can&#39;t be
modified after it is created.</p>

<p>In Java, a good example of an
immutable object is <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html"><code>String</code></a>.
Once created, we can&#39;t modify its state. We can request that it creates
new strings, but its own state will never change.</p>

<p>However, there are not so many immutable classes in JDK. Take,
for example, class <a href="http://docs.oracle.com/javase/7/docs/api/java/util/Date.html"><code>Date</code></a>.
It is possible to modify its state using <code>setTime()</code>.</p>

<p>I don&#39;t know why the JDK designers decided to make these two
very similar classes differently. However, I believe that the design
of a mutable <code>Date</code> has many flaws, while the immutable <code>String</code>
is much more in the spirit of the object-oriented paradigm.</p>

<p>Moreover, I think that <strong>all classes should be immutable in
a perfect object-oriented world</strong>. Unfortunately, sometimes,
it is technically not possible due to limitations in JVM.
Nevertheless, we should always aim for the best.</p>

<p>This is an incomplete list of arguments in favor of immutability:</p>

<ul>
<li>immutable objects are simpler to construct, test, and use</li>
<li>truly immutable objects are always thread-safe</li>
<li>they help to avoid <a href="/2015/12/08/temporal-coupling-between-method-calls.html">temporal coupling</a></li>
<li>their usage is side-effect free (no defensive copies)</li>
<li>identity mutability problem is avoided</li>
<li>they always have failure atomicity</li>
<li>they are much easier to cache</li>
<li>they prevent NULL references, <a href="/2014/05/13/why-null-is-bad.html">which are bad</a></li>
</ul>

<p>Let&#39;s discuss the most important arguments one by one.</p>

      </div>
      <p>
        <a href="/2014/06/09/objects-should-be-immutable.html">
          continue...
        </a>
      </p>
    </section>
  </div>

  <div class="wrapper">
    <section class="front">
      <header>
        <h1>
          <a href="/2014/06/01/aop-aspectj-java-method-logging.html">
            Java Method Logging with AOP and Annotations
          </a>
        </h1>
        <ul class="subline">
          <li>
            <time datetime="2014-06-01T00:00:00+00:00">
              1 June 2014
            </time>
          </li>
          <li>
            976 words
          </li>
          <li>
            
            
              
                  four
                
              minutes
            
            to read
          </li>
          <li>
            <i class="icon icon-comments"></i>
            <a href="http://www.yegor256.com/2014/06/01/aop-aspectj-java-method-logging.html#disqus_thread">comments</a>
          </li>
        </ul>
      </header>
      <div class="main">
        <p>Sometimes, I want to log (through <a href="http://www.slf4j.org">slf4j</a>
and <a href="http://logging.apache.org/log4j/2.x/">log4j</a>) every execution
of a method, seeing what arguments it receives, what
it returns and how much time every execution takes.
This is how I&#39;m doing it, with help of <a href="http://eclipse.org/aspectj/">AspectJ</a>,
<a href="http://aspects.jcabi.com">jcabi-aspects</a> and Java 6 annotations:</p>

<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Foo</span> <span class="o">{</span>
  <span class="nd">@Loggable</span>
  <span class="kd">public</span> <span class="kt">int</span> <span class="nf">power</span><span class="o">(</span><span class="kt">int</span> <span class="n">x</span><span class="o">,</span> <span class="kt">int</span> <span class="n">p</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">return</span> <span class="n">Math</span><span class="o">.</span><span class="na">pow</span><span class="o">(</span><span class="n">x</span><span class="o">,</span> <span class="n">p</span><span class="o">);</span>
  <span class="o">}</span>
<span class="o">}</span></code></pre></figure>

<p>This is what I see in log4j output:</p>

<figure class="highlight"><pre><code class="language-text" data-lang="text">[INFO] com.example.Foo #power(2, 10): 1024 in 12μs
[INFO] com.example.Foo #power(3, 3): 27 in 4μs</code></pre></figure>

<p>Nice, isn&#39;t it? Now, let&#39;s see how it works.</p>

      </div>
      <p>
        <a href="/2014/06/01/aop-aspectj-java-method-logging.html">
          continue...
        </a>
      </p>
    </section>
  </div>

  <div class="wrapper">
    <section class="front">
      <header>
        <h1>
          <a href="/2014/05/26/amazon-s3-java-oop-adapter.html">
            Object-Oriented Java Adapter of Amazon S3 SDK
          </a>
        </h1>
        <ul class="subline">
          <li>
            <time datetime="2014-05-26T00:00:00+00:00">
              26 May 2014
            </time>
          </li>
          <li>
            556 words
          </li>
          <li>
            
            
              
                  three
                
              minutes
            
            to read
          </li>
          <li>
            <i class="icon icon-comments"></i>
            <a href="http://www.yegor256.com/2014/05/26/amazon-s3-java-oop-adapter.html#disqus_thread">comments</a>
          </li>
        </ul>
      </header>
      <div class="main">
        <figure class='badge'><img src='http://cf.jare.io/?u=http%3A%2F%2Fwww.yegor256.com%2Fimages%2F2014%2F05%2Fs3-logo.png' style='width:150px;' alt='badge'/></figure>

<p>I&#39;m a big fan of Amazon Web Services (AWS). I&#39;m using them
in almost all of my projects. One of their most popular
services is <a href="http://aws.amazon.com/s3/">Simple Storage Service (S3)</a>.
It is a storage for binary objects (files) with unique names,
accessible through HTTP or RESTful API.</p>

<p>Using S3 is very simple. You create a &quot;bucket&quot; with a unique name,
upload your &quot;object&quot; into the bucket through their web interface or
through RESTful API, and then download it again (either through HTTP or the API.)</p>

<p>Amazon ships the <a href="https://aws.amazon.com/sdkforjava/">Java SDK</a>
that wraps their RESTful API. However, this SDK is not object-oriented
at all. It is purely imperative and procedural &mdash; it just mirrors the API.</p>

<p>For example, in order to download an existing object <code>doc.txt</code>
from bucket <code>test-1</code>, you have to do something like this:</p>

<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">AWSCredentials</span> <span class="n">creds</span> <span class="o">=</span> <span class="k">new</span> <span class="nf">BasicAWSCredentials</span><span class="o">(</span><span class="n">key</span><span class="o">,</span> <span class="n">secret</span><span class="o">);</span>
<span class="n">AmazonS3</span> <span class="n">aws</span> <span class="o">=</span> <span class="k">new</span> <span class="nf">AmazonS3Client</span><span class="o">(</span><span class="n">creds</span><span class="o">);</span>
<span class="n">S3Object</span> <span class="n">obj</span> <span class="o">=</span> <span class="n">aws</span><span class="o">.</span><span class="na">getObject</span><span class="o">(</span>
  <span class="k">new</span> <span class="nf">GetObjectRequest</span><span class="o">(</span><span class="s">&quot;test-1&quot;</span><span class="o">,</span> <span class="s">&quot;doc.txt&quot;</span><span class="o">)</span>
<span class="o">);</span>
<span class="n">InputStream</span> <span class="n">input</span> <span class="o">=</span> <span class="n">obj</span><span class="o">.</span><span class="na">getObjectContent</span><span class="o">();</span>
<span class="n">String</span> <span class="n">content</span> <span class="o">=</span> <span class="n">IOUtils</span><span class="o">.</span><span class="na">toString</span><span class="o">(</span><span class="n">input</span><span class="o">,</span> <span class="s">&quot;UTF-8&quot;</span><span class="o">);</span>
<span class="n">input</span><span class="o">.</span><span class="na">close</span><span class="o">();</span></code></pre></figure>

<figure class='badge'><img src='http://img.jcabi.com/logo-square.svg' style='width:64px;' alt='badge'/></figure>

<p>As always, procedural programming has its inevitable
disadvantages. To overcome them all, I designed
<a href="http://s3.jcabi.com">jcabi-s3</a>, which is a small
object-oriented adapter for Amazon SDK. This is how the same
object-reading task can be accomplished with <a href="http://s3.jcabi.com">jcabi-s3</a>:</p>

<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">Region</span> <span class="n">region</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Region</span><span class="o">.</span><span class="na">Simple</span><span class="o">(</span><span class="n">key</span><span class="o">,</span> <span class="n">secret</span><span class="o">);</span>
<span class="n">Bucket</span> <span class="n">bucket</span> <span class="o">=</span> <span class="n">region</span><span class="o">.</span><span class="na">bucket</span><span class="o">(</span><span class="s">&quot;test-1&quot;</span><span class="o">);</span>
<span class="n">Ocket</span> <span class="n">ocket</span> <span class="o">=</span> <span class="n">bucket</span><span class="o">.</span><span class="na">ocket</span><span class="o">(</span><span class="s">&quot;doc.txt&quot;</span><span class="o">);</span>
<span class="n">String</span> <span class="n">content</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Ocket</span><span class="o">.</span><span class="na">Text</span><span class="o">(</span><span class="n">ocket</span><span class="o">).</span><span class="na">read</span><span class="o">();</span></code></pre></figure>

<p>Why is this approach better? Well, there are a number of obvious advantages.</p>

      </div>
      <p>
        <a href="/2014/05/26/amazon-s3-java-oop-adapter.html">
          continue...
        </a>
      </p>
    </section>
  </div>

  <div class="wrapper">
    <section class="front">
      <header>
        <h1>
          <a href="/2014/05/23/avoid-java-static-logger.html">
            Get Rid of Java Static Loggers
          </a>
        </h1>
        <ul class="subline">
          <li>
            <time datetime="2014-05-23T00:00:00+00:00">
              23 May 2014
            </time>
          </li>
          <li>
            148 words
          </li>
          <li>
            
            
              a minute
            
            to read
          </li>
          <li>
            <i class="icon icon-comments"></i>
            <a href="http://www.yegor256.com/2014/05/23/avoid-java-static-logger.html#disqus_thread">comments</a>
          </li>
        </ul>
      </header>
      <div class="main">
        <p>This is a very common practice in Java
(using <a href="http://www.slf4j.org/apidocs/org/slf4j/LoggerFactory.html"><code>LoggerFactory</code></a>
from <a href="http://www.slf4j.org/">slf4j</a>):</p>

<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="kn">import</span> <span class="nn">org.slf4j.LoggerFactory</span><span class="o">;</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Foo</span> <span class="o">{</span>
  <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">Logger</span> <span class="n">LOGGER</span> <span class="o">=</span>
    <span class="n">LoggerFactory</span><span class="o">.</span><span class="na">getLogger</span><span class="o">(</span><span class="n">Foo</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
  <span class="kd">public</span> <span class="kt">void</span> <span class="nf">save</span><span class="o">(</span><span class="n">String</span> <span class="n">file</span><span class="o">)</span> <span class="o">{</span>
    <span class="c1">// save the file</span>
    <span class="k">if</span> <span class="o">(</span><span class="n">Foo</span><span class="o">.</span><span class="na">LOGGER</span><span class="o">.</span><span class="na">isInfoEnabled</span><span class="o">())</span> <span class="o">{</span>
      <span class="n">Foo</span><span class="o">.</span><span class="na">LOGGER</span><span class="o">.</span><span class="na">info</span><span class="o">(</span><span class="s">&quot;file {} saved successfuly&quot;</span><span class="o">,</span> <span class="n">file</span><span class="o">);</span>
    <span class="o">}</span>
  <span class="o">}</span>
<span class="o">}</span></code></pre></figure>

<p>What&#39;s wrong with it? Code duplication.</p>

      </div>
      <p>
        <a href="/2014/05/23/avoid-java-static-logger.html">
          continue...
        </a>
      </p>
    </section>
  </div>


<div class="wrapper">
  <footer>
    <div class="pagination">
      <div style="float: left;">
        
          
            <a href="/p/13"><i class="icon icon-fast-backward"></i></a>
          
        
      </div>
      page 14 of 17
      <div style="float: right;">
        
          <a href="/p/15"><i class="icon icon-fast-forward"></i></a>
        
      </div>
    </div>
  </footer>
</div>


    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
      ga('create', 'UA-1963507-32', 'auto');
      ga('send', 'pageview');
    </script>
  </body>
</html>
