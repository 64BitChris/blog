<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml" lang="en-US"><head><meta charset="utf-8"/><meta name="description" content="Personal blog of Yegor Bugayenko about programming, mostly in Java, but also in PHP, JavaScript, Ruby, Python and Lisp"/><meta name="keywords" content="high quality programming, java, java blog, javascript blog, php blog, programming blog, quality of software, ruby blog, software blog, software development blog, software testing, static analysis, yegor bugayenko blog"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta property="twitter:account_id" content="4503599630178231"/><link rel="icon" type="image/png" href="http://img.yegor256.com/icon-128x128.png"><link rel="shortcut icon" href="//img.yegor256.com/icon-128x128.png"/><link rel="alternate" type="application/rss+xml" title="RSS" href="http://www.yegor256.com/rss.xml"/><link rel="author" href="//plus.google.com/u/0/114792568016408327418?rel=author"/><link rel="stylesheet" href="/css/layout.css?5b4915b"/><link rel="canonical" href="http://www.yegor256.com/p/2/index.html"/> <script src="/js/search.min.js?5b4915b"></script><script src="/js/all.js?5b4915b"></script><title>Yegor Bugayenko About Programming (page 2)</title></head><body><div class="wrapper"> <header class="header"><div> <a href="/about-me.html"> <img src="//img.yegor256.com/yegor-bugayenko.jpg" class="photo" alt="photo"/> </a></div> <nav role="navigation"><ul class="menu"><li><a href="/" title="home page"><i class="ico ico-home"></i></a></li><li><a href="http://www.twitter.com/yegor256" title="follow me in Twitter"><i class="ico ico-tweet"></i></a></li><li><a href="/rss" title="RSS feed"><i class="ico ico-rss"></i></a></li><li><a href="https://github.com/yegor256" title="my Github profile"><i class="ico ico-x-github"></i></a></li><li><a href="http://stackoverflow.com/users/187141/yegor256" title="my StackOverflow profile"><i class="ico ico-x-stackoverflow"></i></a></li><li><a href="https://www.facebook.com/yegor.bugayenko" title="follow me in Facebook"><i class="ico ico-x-facebook"></i></a></li><li><a href="https://plus.google.com/+YegorBugayenko/posts" title="follow me in Google+"><i class="ico ico-x-google"></i></a></li><li><a href="https://www.linkedin.com/in/yegor256" title="my LinkedIn profile"><i class="ico ico-x-linkedin"></i></a></li><li><a href="mailto:yegor@teamed.io" title="yegor@teamed.io"><i class="ico ico-email"></i></a></li></ul><ul class="menu"><li> <a href="/best.html" title="best articles to read">12 best articles</a> (out of <a href="/contents.html" title="blog contents">51</a>)</li></ul> </nav><div id="search"> <input id="search-query" class="field field-text" name="q" placeholder="Search" autocomplete="off"/><div id="search-results" style="display:none"><div class="entries"></div></div></div> <script id="search-results-template" type="text/mustache">
          {{#entries}}
            <div>
              <a href="{{url}}">{{title}}</a>
            </div>
          {{/entries}}
        </script></header></div><div class="wrapper"> <section class="front"><p> <time datetime="2014-07-20T00:00:00+00:00"> 20 July 2014 </time></p> <header><h1> <a href="/2014/07/20/liquibase-in-maven.html"> Liquibase with Maven </a></h1> </header><p><a href="http://www.liquibase.org">Liquibase</a> is a migration management tool for relational databases. It versionalizes schema and data changes in a database; similar to the way Git or SVN works for source code. Thanks to their <a href="http://www.liquibase.org/documentation/maven/">Maven plugin</a>, Liquibase can be used as a part of a build automation scenario.</p><p> <a href="/2014/07/20/liquibase-in-maven.html"> read on... </a></p><p class="gray small desktop-only"> 390 words, two minutes to read</p> </section></div><div class="wrapper"> <section class="front"><p> <time datetime="2014-07-03T00:00:00+00:00"> 3 July 2014 </time></p> <header><h1> <a href="/2014/07/03/how-to-read-manifest-mf.html"> How to Read MANIFEST.MF Files </a></h1> </header> <figure class='badge'><a href='http://manifests.jcabi.com'><img src='http://img.jcabi.com/logo-square.svg' style='width:64px' alt='badge'/></a></figure><p>Every Java package (JAR, WAR, EAR, etc.) has a <a href="http://docs.oracle.com/javase/tutorial/deployment/jar/manifestindex.html"><code>MANIFEST.MF</code></a> file in the <code>META-INF</code> directory. The file contains a list of attributes, which describe this particular package. For example:</p><div class="highlight"><pre><code class="language-text" data-lang="text">Manifest-Version: 1.0
Created-By: 1.7.0_06 (Oracle Corporation)
Main-Class: MyPackage.MyClass</code></pre></div><p>When your application has multiple JAR dependencies, you have multiple <code>MANIFEST.MF</code> files in your class path. All of them have the same location: <code>META-INF/MANIFEST.MF</code>. Very often it is necessary to go through all of them in runtime and find the attribute by its name.</p><p><a href="http://manifests.jcabi.com">jcabi-manifests</a> makes it possible with a one-liner:</p><div class="highlight"><pre><code class="language-java" data-lang="java"><span class="kn">import</span> <span class="nn">com.jcabi.manifests.Manifests</span><span class="o">;</span>
<span class="n">String</span> <span class="n">created</span> <span class="o">=</span> <span class="n">Manifests</span><span class="o">.</span><span class="na">read</span><span class="o">(</span><span class="s">"Created-By"</span><span class="o">);</span></code></pre></div><p> <a href="/2014/07/03/how-to-read-manifest-mf.html"> read on... </a></p><p class="gray small desktop-only"> 325 words, two minutes to read</p> </section></div><div class="wrapper"> <section class="front"><p> <time datetime="2014-06-29T00:00:00+00:00"> 29 June 2014 </time></p> <header><h1> <a href="/2014/06/29/custom-lexer-in-jekyll.html"> Custom Pygments Lexer in Jekyll </a></h1> </header><p>I needed to create a custom syntax highlighting for <a href="http://www.requs.org">requs.org</a> on which I'm using Jekyll for site rendering.</p><p>This is how my code blocks look in markdown pages:</p><div class="highlight"><pre><code class="language-text" data-lang="text">{ % highlight requs %}
User is a "human being".
{ % endhighlight %}</code></pre></div><p>I created a custom <a href="http://pygments.org/docs/lexerdevelopment/">Pygments lexer</a>:</p><p> <a href="/2014/06/29/custom-lexer-in-jekyll.html"> read on... </a></p><p class="gray small desktop-only"> 65 words, a minute to read</p> </section></div><div class="wrapper"> <section class="front"><p> <time datetime="2014-06-26T00:00:00+00:00"> 26 June 2014 </time></p> <header><h1> <a href="/2014/06/26/sass-in-java-webapp.html"> SASS in Java Webapp </a></h1> </header><p><a href="http://sass-lang.com/">SASS</a> is a powerful and very popular language for writing <a href="http://www.w3.org/Style/CSS/Overview.en.html">CSS</a> style sheets. This is how I'm using SASS in my Maven projects.</p><p>First, I change the extensions of <code>.css</code> files to <code>.scss</code> and move them from <code>src/main/webapp/css</code> to <code>src/main/scss</code>.</p><p>Then, I configure the <a href="https://github.com/Jasig/sass-maven-plugin">sass-maven-plugin</a> (get its latest versions in <a href="http://search.maven.org/">Maven Central</a>):</p><div class="highlight"><pre><code class="language-xml" data-lang="xml"><span class="nt">&lt;plugin&gt;</span>
  <span class="nt">&lt;groupId&gt;</span>org.jasig.maven<span class="nt">&lt;/groupId&gt;</span>
  <span class="nt">&lt;artifactId&gt;</span>sass-maven-plugin<span class="nt">&lt;/artifactId&gt;</span>
  <span class="nt">&lt;executions&gt;</span>
    <span class="nt">&lt;execution&gt;</span>
      <span class="nt">&lt;id&gt;</span>generate-css<span class="nt">&lt;/id&gt;</span>
      <span class="nt">&lt;phase&gt;</span>generate-resources<span class="nt">&lt;/phase&gt;</span>
      <span class="nt">&lt;goals&gt;</span>
        <span class="nt">&lt;goal&gt;</span>update-stylesheets<span class="nt">&lt;/goal&gt;</span>
      <span class="nt">&lt;/goals&gt;</span>
      <span class="nt">&lt;configuration&gt;</span>
        <span class="nt">&lt;sassSourceDirectory&gt;</span>${basedir}/src/main/scss<span class="nt">&lt;/sassSourceDirectory&gt;</span>
        <span class="nt">&lt;destination&gt;</span>${project.build.directory}/css<span class="nt">&lt;/destination&gt;</span>
      <span class="nt">&lt;/configuration&gt;</span>
    <span class="nt">&lt;/execution&gt;</span>
  <span class="nt">&lt;/executions&gt;</span>
<span class="nt">&lt;/plugin&gt;</span></code></pre></div><p> <a href="/2014/06/26/sass-in-java-webapp.html"> read on... </a></p><p class="gray small desktop-only"> 111 words, a minute to read</p> </section></div><div class="wrapper"> <section class="front"><p> <time datetime="2014-06-25T00:00:00+00:00"> 25 June 2014 </time></p> <header><h1> <a href="/2014/06/25/xml-and-xslt-in-browser.html"> XML+XSLT in a Browser </a></h1> </header><p><a href="http://en.wikipedia.org/wiki/Separation_of_presentation_and_content">Separating data and their presentation</a> is a great concept. Take HTML and CSS for example. HTML is supposed to have pure data and CSS is supposed to format that data in order to make it readable by a human. Years ago, that was probably the intention of HTML/CSS, but in reality it doesn't work like that. Mostly because CSS is not powerful enough.</p><p>We still have to format our data using HTML tags, while CSS can help slightly with positioning and decorating.</p><p>On the other hand, XML with <a href="http://en.wikipedia.org/wiki/XSLT">XSLT</a> implements perfectly the idea of separating data and presentation. XML documents, like HTML, are supposed to contain data only without any information about positioning or formatting. XSL stylesheets position and decorate the data. XSL is a much more powerful language. That's why it's possible to avoid any formatting inside XML.</p><p>The latest versions of Chrome, Safari, FireFox and IE all support this mechanism. When a browser retrieves an XML document from a server, and the document has an XSL stylesheet <a href="http://www.w3.org/TR/xml-stylesheet/">associated</a> with it — the browser transforms XML into HTML on-fly.</p><p> <a href="/2014/06/25/xml-and-xslt-in-browser.html"> read on... </a></p><p class="gray small desktop-only"> 997 words, four minutes to read</p> </section></div><div class="wrapper"> <section class="front"><p> <time datetime="2014-06-24T00:00:00+00:00"> 24 June 2014 </time></p> <header><h1> <a href="/2014/06/24/jekyll-github-deploy.html"> Deploy Jekyll to Github Pages </a></h1> </header><p>This blog is written in <a href="http://jekyllrb.com/">Jekyll</a> and is hosted at <a href="https://pages.github.com/">Github Pages</a>. It uses half a dozen custom plugins, which <a href="https://help.github.com/articles/using-jekyll-plugins-with-github-pages">are not allowed there</a>.</p><p>Here is how I deploy it:</p><div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ </span>jgd</code></pre></div><p>That's it. <a href="http://rubygems.org/gems/jgd">jgd</a> is my Ruby gem (stands for "Jekyll Github Deploy"), which does the trick. Here is <a href="https://github.com/yegor256/jekyll-github-deploy/blob/master/bash/deploy.sh">what it does</a>:</p><p> <a href="/2014/06/24/jekyll-github-deploy.html"> read on... </a></p><p class="gray small desktop-only"> 191 words, a minute to read</p> </section></div><div class="wrapper"> <section class="front"><p> <time datetime="2014-06-21T00:00:00+00:00"> 21 June 2014 </time></p> <header><h1> <a href="/2014/06/21/casperjs-with-maven.html"> CasperJS Tests in Maven Build </a></h1> </header><p>I'm a big fan of automated testing in general and integration testing in particular. I strongly believe that effort spent on writing tests are direct investments into quality and stability of the product under development.</p><p><a href="http://casperjs.org/">CasperJS</a> is a testing framework on top of <a href="http://phantomjs.org/">PhantomJS</a>, which is a headless browser. Using CasperJS, we can ensure that our application responds correctly to requests sent by a regular web browser.</p><p> <a href="/2014/06/21/casperjs-with-maven.html"> read on... </a></p><p class="gray small desktop-only"> 601 words, three minutes to read</p> </section></div><div class="wrapper"> <section class="front"><p> <time datetime="2014-06-20T00:00:00+00:00"> 20 June 2014 </time></p> <header><h1> <a href="/2014/06/20/limit-method-execution-time.html"> Limit Java Method Execution Time </a></h1> </header> <figure class='badge'><a href='http://aspects.jcabi.com'><img src='http://img.jcabi.com/logo-square.svg' style='width:64px' alt='badge'/></a></figure><p>Say, you want to allow a Java method to work for a maximum of five seconds and want an exception to be thrown if the timeframe is exceeded. Here is how you can do it with <a href="http://aspects.jcabi.com">jcabi-aspects</a> and <a href="http://eclipse.org/aspectj/">AspectJ</a>:</p><div class="highlight"><pre><code class="language-java" data-lang="java"><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Resource</span> <span class="o">{</span>
  <span class="nd">@Timeable</span><span class="o">(</span><span class="n">limit</span> <span class="o">=</span> <span class="mi">5</span><span class="o">,</span> <span class="n">unit</span> <span class="o">=</span> <span class="n">TimeUnit</span><span class="o">.</span><span class="na">SECONDS</span><span class="o">)</span>
  <span class="kd">public</span> <span class="n">String</span> <span class="nf">load</span><span class="o">(</span><span class="n">URL</span> <span class="n">url</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">return</span> <span class="n">url</span><span class="o">.</span><span class="na">openConnection</span><span class="o">().</span><span class="na">getContent</span><span class="o">();</span>
  <span class="o">}</span>
<span class="o">}</span></code></pre></div><p> <a href="/2014/06/20/limit-method-execution-time.html"> read on... </a></p><p class="gray small desktop-only"> 329 words, two minutes to read</p> </section></div><div class="wrapper"> <section class="front"><p> <time datetime="2014-06-19T00:00:00+00:00"> 19 June 2014 </time></p> <header><h1> <a href="/2014/06/19/avoid-string-concatenation.html"> Avoid String Concatenation </a></h1> </header><p>This is "string concatentation", and it is a bad practice:</p><div class="highlight"><pre><code class="language-java" data-lang="java"><span class="c1">// bad practice, don't reuse!</span>
<span class="n">String</span> <span class="n">text</span> <span class="o">=</span> <span class="s">"Hello, "</span> <span class="o">+</span> <span class="n">name</span> <span class="o">+</span> <span class="s">"!"</span><span class="o">;</span></code></pre></div><p>Why? Some may say that it is slow, mostly because parts of the resulting string are copied multiple times. Indeed, on every <code>+</code> operator, <code>String</code> class allocates a new block in memory and copies everything it has into it; plus a suffix being concatenated. This is true, but this is not the point here.</p><p> <a href="/2014/06/19/avoid-string-concatenation.html"> read on... </a></p><p class="gray small desktop-only"> 520 words, two minutes to read</p> </section></div><div class="wrapper"> <section class="front"><p> <time datetime="2014-06-09T00:00:00+00:00"> 9 June 2014 </time></p> <header><h1> <a href="/2014/06/09/objects-should-be-immutable.html"> Objects Should Be Immutable </a></h1> </header><p>In object-oriented programming, an object is <a href="http://en.wikipedia.org/wiki/Immutable_object">immutable</a> if its state can't be modified after it is created.</p><p>In Java, a good example of an immutable object is <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html"><code>String</code></a>. Once created, we can't modify its state. We can request that it creates new strings, but its own state will never change.</p><p>However, there are not so many immutable classes in JDK. Take, for example, class <a href="http://docs.oracle.com/javase/7/docs/api/java/util/Date.html"><code>Date</code></a>. It is possible to modify its state using <code>setTime()</code>.</p><p>I don't know why the JDK designers decided to make these two very similar classes differently. However, I believe that the design of a mutable <code>Date</code> has a many flaws, while the immutable <code>String</code> is much more in the spirit of the object-oriented paradigm.</p><p>Moreover, I think that <strong>all classes should be immutable in a perfect object-oriented world</strong>. Unfortunately, sometimes, it is technically not possible due to limitations in JVM. Nevertheless, we should always aim for the best.</p><p>This is an incomplete list of arguments in favor of immutability:</p><ul><li>immutable objects are simpler to construct, test, and use</li><li>truly immutable objects are always thread-safe</li><li>they help to avoid temporal coupling</li><li>their usage is side-effect free (no defensive copies)</li><li>identity mutability problem is avoided</li><li>they always have failure atomicity</li><li>they are much easier to cache</li><li>they prevent NULL references, <a href="/2014/05/13/why-null-is-bad.html">which are bad</a></li></ul><p>Let's discuss the most important arguments one by one.</p><p> <a href="/2014/06/09/objects-should-be-immutable.html"> read on... </a></p><p class="gray small desktop-only"> 1223 words, five minutes to read</p> </section></div><div class="wrapper"><div class="pagination"><div style="float:left"> <a href="/"><i class="ico ico-back"></i></a></div> page 2 of 6<div style="float:right"> <a href="/p/3"><i class="ico ico-forward"></i></a></div></div></div></body></html>