function valid_email(e){"use strict";var t=/^(([^<>()\[\]\\.,;:\s@\"]+(\.[^<>()\[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return t.test(e)}function send_email(e,t,a,n,o,s){"use strict";$.ajax({type:"POST",url:"https://mandrillapp.com/api/1.0/messages/send.json",data:{key:"GMfq6HmqFFR4HGCVfIu6Zw",message:{from_email:t,to:[{email:"blog@yegor256.com",name:"Yegor Bugayenko",type:"to"}],text:"Hi,\n\n"+a+"\n\nEmail: "+t+"\n\nThanks\n\n--\nsent through the form",subject:n,auto_html:!0,important:!0}},success:o,error:s})}$(function(){"use strict";var e=encodeURIComponent(document.location.href);$.getJSON("http://free.sharedcount.com/?apikey=d730c518430eabcabc46ab79528c744067afa17e&url="+e,function(e){0!==e.Facebook.total_count&&$(".count-facebook").html(e.Facebook.total_count).fadeIn(),0!==e.Twitter&&$(".count-twitter").html(e.Twitter).fadeIn(),0!==e.GooglePlusOne&&$(".count-googleplus").html(e.GooglePlusOne).fadeIn(),0!==e.LinkedIn&&$(".count-linkedin").html(e.LinkedIn).fadeIn(),0!==e.StumbleUpon&&$(".count-stumbleupon").html(e.StumbleUpon).fadeIn()}),$.getJSON("http://www.reddit.com/api/info.json?jsonp=?&url="+e,function(e){var t=e.data.children.length;t>0&&$(".count-reddit").html(t).fadeIn()}),$.getJSON("http://feeds.delicious.com/v2/json/urlinfo/data?url="+e+"&callback=?",function(e){var t=0;e.length>0&&(t=e[0].total_posts),0!==t&&$(".count-delicious").html(e[0].total_posts).fadeIn()})}),$(function(){"use strict";$("#search-query").lunrSearch({indexUrl:"/search.json",results:"#search-results",entries:".entries",template:"#search-results-template"}),$(".main a").each(function(){var e=$(this),t=new URL(this.href).hostname;t&&t!==window.location.hostname&&e.append('<i class="icon icon-exit foreign"></i>')}),$(".button").click(function(e){e.preventDefault();var t=$(this);window.open(t.attr("href"),t.attr("title"),"width=640,height=300")}),$("h2").each(function(e,t){var a=$(t),n=a.attr("id");n&&a.append($("<a/>").addClass("link").attr("href","#"+n).append('<i class="icon icon-link"></i>'))}),$("#subscribe").click(function(e){var t=$(this),a=$("#error"),n=$("#email").val(),o=$("#reason").val();n?valid_email(n)?o?(a.text(""),t.attr("disabled","disabled"),t.html("Please, wait..."),e.preventDefault(),send_email(t,n,"I'd like to receive monthly updates from yegor256.com, please add me to the list of subscribers.\n\n"+o,"I would like to receive monthly updates",function(){$("#form").html('<p class="green"><b>Many thanks!</b> Your request was sent. I\'ll reply by email to <code>'+n+"</code>.</p>")},function(){t.attr("disabled",""),t.html("Oops :( Try again...")})):a.text("I really want to know who you are"):a.text("Email address doesn't look correct"):a.text("No email... What do you mean?")}),$("#unsubscribe").click(function(e){var t=$(this),a=$("#error"),n=$("#email").val();n?valid_email(n)?(a.text(""),t.attr("disabled","disabled"),t.html("Please, wait..."),e.preventDefault(),send_email(t,n,"I'd like to opt-out from your monthly updates from yegor256.com, please remove me from the list of subscribers.","I would like to OPT-OUT from your monthly updates",function(){$("#form").html('<p class="green"><b>Thanks</b>, your request was sent. You will <strong>not</strong> receive any more emails from me to this address: <code>'+n+"</code>.</p>")},function(){t.attr("disabled",""),t.html("Oops :( Try again...")})):a.text("Email address doesn't look correct"):a.text("No email... Please provide your address")}),$("#email").ready(function(){var e=window.location.search,t=e.match(/email=([^&]+)/);null!==t&&$("#email").val(t[1])})}),$(function(){"use strict";var e=[];e.push(["_setAccount","UA-1963507-32"]),e.push(["_trackPageview"]),function(){var e=document.createElement("script"),t=document.getElementsByTagName("script")[0];e.type="text/javascript",e.async=!0,e.src=("https:"===document.location.protocol?"https://":"http://")+"stats.g.doubleclick.net/dc.js",t.parentNode.insertBefore(e,t)}()}),$(function(){"use strict";var e="yegor256";!function(){var t=document.createElement("script");t.async=!0,t.type="text/javascript",t.src="//"+e+".disqus.com/count.js",(document.getElementsByTagName("HEAD")[0]||document.getElementsByTagName("BODY")[0]).appendChild(t)}(),function(){var t=document.createElement("script");t.type="text/javascript",t.async=!0,t.src="//"+e+".disqus.com/embed.js",(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(t)}()}),$(function(){"use strict";!function(e,t,a){(t[a]=t[a]||[]).push(function(){try{t.yaCounter26361360=new Ya.Metrika({id:26361360,webvisor:!0,clickmap:!0,trackLinks:!0,accurateTrackBounce:!0})}catch(e){}});var n=e.getElementsByTagName("script")[0],o=e.createElement("script"),s=function(){n.parentNode.insertBefore(o,n)};o.type="text/javascript",o.async=!0,o.src=("https:"===e.location.protocol?"https:":"http:")+"//mc.yandex.ru/metrika/watch.js","[object Opera]"===t.opera?e.addEventListener("DOMContentLoaded",s,!1):s()}(document,window,"yandex_metrika_callbacks")});