<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml" lang="en-US"><head><meta charset="utf-8"/><meta name="description" content="Patent-pending methodology of breaking down big tasks
into smaller ones is explained in the article, by example in Java
"/><meta name="keywords" content="agile programming, distributed programming, extreme programming, pdd, puzzle driven development"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta property="twitter:account_id" content="4503599630178231"/><meta name="blogcatalog" content="37407fab23a5d309f7bb5ef9fd22c6d5"/><link rel="shortcut icon" href="/favicon.ico?dfda9eb"><link rel="alternate" type="application/rss+xml" title="RSS for yegor256.com" href="http://www.yegor256.com/rss.xml"/><link rel="author" href="//plus.google.com/u/0/114792568016408327418?rel=author"/><link rel="stylesheet" href="/css/layout.css?dfda9eb"/><link rel="canonical" href="http://www.yegor256.com/2009/03/04/pdd.html"/><title>Puzzle Driven Development</title></head><body><div class="wrapper"> <header class="header"><div> <a href="/about-me.html"> <img src="/images/yegor-bugayenko.png" class="photo" alt="photo"/> </a></div> <nav role="navigation"><ul class="menu social"><li><a href="http://www.twitter.com/yegor256" title="follow me in Twitter"><i class="icon icon-twitter"></i></a></li><li><a href="/rss" title="RSS feed"><i class="icon icon-rss"></i></a></li><li><a href="https://github.com/yegor256" title="my Github profile"><i class="icon icon-github"></i></a></li><li><a href="http://stackoverflow.com/users/187141/yegor256" title="my StackOverflow profile"><i class="icon icon-stackoverflow"></i></a></li><li><a href="https://www.facebook.com/yegor.bugayenko" title="follow me in Facebook"><i class="icon icon-facebook"></i></a></li><li><a href="https://plus.google.com/+YegorBugayenko/posts" title="follow me in Google+"><i class="icon icon-googleplus"></i></a></li><li><a href="https://www.linkedin.com/in/yegor256" title="my LinkedIn profile"><i class="icon icon-linkedin"></i></a></li><li><a href="http://www.youtube.com/user/yegor256a" title="my Youtube video channel"><i class="icon icon-youtube"></i></a></li><li><a href="mailto:yegor@teamed.io" title="yegor@teamed.io"><i class="icon icon-mail"></i></a></li></ul><ul class="menu"><li> <a href="/best.html" title="best articles to read">12 best articles</a> (out of <a href="/contents.html" title="blog contents">65</a>) <a href="/" title="home page">home</a></li></ul> </nav><div id="search"> <input id="search-query" class="field field-text" name="q" placeholder="Search" autocomplete="off"/><div id="search-results" style="display:none"><div class="entries"></div></div></div> <script id="search-results-template" type="text/mustache">
          {{#entries}}
            <div>
              <a href="{{url}}">{{title}}</a>
            </div>
          {{/entries}}
        </script></header></div> <section itemscope itemtype="http://schema.org/BlogPosting"><div class="wrapper"><p> <time itemprop="datePublished" datetime="2009-03-04T00:00:00+00:00"> 4 March 2009 </time></p> <header><h1 itemprop="name">Puzzle Driven Development</h1> </header><p><a href="/tag/pdd.html" class='tag'>pdd</a></p><div class="buttons"> <nav class="share" role="navigation"> <a href="http://www.facebook.com/sharer/sharer.php?u=http://www.yegor256.com/2009/03/04/pdd.html" title="Share on Facebook" class="button"> <span class="count count-facebook">0</span> <i class="icon icon-facebook"></i> </a> <a href="https://twitter.com/share?url=http://www.yegor256.com/2009/03/04/pdd.html&amp;text=Puzzle+Driven+Development" title="Share on Twitter" class="button"> <span class="count count-twitter">0</span> <i class="icon icon-twitter"></i> </a> <a href="https://plus.google.com/share?url=http://www.yegor256.com/2009/03/04/pdd.html" title="Share on Google+" class="button"> <span class="count count-googleplus">0</span> <i class="icon icon-googleplus"></i> </a> <a href="https://www.linkedin.com/cws/share?url=http://www.yegor256.com/2009/03/04/pdd.html" title="Share on LinkedIn" class="button"> <span class="count count-linkedin">0</span> <i class="icon icon-linkedin"></i> </a> <a href="http://www.stumbleupon.com/submit?url=http://www.yegor256.com/2009/03/04/pdd.html&amp;title=Puzzle Driven Development" title="Share on StumbleUpon" class="button"> <span class="count count-stumbleupon">0</span> <i class="icon icon-stumbleupon"></i> </a> <a href="http://del.icio.us/post?url=http://www.yegor256.com/2009/03/04/pdd.html&amp;title=Puzzle Driven Development" title="Share on Delicious" class="button"> <span class="count count-delicious">0</span> <i class="icon icon-delicious"></i> </a> <a href="http://digg.com/submit?phase=2&amp;url=http://www.yegor256.com/2009/03/04/pdd.html&amp;title=Puzzle Driven Development" title="Share on Digg" class="button"> <span class="count count-digg">0</span> <i class="icon icon-digg"></i> </a> <a href="http://reddit.com/submit?url=http://www.yegor256.com/2009/03/04/pdd.html&amp;title=Puzzle Driven Development" title="Share on Reddit" class="button"> <span class="count count-reddit">0</span> <i class="icon icon-reddit"></i> </a> <a href="http://news.ycombinator.com/submitlink?u=http://www.yegor256.com/2009/03/04/pdd.html&amp;t=Puzzle Driven Development" title="Share on Hacker News" class="button"> <i class="icon icon-hackernews"></i> </a> </nav></div> <main role="main"> <article role="article" itemprop="articleBody"><p>PDD, or Puzzle Driven Development, is a method used to break down programming tasks into smaller ones and enable their implementation in parallel. The PDD method is used widely in <a href="http://www.xdsd.org">XDSD</a> methodology. The method is pending a USPTO patent (application no. <a href="http://www.google.com/patents/US20120023476">12/840,306</a>).</p><p>Let's review the method with an example. Say, for instance, you are a programmer and have been tasked to design and implement a Java class. This is the formal task description: "class <code>DBWriter</code> has to extend <code>java.io.Writer</code> abstract class and save all incoming data into the database".</p><p>You have one hour to implement this task. It is obvious to you that one hour is not enough because the problem is much bigger and requires more work than the slotted time allows. Additionally, there are a numerous unknowns:</p><ul><li>What information do we need to save, and in what format?</li><li>What is the DB schema? Is it an SQL or NoSQL database?</li><li>How to connect to the DB? JDBC? JPA? DAO?</li><li>How to handle exceptions?</li></ul><p>Let's keep all these unknowns in mind as we try to solve the problem on the highest level of abstraction. Of course, we start with a test:</p><div class="highlight"><pre><code class="language-java" data-lang="java"><span class="kn">import</span> <span class="nn">org.junit.*</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">static</span> <span class="n">org</span><span class="o">.</span><span class="na">mockito</span><span class="o">.</span><span class="na">Mockito</span><span class="o">.*;</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">DBWriterTest</span> <span class="o">{</span>
  <span class="nd">@Test</span>
  <span class="kt">void</span> <span class="nf">testSavesDataIntoDatabase</span><span class="o">()</span> <span class="kd">throws</span> <span class="n">Exception</span> <span class="o">{</span>
    <span class="n">DataBridge</span> <span class="n">mapper</span> <span class="o">=</span> <span class="n">mock</span><span class="o">(</span><span class="n">DataBridge</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
    <span class="n">Writer</span> <span class="n">writer</span> <span class="o">=</span> <span class="k">new</span> <span class="nf">DBWriter</span><span class="o">(</span><span class="n">mapper</span><span class="o">);</span>
    <span class="k">try</span> <span class="o">{</span>
      <span class="n">writer</span><span class="o">.</span><span class="na">write</span><span class="o">(</span><span class="s">"hello, world!"</span><span class="o">);</span>
    <span class="o">}</span> <span class="k">finally</span> <span class="o">{</span>
      <span class="n">writer</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>
    <span class="o">}</span>
    <span class="n">verify</span><span class="o">(</span><span class="n">mapper</span><span class="o">).</span><span class="na">insert</span><span class="o">(</span><span class="s">"hello, world!"</span><span class="o">);</span>
  <span class="o">}</span>
<span class="o">}</span></code></pre></div><p>In the above test, we define the expected behavior of the class. The test fails to compile because there are two missing classes: <code>DataBridge</code> and <code>DBWriter</code>. Let's implement the bridge first:</p><div class="highlight"><pre><code class="language-java" data-lang="java"><span class="kn">import</span> <span class="nn">java.io.IOException</span><span class="o">;</span>
<span class="kd">public</span> <span class="kd">interface</span> <span class="nc">DataBridge</span> <span class="o">{</span>
  <span class="kt">void</span> <span class="nf">insert</span><span class="o">(</span><span class="n">String</span> <span class="n">text</span><span class="o">)</span> <span class="kd">throws</span> <span class="n">IOException</span><span class="o">;</span>
<span class="o">}</span></code></pre></div><p>Next, the writer itself:</p><div class="highlight"><pre><code class="language-java" data-lang="java"><span class="kn">import</span> <span class="nn">java.io.IOException</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.Writer</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.utils.Arrays</span><span class="o">;</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">DBWriter</span> <span class="kd">implements</span> <span class="n">Writer</span> <span class="o">{</span>
  <span class="kd">private</span> <span class="n">DataBridge</span> <span class="n">bridge</span><span class="o">;</span>
  <span class="kd">public</span> <span class="nf">DBWriter</span><span class="o">(</span><span class="n">DataBridge</span> <span class="n">brdg</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">this</span><span class="o">.</span><span class="na">bridge</span> <span class="o">=</span> <span class="n">brdg</span><span class="o">;</span>
  <span class="o">}</span>
  <span class="nd">@Override</span>
  <span class="kt">void</span> <span class="nf">flush</span><span class="o">()</span> <span class="kd">throws</span> <span class="n">IOException</span> <span class="o">{</span>
  <span class="o">}</span>
  <span class="nd">@Override</span>
  <span class="kt">void</span> <span class="nf">close</span><span class="o">()</span> <span class="kd">throws</span> <span class="n">IOException</span> <span class="o">{</span>
  <span class="o">}</span>
  <span class="nd">@Override</span>
  <span class="kt">void</span> <span class="nf">write</span><span class="o">(</span><span class="kt">char</span><span class="o">[]</span> <span class="n">cbuf</span><span class="o">,</span> <span class="kt">int</span> <span class="n">off</span><span class="o">,</span> <span class="kt">int</span> <span class="n">len</span><span class="o">)</span> <span class="kd">throws</span> <span class="n">IOException</span> <span class="o">{</span>
    <span class="n">String</span> <span class="n">data</span> <span class="o">=</span> <span class="k">new</span> <span class="nf">String</span><span class="o">(</span><span class="n">Arrays</span><span class="o">.</span><span class="na">copyOfRange</span><span class="o">(</span><span class="n">cbuf</span><span class="o">,</span> <span class="n">off</span><span class="o">,</span> <span class="n">off</span> <span class="o">+</span> <span class="n">len</span><span class="o">));</span>
    <span class="k">this</span><span class="o">.</span><span class="na">bridge</span><span class="o">.</span><span class="na">insert</span><span class="o">(</span><span class="n">data</span><span class="o">);</span>
  <span class="o">}</span>
<span class="o">}</span></code></pre></div><p>Using the above code, we solve the problem. In the example, we successfully designed, implemented and tested the required <code>DBWriter</code> class. Subsequently, the class can now immediately can be used "as is" by other classes.</p><p>Of course, the implementation is not finished, since we are not writing anything to the database. Furthermore, we still aren't answering the majority of questions asked in the sample scneario. For instance, we still don't know exactly how the database needs to be connected, its type (SQL or NoSQL,) the correct data format and so on. However, we've already made a number of important architectural assumptions, which allowed us to implement the class and make it usable by other classes.</p><p>Now it's time to identify the unknowns in our code and mark them with puzzles. Every puzzle is a request for refinement. We want to ask someone else to help us refine and correct our assumptions. Here is the first puzzle we need to add:</p><div class="highlight"><pre><code class="language-java" data-lang="java"><span class="kd">public</span> <span class="kd">interface</span> <span class="nc">DataBridge</span> <span class="o">{</span>
  <span class="cm">/**</span>
<span class="cm">   * @todo #123 I assumed that a simple insert() method will be</span>
<span class="cm">   *  enough to insert data into the database. Maybe it's</span>
<span class="cm">   *  not true, and some sort of transaction support may be</span>
<span class="cm">   *  required. We should implement this interface and create</span>
<span class="cm">   *  an integration test with a database.</span>
<span class="cm">   */</span>
  <span class="kt">void</span> <span class="nf">insert</span><span class="o">(</span><span class="n">String</span> <span class="n">text</span><span class="o">)</span> <span class="kd">throws</span> <span class="n">IOException</span> <span class="o">{</span>
  <span class="o">}</span>
<span class="o">}</span></code></pre></div><p>The puzzle has three elements: <code>@todo</code> tag, <code>#123</code> locator and a comment. Locator displays the following: "The puzzle was created while working with ticket #123".</p><p>Let’s add one more puzzle:</p><div class="highlight"><pre><code class="language-java" data-lang="java"><span class="kt">void</span> <span class="nf">write</span><span class="o">(</span><span class="kt">char</span><span class="o">[]</span> <span class="n">cbuf</span><span class="o">,</span> <span class="kt">int</span> <span class="n">off</span><span class="o">,</span> <span class="kt">int</span> <span class="n">len</span><span class="o">)</span> <span class="kd">throws</span> <span class="n">IOException</span> <span class="o">{</span>
  <span class="c1">// @todo #123 I assumed that the data should be sent to the database</span>
  <span class="c1">//  as its received by the writer. Maybe this assumption</span>
  <span class="c1">//  is wrong and we should aggregate data into blocks/chunks</span>
  <span class="c1">//  and then send them to the data bridge.</span>
  <span class="n">String</span> <span class="n">data</span> <span class="o">=</span> <span class="k">new</span> <span class="nf">String</span><span class="o">(</span><span class="n">Arrays</span><span class="o">.</span><span class="na">copyOfRange</span><span class="o">(</span><span class="n">cbuf</span><span class="o">,</span> <span class="n">off</span><span class="o">,</span> <span class="n">off</span> <span class="o">+</span> <span class="n">len</span><span class="o">));</span>
  <span class="k">this</span><span class="o">.</span><span class="na">bridge</span><span class="o">.</span><span class="na">insert</span><span class="o">(</span><span class="n">data</span><span class="o">);</span>
<span class="o">}</span></code></pre></div><p>This puzzle indicates one of our concerns because we are not sure that the architectural decision is right. Actually, the design is very primitive at the moment and very likely to be incorrect. To refine it and refactor, we require more information from the task specifier.</p><p>The task is finished. Now, you can reintegrate your branch into <code>master</code> and return the ticket to whoever assigned it to you. His task now is to find other people who will be able to resolve the puzzles we just created.</p><p>Every puzzle created now will produce other puzzles, which will be resolved by other people. Consequtly, our simple one-hour task can potentially generate hundreds of other tasks, which may take days or even years to complete. Nevertheless, your goal of working with your specific task is to finish it as soon as possible and reintegrate your branch into <code>master</code>.</p><h2 id="best-practices">Best Practices</h2><p>There are a few simple rules that help you to place puzzles correctly.</p><p>First, you should put your <code>@todo</code> annotations at the point where your code hits a stub. For example, in a unit test. You're implementing a test and it fails because the class has not yet been implemented. You skip the test with the <code>@Ignore</code> annotation and add a <code>@todo</code> puzzle to its Javadoc.</p><p>Second, your puzzle should remain as near as possible to the code element that is hitting the stub. Say thay you have a unit test that has three test methods. All of them fail now because the class has not been implemented. The best approach would be to ignore every one of them and create three (!) puzzles. Each one of the puzzles should explain what you expect from the class and how it should be implemented.</p><p>Third, be as descriptive as possible. Your puzzle will soon be a task definition for someone else. So, explain clearly what you expect the next person to implement, how to do it, which documentation to use and so on and so forth. There should be enough information present that the next person assigned to the puzzles is ables implement your required classes without additional input from you!</p><p>BTW, puzzle collection process can be automated by means of our <a href="https://github.com/teamed/pdd">PDD Ruby gem</a>.</p></article> </main><h2>Related Posts</h2><p>You may also find these posts interesting:</p><ul><li><a href="/2014/04/12/puzzle-driven-development-by-roles.html">PDD by Roles</a></li></ul></div><div class="disqus" role="complementary"><div id="disqus_thread"></div> <noscript> Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a> </noscript> <a href="http://disqus.com" class="dsq-brlink"> comments powered by <span class="logo-disqus">Disqus</span> </a></div><div class="wrapper"> <footer class="footer"><p> © <span itemprop="author">Yegor Bugayenko</span>, 2014</p> </footer></div></section><script src="//code.jquery.com/jquery-2.1.0.min.js"></script><script src="/js/search.min.js?dfda9eb"></script><script src="/js/all.js?dfda9eb"></script></body></html>