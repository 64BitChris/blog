<!DOCTYPE html>
<html âš¡ lang="en">
  <head>
    <meta charset="utf-8">
    <title>How Much Your Objects Encapsulate?</title>
    <link rel="canonical" href="http://www.yegor256.com/2014/12/15/how-much-your-objects-encapsulate.html" />
    <meta name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1">
    <script type='application/ld+json'>
      {
        "@context": "http://schema.org",
        "@type": "BlogPosting",
        "mainEntityOfPage":{
          "@type": "WebPage",
          "@id": "http://www.yegor256.com/2014/12/15/how-much-your-objects-encapsulate.html"
        },
        "headline": "How Much Your Objects Encapsulate?",
        "image": {
          "@type": "ImageObject",
          "url": "http://img.teamed.io/face-1400x1400.jpg",
          "height": 1400,
          "width": 1400
        },
        "datePublished": "2014-12-15",
        "dateModified": "2014-12-15",
        "author": {
          "@type": "Person",
          "name": "Yegor Bugayenko"
        },
        "publisher": {
          "@type": "Organization",
          "name": "yegor256.com",
          "logo": {
            "@type": "ImageObject",
            "url": "http://img.teamed.io/face-512x512.jpg",
            "width": 512,
            "height": 512
          }
        },
        "description": "How much should an object encapsulate and how much should
it receive through its methods? If you encapsulate too little, your
level of abstraction it too high.
",
        "keywords": ["object design", "good object design", "encapsulation", "object constructor", "object method vs constructor"]
      }
    </script>
    <style amp-boilerplate>body{-webkit-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-moz-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-ms-animation:-amp-start 8s steps(1,end) 0s 1 normal both;animation:-amp-start 8s steps(1,end) 0s 1 normal both}@-webkit-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-moz-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-ms-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-o-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}</style><noscript><style amp-boilerplate>body{-webkit-animation:none;-moz-animation:none;-ms-animation:none;animation:none}</style></noscript>
    <style amp-custom="amp-custom">
      body { padding: 2em; }
      article { width: 600px; max-width: 100%; margin-left: auto; margin-right: auto; }
    </style>
    <script async src="https://cdn.ampproject.org/v0.js"></script>
  </head>
  <body>
    <article>
      <h1>How Much Your Objects Encapsulate?</h1>
      <p>Which line do you like more, the first or the second:</p>

<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="k">new</span> <span class="nf">HTTP</span><span class="o">(</span><span class="s">&quot;http://www.google.com&quot;</span><span class="o">).</span><span class="na">read</span><span class="o">();</span>
<span class="k">new</span> <span class="nf">HTTP</span><span class="o">().</span><span class="na">read</span><span class="o">(</span><span class="s">&quot;http://www.google.com&quot;</span><span class="o">);</span></code></pre></figure>

<p>What is the difference? The first class <code>HTTP</code> encapsulates a URL,
while the second one expects it as an argument of method <code>read()</code>. Technically,
both objects do exactly the same thing: they read the content of the Google home page.
Which one is the right design? Usually I hate to say this, but in
this case I have to &mdash; it depends.</p>

<!--more-->

The Truman Show (1998) by Peter Weir

<p>As <a href="/2014/11/20/seven-virtues-of-good-object.html">we discussed before</a>,
a good object is a representative of a real-life entity. Such an entity
exists outside of the object&#39;s living environment. The object knows
how to access it and how to communicate with it.</p>

<p>What is that real-life entity in the example above? Each class
gives its own answer. And the answer is given by the list
of arguments its constructors accept. The first class accepts
a single URL as an argument of its constructor. This tells us
that the object of this class, after being constructed, will represent
a web page. The second class accepts no arguments, which tells us
that the object of it will represent ... the Universe.</p>

<p>I think this principle is applicable to all classes in
object-oriented programming &mdash; in order to understand what
real-life entity an object represents, look at its constructor. All
arguments passed into the constructor and encapsulated by the object identify
a real-life entity accessed and managed by the object.</p>

<p>Of course, I&#39;m talking about
<a href="/2014/11/20/seven-virtues-of-good-object.html">good objects</a>,
which are immutable and
<a href="/2014/09/16/getters-and-setters-are-evil.html">don&#39;t have setters and getters</a>.</p>

<p>Pay attention that I&#39;m talking about arguments encapsulated by the object. The
following class doesn&#39;t represent the Universe, even though it does have
a no-arguments constructor:</p>

<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="kd">class</span> <span class="nc">Time</span> <span class="o">{</span>
  <span class="kd">private</span> <span class="kd">final</span> <span class="kt">long</span> <span class="n">msec</span><span class="o">;</span>
  <span class="kd">public</span> <span class="nf">Time</span><span class="o">()</span> <span class="o">{</span>
    <span class="k">this</span><span class="o">(</span><span class="n">System</span><span class="o">.</span><span class="na">currentTimeMillis</span><span class="o">());</span>
  <span class="o">}</span>
  <span class="kd">public</span> <span class="nf">Time</span><span class="o">(</span><span class="kt">long</span> <span class="n">time</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">this</span><span class="o">.</span><span class="na">msec</span> <span class="o">=</span> <span class="n">time</span><span class="o">;</span>
  <span class="o">}</span>
<span class="o">}</span></code></pre></figure>

<p>This class has two constructors. One of them is the main one, and one is
supplementary. We&#39;re interested in the main one, which implements
the <em>encapsulation</em> of arguments.</p>

<p>Now, the question is which is better: to represent a web page
or the Universe? It depends, but I think that in general, the smaller the
real-life entity we represent, the more solid and cohesive design
we give to the object.</p>

<p>On the other hand, sometimes we have to have an object that represents
the Universe. For example, we may have this:</p>

<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="kd">class</span> <span class="nc">HTTP</span> <span class="o">{</span>
  <span class="kd">public</span> <span class="n">String</span> <span class="nf">read</span><span class="o">(</span><span class="n">String</span> <span class="n">url</span><span class="o">)</span> <span class="o">{</span>
    <span class="c1">// read via HTTP and return</span>
  <span class="o">}</span>
  <span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">online</span><span class="o">()</span> <span class="o">{</span>
    <span class="c1">// check whether we&#39;re online</span>
  <span class="o">}</span>
<span class="o">}</span></code></pre></figure>

<p>This is not an elegant design, but it demonstrates when it may be
necessary to represent the entire Universe. An object of this <code>HTTP</code> class can read
any web page from the entire web (it is almost as big as the Universe, isn&#39;t it?),
and it can check whether the entire web is accessible by it. Obviously,
in this case, we don&#39;t need it to encapsulate anything.</p>

<p>I believe that objects representing the Universe are not good objects,
mostly because there is only one Universe; why do we need many
representatives of it? :)</p>

    </article>
  </body>
</html>
