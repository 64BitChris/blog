<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml" lang="en-US"><head><meta charset="utf-8"/><meta name="description" content="How much should an object encapsulate and how much should it receive through its methods? If you encapsulate too little, your level of abstraction it too high."/><meta name="keywords" content="encapsulation, good object design, object constructor, object design, object method vs constructor"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta property="twitter:account_id" content="4503599630178231"/><link rel="search" type="application/opensearchdescription+xml" href="opensearch.xml" title="yegor256"/><link rel="shortcut icon" href="/favicon.ico?a290059"/><link rel="alternate" type="application/rss+xml" title="RSS for yegor256.com" href="http://www.yegor256.com/rss.xml"/><link rel="author" href="http://plus.google.com/u/0/114792568016408327418?rel=author"/><link rel="stylesheet" href="/css/layout.css?a290059"/><link rel="stylesheet" href="//img.teamed.io/yegor256/icons.css?a290059"/><link rel="canonical" href="http://www.yegor256.com/2014/12/15/how-much-your-objects-encapsulate.html"/><title>How Much Your Objects Encapsulate? - Yegor Bugayenko</title></head><body><div class="wrapper"> <header class="header"><div> <a href="/about-me.html"> <img src="/images/yegor-bugayenko.png" class="photo" alt="photo"/> </a></div> <nav role="navigation"><ul class="menu social notranslate"><li><a href="http://www.twitter.com/yegor256" title="follow me in Twitter"><i class="icon icon-twitter notranslate" aria-hidden="true"></i></a></li><li><a href="/rss" title="RSS feed"><i class="icon icon-rss notranslate" aria-hidden="true"></i></a></li><li><a href="https://github.com/yegor256" title="my Github profile"><i class="icon icon-github notranslate" aria-hidden="true"></i></a></li><li><a href="http://stackoverflow.com/users/187141/yegor256" title="my StackOverflow profile"><i class="icon icon-stackoverflow notranslate" aria-hidden="true"></i></a></li><li><a href="https://www.facebook.com/yegor.bugayenko" title="follow me in Facebook"><i class="icon icon-facebook notranslate" aria-hidden="true"></i></a></li><li><a href="https://plus.google.com/+YegorBugayenko/posts" title="follow me in Google+"><i class="icon icon-googleplus notranslate" aria-hidden="true"></i></a></li><li><a href="https://www.linkedin.com/in/yegor256" title="my LinkedIn profile"><i class="icon icon-linkedin notranslate" aria-hidden="true"></i></a></li><li><a href="http://www.youtube.com/user/technoparkcorp" title="my Youtube video channel"><i class="icon icon-youtube notranslate" aria-hidden="true"></i></a></li><li><a href="mailto:yegor@teamed.io" title="yegor@teamed.io"><i class="icon icon-mail notranslate" aria-hidden="true"></i></a></li></ul><ul class="menu"><li> <a href="/best.html" title="best articles to read">12 best articles</a> · <a href="/contents.html" title="blog contents">all 110</a> · <a href="/" title="home page">home page</a></li></ul><ul class="menu"><li> Win <strong style="font-size:2em;color:#81b341"> <a href="/award.html" title="software quality award">$4,096</a> </strong> for Your Open Source Project!</li></ul> </nav><div id="search"> <input id="search-query" class="field field-text" name="q" placeholder="Search" autocomplete="off"/><div id="search-results" style="display:none"><div class="entries"></div></div></div><div style="color:#fab319;text-align:left;margin:2em 0"> <img src="/images/2015/05/webinar-2.jpg" style="width:64px;height:64px;float:left;margin-right:1em" alt="webinar logo"/> Don't miss the <a href="https://plus.google.com/events/ce8vv0tp2ri3p5gm7k6m4ban5d0"><strong>second webinar</strong></a> on the 6th of May, at 11am PST; it will take one hour and we'll talk about <a href="https://plus.google.com/events/ce8vv0tp2ri3p5gm7k6m4ban5d0">"Immutable Objects vs. Common Sense"</a>.</div> <script id="search-results-template" type="text/mustache">
          {{#entries}}
            <div>
              <a href="{{url}}">{{title}}</a>
            </div>
          {{/entries}}
        </script></header></div> <section itemscope itemtype="http://schema.org/BlogPosting"><div class="wrapper"> <header><p class="printable"> <code>http://www.yegor256.com/2014/12/15/how-much-your-objects-encapsulate.html</code></p><h1 itemprop="name">How Much Your Objects Encapsulate?</h1><ul class="subline"><li> <time itemprop="datePublished" datetime="2014-12-15T00:00:00+00:00"> 15 December 2014 </time></li><li><a href='https://github.com/yegor256/blog/commits/master/_posts/2014/dec/2014-12-15-how-much-your-objects-encapsulate.md'>modified</a> on <time itemprop='dateModified' datetime='2014-12-15T07:23:46+0000'>15 December 2014</time></li><li class="printable">Yegor Bugayenko</li><li class="unprintable"> <i class="icon icon-comments"></i> <a href="http://www.yegor256.com/2014/12/15/how-much-your-objects-encapsulate.html#disqus_thread">comments</a></li></ul><p class="unprintable"><a href='/tag/oop.html' class='tag notranslate'>oop</a></p><div class="buttons notranslate desktop-only"> <nav class="share" role="navigation"> <a href="http://www.facebook.com/sharer/sharer.php?u=http://www.yegor256.com/2014/12/15/how-much-your-objects-encapsulate.html" title="Share on Facebook" class="button"> <span class="count count-facebook">0</span> <i class="icon icon-facebook notranslate" aria-hidden="true"></i> </a> <a href="https://twitter.com/share?url=http://www.yegor256.com/2014/12/15/how-much-your-objects-encapsulate.html&amp;text=How+Much+Your+Objects+Encapsulate%3F" title="Share on Twitter" class="button"> <span class="count count-twitter">0</span> <i class="icon icon-twitter notranslate" aria-hidden="true"></i> </a> <a href="https://plus.google.com/share?url=http://www.yegor256.com/2014/12/15/how-much-your-objects-encapsulate.html" title="Share on Google+" class="button"> <span class="count count-googleplus">0</span> <i class="icon icon-googleplus notranslate" aria-hidden="true"></i> </a> <a href="https://www.linkedin.com/cws/share?url=http://www.yegor256.com/2014/12/15/how-much-your-objects-encapsulate.html" title="Share on LinkedIn" class="button"> <span class="count count-linkedin">0</span> <i class="icon icon-linkedin notranslate" aria-hidden="true"></i> </a> <a href="http://www.stumbleupon.com/submit?url=http://www.yegor256.com/2014/12/15/how-much-your-objects-encapsulate.html&amp;title=How+Much+Your+Objects+Encapsulate%3F" title="Share on StumbleUpon" class="button"> <span class="count count-stumbleupon">0</span> <i class="icon icon-stumbleupon notranslate" aria-hidden="true"></i> </a> <a href="http://reddit.com/submit?url=http://www.yegor256.com/2014/12/15/how-much-your-objects-encapsulate.html%3F2014-50&amp;title=How+Much+Your+Objects+Encapsulate%3F" title="Share on Reddit" class="button"> <span class="count count-reddit">0</span> <i class="icon icon-reddit notranslate" aria-hidden="true"></i> </a> <a href="http://news.ycombinator.com/submitlink?u=http://www.yegor256.com/2014/12/15/how-much-your-objects-encapsulate.html%3F2014-50&amp;t=How+Much+Your+Objects+Encapsulate%3F" title="Share on Hacker News" class="button"> <i class="icon icon-hackernews notranslate" aria-hidden="true"></i> </a> </nav></div> </header> <main role="main"> <article class="main" role="article" itemprop="articleBody"><p>Which line do you like more, the first or the second:</p><div class="highlight"><pre><code class="language-java" data-lang="java"><span class="k">new</span> <span class="nf">HTTP</span><span class="o">(</span><span class="s">"http://www.google.com"</span><span class="o">).</span><span class="na">read</span><span class="o">();</span>
<span class="k">new</span> <span class="nf">HTTP</span><span class="o">().</span><span class="na">read</span><span class="o">(</span><span class="s">"http://www.google.com"</span><span class="o">);</span></code></pre></div><p>What is the difference? The first class <code>HTTP</code> encapsulates a URL, while the second one expects it as an argument of method <code>read()</code>. Technically, both objects do exactly the same thing: they read the content of the Google home page. Which one is the right design? Usually I hate to say this, but in this case I have to — it depends.</p><figure><img src='http://www.yegor256.com/images/2014/12/truman-show-universe.png' style='width:600px' alt='The Truman Show (1998) by Peter Weir'/><figcaption>The Truman Show (1998) by Peter Weir</figcaption></figure><p>As <a href="/2014/11/20/seven-virtues-of-good-object.html">we discussed before</a>, a good object is a representative of a real-life entity. Such an entity exists outside of the object's living environment. The object knows how to access it and how to communicate with it.</p><p>What is that real-life entity in the example above? Each class gives its own answer. And the answer is given by the list of arguments its constructors accept. The first class accepts a single URL as an argument of its constructor. This tells us that the object of this class, after being constructed, will represent a web page. The second class accepts no arguments, which tells us that the object of it will represent ... the Universe.</p><p>I think this principle is applicable to all classes in object-oriented programming — in order to understand what real-life entity an object represents, look at its constructor. All arguments passed into the constructor and encapsulated by the object identify a real-life entity accessed and managed by the object.</p><p>Of course, I'm talking about <a href="/2014/11/20/seven-virtues-of-good-object.html">good objects</a>, which are immutable and <a href="/2014/09/16/getters-and-setters-are-evil.html">don't have setters and getters</a>.</p><p>Pay attention that I'm talking about arguments encapsulated by the object. The following class doesn't represent the Universe, even though it does have a no-arguments constructor:</p><div class="highlight"><pre><code class="language-java" data-lang="java"><span class="kd">class</span> <span class="nc">Time</span> <span class="o">{</span>
  <span class="kd">private</span> <span class="kd">final</span> <span class="kt">long</span> <span class="n">msec</span><span class="o">;</span>
  <span class="kd">public</span> <span class="nf">Time</span><span class="o">()</span> <span class="o">{</span>
    <span class="k">this</span><span class="o">(</span><span class="n">System</span><span class="o">.</span><span class="na">currentTimeMillis</span><span class="o">());</span>
  <span class="o">}</span>
  <span class="kd">public</span> <span class="nf">Time</span><span class="o">(</span><span class="kt">long</span> <span class="n">time</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">this</span><span class="o">.</span><span class="na">msec</span> <span class="o">=</span> <span class="n">time</span><span class="o">;</span>
  <span class="o">}</span>
<span class="o">}</span></code></pre></div><p>This class has two constructors. One of them is the main one, and one is supplementary. We're interested in the main one, which implements the <em>encapsulation</em> of arguments.</p><p>Now, the question is which is better: to represent a web page or the Universe? It depends, but I think that in general, the smaller the real-life entity we represent, the more solid and cohesive design we give to the object.</p><p>On the other hand, sometimes we have to have an object that represents the Universe. For example, we may have this:</p><div class="highlight"><pre><code class="language-java" data-lang="java"><span class="kd">class</span> <span class="nc">HTTP</span> <span class="o">{</span>
  <span class="kd">public</span> <span class="n">String</span> <span class="nf">read</span><span class="o">(</span><span class="n">String</span> <span class="n">url</span><span class="o">)</span> <span class="o">{</span>
    <span class="c1">// read via HTTP and return</span>
  <span class="o">}</span>
  <span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">online</span><span class="o">()</span> <span class="o">{</span>
    <span class="c1">// check whether we're online</span>
  <span class="o">}</span>
<span class="o">}</span></code></pre></div><p>This is not an elegant design, but it demonstrates when it may be necessary to represent the entire Universe. An object of this <code>HTTP</code> class can read any web page from the entire web (it is almost as big as the Universe, isn't it?), and it can check whether the entire web is accessible by it. Obviously, in this case, we don't need it to encapsulate anything.</p><p>I believe that objects representing the Universe are not good objects, mostly because there is only one Universe; why do we need many representatives of it? :)</p></article> </main><div class="unprintable"><h2>Related Posts</h2><p>You may also find these posts interesting:</p><ul><li><a href="/award.html">Software Quality Award</a></li><li><a href="/2015/04/02/class-casting-is-anti-pattern.html">Class Casting Is a Discriminating Anti-Pattern</a></li><li><a href="/2015/03/26/jaxb-vs-xembly.html">JAXB Is Doing It Wrong; Try Xembly</a></li><li><a href="/2015/03/09/objects-end-with-er.html">Don't Create Objects That End With -ER</a></li><li><a href="/2015/02/26/composable-decorators.html">Composable Decorators vs. Imperative Utility Methods</a></li></ul></div></div><div class="disqus" role="complementary"><div id="disqus_thread"></div> <a href="http://disqus.com" class="dsq-brlink"> comments powered by <span class="logo-disqus">Disqus</span> </a></div><div class="wrapper"> <footer class="footer"><p> © <span itemprop="author">Yegor Bugayenko</span>, 2014</p> </footer></div></section><script src="http://code.jquery.com/jquery-2.1.0.min.js"></script><script src="/js/ext/search.min.js?a290059"></script><script src="/js/global.js?a290059" async defer></script><script src="/js/post.js?a290059" async defer></script></body></html>