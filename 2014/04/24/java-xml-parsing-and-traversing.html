<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml" lang="en-US"><head><meta charset="utf-8"/><meta name="description" content="Parsing and traversing of XML documents as a very common and verbose operation is made easy with jcabi-xml"/><meta name="keywords" content="xml parsing java, parse xml java, how to parse xml in java, java parsing of xml, DOM parsing java, simple parsing of xml in java, traversing xml using xpath, xml traversing using xpath, java xml traversing"/><meta name="viewport" content="width=device-width"/><link rel="icon" type="image/png" href="http://img.yegor256.com/icon-128x128.png"><link rel="shortcut icon" href="//img.yegor256.com/icon-64x64.png"/><link rel="alternate" type="application/rss+xml" title="RSS" href="http://www.yegor256.com/rss.xml"/><link rel="author" href="//plus.google.com/u/0/114792568016408327418?rel=author"/><link href="//netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css" rel="stylesheet"><link rel="stylesheet" href="/css/layout.css?b8d532b"/><link rel="canonical" href="//www.yegor256.com/2014/04/24/java-xml-parsing-and-traversing.html"/> <script src="//code.jquery.com/jquery-2.1.0.min.js"></script><title>Java XML Parsing Made Easy</title></head><body><div class="wrapper"> <header class="top"><div><a href="/"><img src="//img.yegor256.com/yegor-bugayenko.jpg" class="photo"/></a></div> <nav role="navigation"><ul class="menu"><li><a href="//www.twitter.com/yegor256"><i class="fa fa-twitter"></i></a></li><li><a href="/about-me.html">about me</a></li><li><a href="//feeds.feedburner.com/yegor256"><i class="fa fa-rss"></i></a></li><li><a href="//feedburner.google.com/fb/a/mailverify?uri=yegor256&amp;loc=en_US">subscribe</a></li></ul> </nav><div class="gcse" role="search"><div class="gcse-search"></div></div> </header></div><div class="wrapper"> <section itemscope itemtype="http://schema.org/BlogPosting"> <header role="heading"><h1 itemprop="name">Java XML Parsing Made Easy</h1> </header><p> <time itemprop="datePublished" datetime="2014-04-24T00:00:00+00:00"> 24 April 2014 </time></p> <nav class="share" role="navigation"> <a href="http://www.facebook.com/sharer/sharer.php?u=http://www.yegor256.com/2014/04/24/java-xml-parsing-and-traversing.html" title="Share on Facebook"> <i class="fa fa-facebook-square"></i> </a> <a href="https://twitter.com/share?url=http://www.yegor256.com/2014/04/24/java-xml-parsing-and-traversing.html&amp;text=Java+XML+Parsing+Made+Easy" title="Share on Twitter"> <i class="fa fa-twitter-square"></i> </a> <a href="https://plus.google.com/share?url=http://www.yegor256.com/2014/04/24/java-xml-parsing-and-traversing.html" title="Share on Google+"> <i class="fa fa-google-plus-square"></i> </a> <a href="https://www.linkedin.com/cws/share?url=http://www.yegor256.com/2014/04/24/java-xml-parsing-and-traversing.html" title="Share on LinkedIn"> <i class="fa fa-linkedin-square"></i> </a> </nav> <main role="main"> <article role="article" itemprop="articleBody"><p>Unlike with many other modern languages, parsing XML in Java requires more than one line of code. XML traversing using XPath takes even more code, and I find this is unfair and annoying.</p><p>I'm a big fan of XML and use it it in almost every Java application. Some time ago, I decided to put all of that XML-to-DOM parsing code into a small library â€”<a href="http://xml.jcabi.com">jcabi-xml</a>.</p><p>Put simply, the library is a convenient wrapper for JDK-native DOM manipulations. That's why it is small and dependency-free. With the following example, you can see just how simple XML parsing can be:</p><div class="highlight"><pre><code class="java"><span class="kn">import</span> <span class="nn">com.jcabi.xml.XML</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.jcabi.xml.XMLDocument</span><span class="o">;</span>
<span class="n">XML</span> <span class="n">xml</span> <span class="o">=</span> <span class="k">new</span> <span class="n">XMLDocument</span><span class="o">(</span>
  <span class="s">"&lt;root&gt;&lt;a&gt;hello&lt;/a&gt;&lt;b&gt;world!&lt;/b&gt;&lt;/root&gt;"</span>
<span class="o">);</span>
</code></pre></div><p>Now, we have an object of interface <a href="http://xml.jcabi.com/apidocs-0.7.7/com/jcabi/xml/XML.html"><code>XML</code></a> that can traverse the XML tree and convert it back to text.</p><p>For example:</p><div class="highlight"><pre><code class="java"><span class="c1">// outputs "hello"</span>
<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">xml</span><span class="o">.</span><span class="na">xpath</span><span class="o">(</span><span class="s">"/root/a/text()"</span><span class="o">).</span><span class="na">get</span><span class="o">(</span><span class="mi">0</span><span class="o">));</span>
<span class="c1">// outputs the entire XML document</span>
<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">xml</span><span class="o">.</span><span class="na">toString</span><span class="o">());</span>
</code></pre></div><p>Method <code>xpath()</code> allows you to find a collection of text nodes or attributes in the document, and then convert them to a collection of strings, using <a href="http://en.wikipedia.org/wiki/XPath">XPath query</a>:</p><div class="highlight"><pre><code class="java"><span class="c1">// outputs "hello" and "world"</span>
<span class="k">for</span> <span class="o">(</span><span class="n">String</span> <span class="n">text</span> <span class="o">:</span> <span class="n">xml</span><span class="o">.</span><span class="na">xpath</span><span class="o">(</span><span class="s">"/root/*/text()"</span><span class="o">))</span> <span class="o">{</span>
  <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">text</span><span class="o">);</span>
<span class="o">}</span>
</code></pre></div><p>Method <code>nodes()</code> enables the same XPath search operation, but instead returns a collection of instances of <code>XML</code> interface:</p><div class="highlight"><pre><code class="java"><span class="c1">// outputs "&lt;a&gt;hello&lt;/a&gt;" and "&lt;b&gt;world&lt;/b&gt;"</span>
<span class="k">for</span> <span class="o">(</span><span class="n">XML</span> <span class="n">node</span> <span class="o">:</span> <span class="n">xml</span><span class="o">.</span><span class="na">xpath</span><span class="o">(</span><span class="s">"/root/*"</span><span class="o">))</span>
  <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">node</span><span class="o">);</span>
<span class="o">}</span>
</code></pre></div><p>Besides XML parsing, printing and XPath traversing, <a href="http://xml.jcabi.com">jcabi-xml</a> also provides XSD validation and XSL transformations. I'll write about those features in the next post :)</p></article> </main> </section></div><div class="disqus" role="complementary"><div id="disqus_thread"></div> <noscript> Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a> </noscript> <a href="http://disqus.com" class="dsq-brlink"> comments powered by <span class="logo-disqus">Disqus</span> </a></div></body> <script src="/js/all.js?b8d532b"></script></html>