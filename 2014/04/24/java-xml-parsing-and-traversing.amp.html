<!DOCTYPE html>
<html âš¡ lang="en">
  <head>
    <meta charset="utf-8">
    <title>Java XML Parsing Made Easy</title>
    <link rel="canonical" href="http://www.yegor256.com/2014/04/24/java-xml-parsing-and-traversing.html" />
    <meta name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1">
    <script type='application/ld+json'>
      {
        "@context": "http://schema.org",
        "@type": "BlogPosting",
        "mainEntityOfPage":{
          "@type": "WebPage",
          "@id": "http://www.yegor256.com/2014/04/24/java-xml-parsing-and-traversing.html"
        },
        "headline": "Java XML Parsing Made Easy",
        "image": {
          "@type": "ImageObject",
          "url": "http://img.teamed.io/face-1400x1400.jpg",
          "height": 1400,
          "width": 1400
        },
        "datePublished": "2014-04-24",
        "dateModified": "2014-04-24",
        "author": {
          "@type": "Person",
          "name": "Yegor Bugayenko"
        },
        "publisher": {
          "@type": "Organization",
          "name": "yegor256.com",
          "logo": {
            "@type": "ImageObject",
            "url": "http://img.teamed.io/face-512x512.jpg",
            "width": 512,
            "height": 512
          }
        },
        "description": "Parsing and traversing of XML documents as a very common
and verbose operation is made easy with jcabi-xml
",
        "keywords": ["xml parsing java", "parse xml java", "how to parse xml in java", "java xml parsing library", "java xml parsing example", "java xml parsing library example", "java xml parsing best practices"]
      }
    </script>
    <style amp-boilerplate>body{-webkit-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-moz-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-ms-animation:-amp-start 8s steps(1,end) 0s 1 normal both;animation:-amp-start 8s steps(1,end) 0s 1 normal both}@-webkit-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-moz-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-ms-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-o-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}</style><noscript><style amp-boilerplate>body{-webkit-animation:none;-moz-animation:none;-ms-animation:none;animation:none}</style></noscript>
    <style amp-custom="amp-custom">
      body { padding: 2em; }
      article { width: 600px; max-width: 100%; margin-left: auto; margin-right: auto; }
    </style>
    <script async src="https://cdn.ampproject.org/v0.js"></script>
  </head>
  <body>
    <article>
      <h1>Java XML Parsing Made Easy</h1>
      <figure class='badge'><a href='http://xml.jcabi.com'><amp-img src='http://img.jcabi.com/logo-square.svg' style='width:64px;max-width:100%;' alt='badge'/></a></figure>

<p>Unlike with many other modern languages, parsing XML in Java requires  more than
one line of code. XML traversing using XPath takes even more code,  and I find
this is unfair and annoying.</p>

<p>I&#39;m a big fan of XML and use it it in almost every Java application. Some time
ago, I decided to put all of that XML-to-DOM parsing code into a small library
&mdash; <a href="/2014/04/24/java-xml-parsing-and-traversing.html">jcabi-xml</a>.</p>

<p>Put simply, the library is a convenient wrapper for JDK-native DOM
manipulations. That&#39;s why it is small and dependency-free. With the following
example, you can see just how simple XML parsing can be:</p>

<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="kn">import</span> <span class="nn">com.jcabi.xml.XML</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.jcabi.xml.XMLDocument</span><span class="o">;</span>
<span class="n">XML</span> <span class="n">xml</span> <span class="o">=</span> <span class="k">new</span> <span class="nf">XMLDocument</span><span class="o">(</span>
  <span class="s">&quot;&lt;root&gt;&lt;a&gt;hello&lt;/a&gt;&lt;b&gt;world!&lt;/b&gt;&lt;/root&gt;&quot;</span>
<span class="o">);</span></code></pre></figure>

<!--more-->

<p>Now, we have an object of interface
<a href="http://xml.jcabi.com/apidocs-0.7.7/com/jcabi/xml/XML.html"><code>XML</code></a>
that can traverse the XML tree and convert it back to text.</p>

<p>For example:</p>

<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="c1">// outputs &quot;hello&quot;</span>
<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">xml</span><span class="o">.</span><span class="na">xpath</span><span class="o">(</span><span class="s">&quot;/root/a/text()&quot;</span><span class="o">).</span><span class="na">get</span><span class="o">(</span><span class="mi">0</span><span class="o">));</span>
<span class="c1">// outputs the entire XML document</span>
<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">xml</span><span class="o">.</span><span class="na">toString</span><span class="o">());</span></code></pre></figure>

<p>Method <code>xpath()</code> allows you to find a collection of text nodes
or attributes in the document, and then convert them to
a collection of strings, using <a href="http://en.wikipedia.org/wiki/XPath">XPath query</a>:</p>

<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="c1">// outputs &quot;hello&quot; and &quot;world&quot;</span>
<span class="k">for</span> <span class="o">(</span><span class="n">String</span> <span class="n">text</span> <span class="o">:</span> <span class="n">xml</span><span class="o">.</span><span class="na">xpath</span><span class="o">(</span><span class="s">&quot;/root/*/text()&quot;</span><span class="o">))</span> <span class="o">{</span>
  <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">text</span><span class="o">);</span>
<span class="o">}</span></code></pre></figure>

<p>Method <code>nodes()</code> enables the same XPath search operation,
but instead returns a collection of instances of <code>XML</code> interface:</p>

<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="c1">// outputs &quot;&lt;a&gt;hello&lt;/a&gt;&quot; and &quot;&lt;b&gt;world&lt;/b&gt;&quot;</span>
<span class="k">for</span> <span class="o">(</span><span class="n">XML</span> <span class="n">node</span> <span class="o">:</span> <span class="n">xml</span><span class="o">.</span><span class="na">nodes</span><span class="o">(</span><span class="s">&quot;/root/*&quot;</span><span class="o">))</span>
  <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">node</span><span class="o">);</span>
<span class="o">}</span></code></pre></figure>

<p>Besides XML parsing, printing and XPath traversing,
<a href="/2014/04/24/java-xml-parsing-and-traversing.html">jcabi-xml</a>
also provides XSD validation
and XSL transformations. I&#39;ll write about those features in the next post :)</p>

<p>PS. Also, check this:
<a href="/2014/04/28/xml-xpath-hamcrest-matchers.html">XML/XPath Matchers for Hamcrest</a>.</p>

    </article>
  </body>
</html>
