<!DOCTYPE html> <html xmlns="http://www.w3.org/1999/xhtml" lang="en-US" xml:lang="en-US" itemscope="" itemtype="http://schema.org/WebSite"> <head> <meta charset="utf-8"/> <meta name="description" itemprop="description" content="The article lists the most common programming mistakes I catch during code reviews, which can&apos;t be caught by static analysis " /> <meta name="keywords" itemprop="keywords" content="bad practices, bad practices in java, bad practices in programming, good practices in programming, java programming good practices, mistakes in OOP, object oriented typical mistakes" /> <meta name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1"/> <meta name="google-site-verification" content="JEj_gQr2CPe2QKGw8XdMz0R7VboQIUbX3FlM-lwTq-8" /> <meta name="og:site_name" itemprop="name" content="Yegor Bugayenko"/> <meta name="og:type" content="article" /> <meta name="og:locale" content="en_US" /> <meta name="twitter:account_id" content="4503599630178231" /> <meta name="twitter:creator" content="@yegor256"/> <meta name="twitter:site" content="@yegor256"/> <meta name="twitter:title" property="og:title" content="Typical Mistakes in Java Code"/> <meta name="twitter:description" property="og:description" content="The article lists the most common programming mistakes I catch during code reviews, which can&apos;t be caught by static analysis "/> <meta name="twitter:url" property="og:url" content="http://www.yegor256.com/2014/04/27/typical-mistakes-in-java-code.html"/> <link rel="search" type="application/opensearchdescription+xml" href="/opensearch.xml" title="yegor256" /> <link rel="shortcut icon" href="/favicon.ico?2c6e883ea0"/> <link rel="apple-touch-icon" href="/favicon.ico?2c6e883ea0"/> <link rel="alternate" type="application/rss+xml" title="RSS for yegor256.com" href="http://www.yegor256.com/rss.xml"/> <link rel="stylesheet" href="/css/layout.css?2c6e883ea0"/> <link rel="stylesheet" href="/css/icons.css?2c6e883ea0"/> <link rel="canonical" href="http://www.yegor256.com/2014/04/27/typical-mistakes-in-java-code.html" itemprop="url" /> <link rel="amphtml" href="http://www.yegor256.com/2014/04/27/typical-mistakes-in-java-code.amp.html" /> <title>Typical Mistakes in Java Code </title> </head> <body><div class="wrapper"> <aside class="header-toggle unprintable" id="header-toggle" title="Show the menu" onclick="$('#header').show();$('#header-toggle').hide();">&#9776;</aside> <header class="header" id="header"><div class="face"> <a href="/about-me.html#form" class="sub" title="Click to subscribe to my monthly newsletter"><span>Subscribe</span></a> <a href="/about-me.html"> <img src="//cf.jare.io/?u=http://www.yegor256.com/images/yegor-bugayenko-192x192.png" class="photo" alt="Yegor Bugayenko"/> </a></div><nav><ul class="menu social notranslate"> <li><a href="https://twitter.com/intent/follow?screen_name=yegor256" rel="nofollow" title="Follow me on Twitter"><i class="icon icon-twitter notranslate" aria-hidden="true"></i></a></li> <li><a href="/rss.xml" re="nofollow" title="Subscribe to my RSS feed"><i class="icon icon-rss notranslate" aria-hidden="true"></i></a></li> <li><a itemprop="sameAs" href="https://github.com/yegor256" rel="nofollow" title="My GitHub profile"><i class="icon icon-github notranslate" aria-hidden="true"></i></a></li> <li><a itemprop="sameAs" href="http://stackoverflow.com/users/187141/yegor256" rel="nofollow" title="My StackOverflow profile"><i class="icon icon-stackoverflow notranslate" aria-hidden="true"></i></a></li> <li><a itemprop="sameAs" href="https://www.facebook.com/yegor256" rel="nofollow" title="Follow me on Facebook"><i class="icon icon-facebook notranslate" aria-hidden="true"></i></a></li> <li><a itemprop="sameAs" href="https://instagram.com/yegor256" rel="nofollow" title="Follow me on Instagram"><i class="icon icon-instagram notranslate" aria-hidden="true"></i></a></li> <li><a itemprop="sameAs" href="https://www.linkedin.com/in/yegor256" rel="nofollow" title="My LinkedIn profile"><i class="icon icon-linkedin notranslate" aria-hidden="true"></i></a></li> <li><a itemprop="sameAs" href="https://www.youtube.com/c/yegor256?sub_confirmation=1" rel="nofollow" title="My Youtube video channel"><i class="icon icon-youtube notranslate" aria-hidden="true"></i></a></li> <li><a itemprop="sameAs" href="https://www.pinterest.com/yegor256/" rel="nofollow" title="My Pinterest boards"><i class="icon icon-pinterest notranslate" aria-hidden="true"></i></a></li> <li><a itemprop="sameAs" href="https://angel.co/yegor256" rel="nofollow" title="My AngelList profile"><i class="icon icon-angellist notranslate" aria-hidden="true"></i></a></li> <li><a href="https://gitter.im/yegor256/elegantobjects" rel="nofollow" title="Our OOP Gitter chat"><i class="icon icon-gitter notranslate" aria-hidden="true"></i></a></li> <li><a href="https://soundcloud.com/yegor256" rel="nofollow" title="My podcast"><i class="icon icon-podcast notranslate" aria-hidden="true"></i></a></li> <li><a href="https://itunes.apple.com/us/podcast/yegor256-podcast/id1150826721" rel="nofollow" title="My iTunes podcast"><i class="icon icon-itunes notranslate" aria-hidden="true"></i></a></li> <li><a href="https://t.me/joinchat/AAAAAEJFMRzsRTRxM3ec6A" rel="nofollow" title="My Telegram public channel"><i class="icon icon-telegram notranslate" aria-hidden="true"></i></a></li> <li><a href="mailto:blog@yegor256.com" rel="nofollow" title="Email me any time"><i class="icon icon-mail notranslate" aria-hidden="true"></i></a></li></ul><ul class="menu"> <li><a href="/" title="Home page">Home</a></li> <li><a href="/best.html" title="Best articles to read">12&#160;Best</a></li> <li><a href="/contents.html" title="The contents of the entire blog">All&#160;242</a></li> <li><a href="/webinars.html" title="My webinars">Webinars</a></li> <li><a href="/talks.html" title="Future and past conference talks">Talks</a></li> <li><a href="/books.html" title="The books I wrote">Books</a></li> <li><a href="/papers.html" title="My academic papers and patents">Papers</a></li> <li><a href="/pets.html" title="My loved pet projects">Pets</a></li> <li><a href="/award.html" title="Software quality award">Award</a></li> <li><a href="/testimonials.html" title="What some people say about me">Testimonials</a></li> <li><a href="/shift-m.html" title="Audio podcast about project management">Shift-M</a></li> <li class="highlighted"><a href="/paintings.html" title="My paintings for sale">Paintings</a></li> <li><a href="http://ru.yegor256.com/" title="Немного на русском языке">По-русски</a></li></ul></nav><div class="search"> <form method="get" action="https://www.google.com/search" itemprop="potentialAction" itemscope="" itemtype="http://schema.org/SearchAction"> <meta itemprop="target" content="https://www.google.com/search?q={q}"/> <input name="sitesearch" value="yegor256.com" type="hidden"/> <input itemprop="query-input" type="text" id="search-query" class="field field-text" required="required" onfocus="$('.google').css('visibility', 'visible');" name="q" placeholder="Search..." autocomplete="off"/> <input type="image" src="/images/google-search-icon.svg" class="google" title="Search via Google" alt="Search via Google"/> </form></div><div class="hot"><ul> <li> Don't forget to submit your open source project to the <a href="http://www.yegor256.com/2016/10/23/award-2017.html">Quality Award</a> before the <strong>1st of September</strong>. The prize is <strong>$4,096</strong>. </li> <li> You can get <a href="/elegant-objects.html#stickers">cactus stickers</a> for your laptop, just by writing an honest five-stars review on Amazon for Elegant Objects; I will mail them to you free of charge. </li> <li> At <a href="/webinars.html">Webinar #27</a> we'll go through the entire Cactoos library, polish its code, and release version 0.12 to Maven Central; join us on <b>August 2</b>, at 11am PST. </li></ul></div></header></div><section itemscope="" itemtype="http://schema.org/BlogPosting"><div itemprop="review" itemscope="" itemtype="http://schema.org/Review"> <meta itemprop="author" content="Yegor Bugayenko"> <meta itemprop="itemReviewed" content="http://www.yegor256.com/2014/04/27/typical-mistakes-in-java-code.html"><div itemprop="reviewRating" itemscope="" itemtype="http://schema.org/Rating"> <meta itemprop="ratingValue" content="9"/> <meta itemprop="bestRating" content="10"/></div></div><div itemprop="image" itemscope="" itemtype="http://schema.org/ImageObject"> <meta itemprop="url" content="http://www.yegor256.com/images/yegor-bugayenko-192x192.png"/> <meta itemprop="height" content="192"/> <meta itemprop="width" content="192"/></div><div itemscope="" itemprop="publisher" itemtype="http://schema.org/Organization"> <meta itemprop="name" content="yegor256.com"/><div itemprop="logo" itemscope="" itemtype="http://schema.org/ImageObject"> <meta itemprop="url" content="http://www.yegor256.com/images/yegor-bugayenko-192x192.png"/> <meta itemprop="height" content="192"/> <meta itemprop="width" content="192"/></div></div><div class="wrapper"> <header><p class="printable"> <img src="https://api.qrserver.com/v1/create-qr-code/?data=http://www.yegor256.com/2014/04/27/typical-mistakes-in-java-code.html&amp;format=svg" style="width:125px;height:125px;" alt="QR code"/></p><p class="printable"> <code itemprop="url">http://www.yegor256.com/2014/04/27/typical-mistakes-in-java-code.html</code></p><h1 itemprop="name headline mainEntityOfPage">Typical Mistakes in Java Code</h1><ul class="subline"> <li> <time itemprop="datePublished" datetime="2014-04-27T00:00:00+00:00"> 27 April 2014 </time> </li> <li class='unprintable desktop-only'><a href='https://github.com/yegor256/blog/commits/master/_posts/2014/apr/2014-04-27-typical-mistakes-in-java-code.md'>Modified</a> on <time itemprop='dateModified' datetime='2017-05-17T19:09:35+0200'>17 May 2017</time></li> <li class="printable" itemscope="" itemprop="author" itemtype="http://schema.org/Person"> <span itemprop="name">Yegor Bugayenko</span> </li> <li class="unprintable"> <i class="icon icon-comments"></i> <a href="http://www.yegor256.com/2014/04/27/typical-mistakes-in-java-code.html#disqus_thread" itemprop="discussionUrl">comments</a> </li></ul><ul class="unprintable subline"> <li>Translated:</li> <li><a href="http://blog.csdn.net/lvshuilantian/article/details/52303290">Chinese</a></li> <li><a href="mailto:translate@yegor256.com">add yours!</a></li></ul><p class="unprintable"><a href='/tag/java.html' class='tag notranslate'>java</a> <a href='/tag/quality.html' class='tag notranslate'>quality</a></p><nav class="buttons notranslate desktop-only"> <a href="http://www.facebook.com/sharer/sharer.php?u=http://www.yegor256.com/2014/04/27/typical-mistakes-in-java-code.html" title="Share on Facebook" class="button" rel="nofollow"> <span class="count count-facebook">0</span> <i class="icon icon-facebook notranslate" aria-hidden="true"></i> </a> <a href="https://twitter.com/share?url=http://www.yegor256.com/2014/04/27/typical-mistakes-in-java-code.html&amp;text=Typical+Mistakes+in+Java+Code" title="Share on Twitter" class="button" rel="nofollow"> <span class="count count-twitter">0</span> <i class="icon icon-twitter notranslate" aria-hidden="true"></i> </a> <a href="https://plus.google.com/share?url=http://www.yegor256.com/2014/04/27/typical-mistakes-in-java-code.html" title="Share on Google+" class="button" rel="nofollow"> <span class="count count-googleplus">0</span> <i class="icon icon-googleplus notranslate" aria-hidden="true"></i> </a> <a href="https://www.linkedin.com/cws/share?url=http://www.yegor256.com/2014/04/27/typical-mistakes-in-java-code.html" title="Share on LinkedIn" class="button" rel="nofollow"> <span class="count count-linkedin">0</span> <i class="icon icon-linkedin notranslate" aria-hidden="true"></i> </a> <a href="http://www.stumbleupon.com/submit?url=http://www.yegor256.com/2014/04/27/typical-mistakes-in-java-code.html&amp;title=Typical+Mistakes+in+Java+Code" title="Share on StumbleUpon" class="button" rel="nofollow"> <span class="count count-stumbleupon">0</span> <i class="icon icon-stumbleupon notranslate" aria-hidden="true"></i> </a> <a href="http://reddit.com/submit?url=http://www.yegor256.com/2014/04/27/typical-mistakes-in-java-code.html%3F2014-17&amp;title=Typical+Mistakes+in+Java+Code" title="Share on Reddit" class="button" rel="nofollow"> <span class="count count-reddit">0</span> <i class="icon icon-reddit notranslate" aria-hidden="true"></i> </a> <a href="http://news.ycombinator.com/submitlink?u=http://www.yegor256.com/2014/04/27/typical-mistakes-in-java-code.html%3F2014-17&amp;t=Typical+Mistakes+in+Java+Code" title="Share on Hacker News" class="button" rel="nofollow"> <span class="count count-hackernews">0</span> <i class="icon icon-hackernews notranslate" aria-hidden="true"></i> </a> </nav> </header> <main> <article class="main" itemprop="articleBody"><div ><p>This page contains most typical mistakes I see in the Java code of people working with me. Static analysis (we&#39;re using <a href="http://www.qulice.com">qulice</a> can&#39;t catch all of the mistakes for obvious reasons, and that&#39;s why I decided to list them all here.</p><p>Let me know if you want to see something else added here, and I&#39;ll be happy to oblige.</p><p>All of the listed mistakes are related to object-oriented programming in general and to Java in particular.</p><h2 id="class-names">Class Names</h2><p>Your class should be an abstraction of a real life entity with no &quot;validators,&quot; &quot;controllers,&quot; &quot;managers,&quot; etc. If your class name ends with an &quot;-er&quot;&mdash;it&#39;s <a href="http://c2.com/cgi/wiki?DontNameClassesObjectManagerHandlerOrData">a bad design</a>. BTW, here are my <a href="/2014/11/20/seven-virtues-of-good-object.html">seven virtues</a> of a good object. Also, this post explains this idea in more details: <a href="/2015/03/09/objects-end-with-er.html">Don&#39;t Create Objects That End With -ER</a>.</p><p>And, of course, utility classes are anti-patterns, like <a href="http://commons.apache.org/proper/commons-lang/javadocs/api-2.6/org/apache/commons/lang/StringUtils.html"><code>StringUtils</code></a>, <a href="http://commons.apache.org/proper/commons-io/javadocs/api-2.5/org/apache/commons/io/FileUtils.html"><code>FileUtils</code></a>, and <a href="https://commons.apache.org/proper/commons-io/javadocs/api-2.5/org/apache/commons/io/IOUtils.html"><code>IOUtils</code></a> from Apache. The above are perfect examples of terrible designs. Read this follow up post: <a href="/2014/05/05/oop-alternative-to-utility-classes.html">OOP Alternative to Utility Classes</a></p><p>Of course, never add suffixes or prefixes to distinguish between <a href="http://c2.com/cgi/wiki?DontDistinguishBetweenClassesAndInterfaces">interfaces and classes</a>. For example, all of these names are terribly wrong: <code>IRecord</code>, <code>IfaceEmployee</code>, or <code>RecordInterface</code>. Usually, interface name is the name of a real-life entity, while class name should explain its implementation details. If there is nothing specific to say about an implementation, name it <code>Default,</code> <code>Simple</code>, or something similar. For example:</p><div class="highlight"><pre><code class="language-java" data-lang="java"><span></span><span class="kd">class</span> <span class="nc">SimpleUser</span> <span class="kd">implements</span> <span class="n">User</span> <span class="o">{};</span>
<span class="kd">class</span> <span class="nc">DefaultRecord</span> <span class="kd">implements</span> <span class="n">Record</span> <span class="o">{};</span>
<span class="kd">class</span> <span class="nc">Suffixed</span> <span class="kd">implements</span> <span class="n">Name</span> <span class="o">{};</span>
<span class="kd">class</span> <span class="nc">Validated</span> <span class="kd">implements</span> <span class="n">Content</span> <span class="o">{};</span>
</code></pre></div><h2 id="method-names">Method Names</h2><p>Methods can either return something or return <code>void</code>. If a method returns something, then its name should explain <em>what it returns</em>, for example (don&#39;t use the <code>get</code> prefix <a href="/2014/09/16/getters-and-setters-are-evil.html">ever</a>):</p><div class="highlight"><pre><code class="language-java" data-lang="java"><span></span><span class="kt">boolean</span> <span class="nf">isValid</span><span class="o">(</span><span class="n">String</span> <span class="n">name</span><span class="o">);</span>
<span class="n">String</span> <span class="nf">content</span><span class="o">();</span>
<span class="kt">int</span> <span class="nf">ageOf</span><span class="o">(</span><span class="n">File</span> <span class="n">file</span><span class="o">);</span>
</code></pre></div><p>If it returns <code>void,</code> then its name should explain <em>what it does</em>. For example:</p><div class="highlight"><pre><code class="language-java" data-lang="java"><span></span><span class="kt">void</span> <span class="nf">save</span><span class="o">(</span><span class="n">File</span> <span class="n">file</span><span class="o">);</span>
<span class="kt">void</span> <span class="nf">process</span><span class="o">(</span><span class="n">Work</span> <span class="n">work</span><span class="o">);</span>
<span class="kt">void</span> <span class="nf">append</span><span class="o">(</span><span class="n">File</span> <span class="n">file</span><span class="o">,</span> <span class="n">String</span> <span class="n">line</span><span class="o">);</span>
</code></pre></div><p>You can read more about this idea in <a href="/elegant-objects.html">Elegant Objects</a> book, section <a href="/images/books/elegant-objects/contents.pdf">2.4</a>. There is only one exception to the rule just mentioned&mdash;test methods for JUnit. They are explained below.</p><h2 id="test-method-names">Test Method Names</h2><p>Method names in JUnit tests should be created as English sentences without spaces. It&#39;s easier to explain by example:</p><div class="highlight"><pre><code class="language-java" data-lang="java"><span></span><span class="cm">/**</span>
<span class="cm"> * HttpRequest can return its content in Unicode.</span>
<span class="cm"> * @throws Exception If test fails</span>
<span class="cm"> */</span>
<span class="nd">@Test</span>
<span class="kd">public</span> <span class="kt">void</span> <span class="nf">returnsItsContentInUnicode</span><span class="o">()</span> <span class="kd">throws</span> <span class="n">Exception</span> <span class="o">{</span>
<span class="o">}</span>
</code></pre></div><p>It&#39;s important to start the first sentence of your JavaDoc with the name of the class you&#39;re testing followed by <code>can</code>. So, your first sentence should always be similar to &quot;somebody <em>can</em> do something.&quot;</p><p>The method name will state exactly the same, but without the subject. If I add a subject at the beginning of the method name, I should get a complete English sentence, as in above example: &quot;<code>HttpRequest</code> returns its content in Unicode.&quot;</p><p>Pay attention that the test method doesn&#39;t start with <code>can</code>.Only JavaDoc comments start with &#39;can.&#39; Additionally, method names shouldn&#39;t start with a verb.</p><p>It&#39;s a good practice to always declare test methods as throwing <code>Exception</code>.</p><h2 id="variable-names">Variable Names</h2><p>Avoid composite names of variables, like <code>timeOfDay</code>, <code>firstItem</code>, or <code>httpRequest</code>. I mean with both&mdash;class variables and in-method ones. A variable name should be long enough to avoid ambiguity in its scope of visibility, but not too long if possible. A name should be a noun in singular or plural form, or an appropriate abbreviation. More about it in this post: <a href="/2015/01/12/compound-name-is-code-smell.html">A Compound Name Is a Code Smell</a>. For example:</p><div class="highlight"><pre><code class="language-java" data-lang="java"><span></span><span class="n">List</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">names</span><span class="o">;</span>
<span class="kt">void</span> <span class="nf">sendThroughProxy</span><span class="o">(</span><span class="n">File</span> <span class="n">file</span><span class="o">,</span> <span class="n">Protocol</span> <span class="n">proto</span><span class="o">);</span>
<span class="kd">private</span> <span class="n">File</span> <span class="n">content</span><span class="o">;</span>
<span class="kd">public</span> <span class="n">HttpRequest</span> <span class="n">request</span><span class="o">;</span>
</code></pre></div><p>Sometimes, you may have collisions between <a href="/2015/05/07/ctors-must-be-code-free.html">constructor</a> parameters and in-class properties if the constructor saves incoming data in an instantiated object. In this case, I recommend to create abbreviations by removing vowels (see how <a href="http://pe.usps.gov/text/pub28/28apc_002.htm">USPS abbreviates street names</a>).</p><p>Another example:</p><div class="highlight"><pre><code class="language-java" data-lang="java"><span></span><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Message</span> <span class="o">{</span>
  <span class="kd">private</span> <span class="n">String</span> <span class="n">recipient</span><span class="o">;</span>
  <span class="kd">public</span> <span class="nf">Message</span><span class="o">(</span><span class="n">String</span> <span class="n">rcpt</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">this</span><span class="o">.</span><span class="na">recipient</span> <span class="o">=</span> <span class="n">rcpt</span><span class="o">;</span>
  <span class="o">}</span>
<span class="o">}</span>
</code></pre></div><p>In many cases, the best hint for a name of a variable can ascertained by reading its class name. Just write it with a small letter, and you should be good:</p><div class="highlight"><pre><code class="language-java" data-lang="java"><span></span><span class="n">File</span> <span class="n">file</span><span class="o">;</span>
<span class="n">User</span> <span class="n">user</span><span class="o">;</span>
<span class="n">Branch</span> <span class="n">branch</span><span class="o">;</span>
</code></pre></div><p>However, <em>never</em> do the same for primitive types, like <code>Integer number</code> or <code>String string</code>.</p><p>You can also use an adjective, when there are multiple variables with different characteristics. For instance:</p><div class="highlight"><pre><code class="language-text" data-lang="text"><span></span>String contact(String left, String right);
</code></pre></div><h2 id="constructors">Constructors</h2><p>Without <a href="/2016/06/17/dont-use-java-assertions.html">exceptions</a>, there should be only <em>one</em> constructor that stores data in object variables. All other constructors should call this one with different arguments. For example:</p><div class="highlight"><pre><code class="language-java" data-lang="java"><span></span><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Server</span> <span class="o">{</span>
  <span class="kd">private</span> <span class="n">String</span> <span class="n">address</span><span class="o">;</span>
  <span class="kd">public</span> <span class="nf">Server</span><span class="o">(</span><span class="n">String</span> <span class="n">uri</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">this</span><span class="o">.</span><span class="na">address</span> <span class="o">=</span> <span class="n">uri</span><span class="o">;</span>
  <span class="o">}</span>
  <span class="kd">public</span> <span class="nf">Server</span><span class="o">(</span><span class="n">URI</span> <span class="n">uri</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">this</span><span class="o">(</span><span class="n">uri</span><span class="o">.</span><span class="na">toString</span><span class="o">());</span>
  <span class="o">}</span>
<span class="o">}</span>
</code></pre></div><p>More about it in <a href="/2015/05/28/one-primary-constructor.html">There Can Be Only One Primary Constructor</a>.</p><h2 id="one-time-variables">One-time Variables</h2><p>Avoid one-time variables at all costs. By &quot;one-time&quot; I mean variables that are used only once. Like in this example:</p><div class="highlight"><pre><code class="language-java" data-lang="java"><span></span><span class="n">String</span> <span class="n">name</span> <span class="o">=</span> <span class="s">&quot;data.txt&quot;</span><span class="o">;</span>
<span class="k">return</span> <span class="k">new</span> <span class="n">File</span><span class="o">(</span><span class="n">name</span><span class="o">);</span>
</code></pre></div><p>This above variable is used only once and the code should be refactored to:</p><div class="highlight"><pre><code class="language-java" data-lang="java"><span></span><span class="k">return</span> <span class="k">new</span> <span class="n">File</span><span class="o">(</span><span class="s">&quot;data.txt&quot;</span><span class="o">);</span>
</code></pre></div><p>Sometimes, in very rare cases&mdash;mostly because of better formatting&mdash;one-time variables may be used. Nevertheless, try to avoid such situations at all costs.</p><h2 id="exceptions">Exceptions</h2><p>Needless to say, you should <strong>never</strong> swallow exceptions, but rather let them bubble up as high as possible. Private methods should always let checked exceptions go out.</p><p>Never use exceptions for flow control. For example this code is wrong:</p><div class="highlight"><pre><code class="language-java" data-lang="java"><span></span><span class="kt">int</span> <span class="n">size</span><span class="o">;</span>
<span class="k">try</span> <span class="o">{</span>
  <span class="n">size</span> <span class="o">=</span> <span class="k">this</span><span class="o">.</span><span class="na">fileSize</span><span class="o">();</span>
<span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">IOException</span> <span class="n">ex</span><span class="o">)</span> <span class="o">{</span>
  <span class="n">size</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
<span class="o">}</span>
</code></pre></div><p>Seriously, what if that <code>IOException</code> says &quot;disk is full?&quot; Will you still assume that the size of the file is zero and move on?</p><h2 id="indentation">Indentation</h2><p>For indentation, the <a href="/2014/10/23/paired-brackets-notation.html">main rule</a> is that a bracket should either end a line or be closed on the same line (reverse rule applies to a closing bracket). For example, the following is not correct because the first bracket is not closed on the same line and there are symbols after it. The second bracket is also in trouble because there are symbols in front of it and it is not opened on the same line:</p><div class="highlight"><pre><code class="language-text" data-lang="text"><span></span>final File file = new File(directory,
  &quot;file.txt&quot;);
</code></pre></div><p>Correct indentation should look like:</p><div class="highlight"><pre><code class="language-text" data-lang="text"><span></span>StringUtils.join(
  Arrays.asList(
    &quot;first line&quot;,
    &quot;second line&quot;,
    StringUtils.join(
      Arrays.asList(&quot;a&quot;, &quot;b&quot;)
    )
  ),
  &quot;separator&quot;
);
</code></pre></div><p>The second important rule of indentation says that you should put as much as possible on one line - within the limit of 80 characters. The example above is not valid since it can be compacted:</p><div class="highlight"><pre><code class="language-text" data-lang="text"><span></span>StringUtils.join(
  Arrays.asList(
    &quot;first line&quot;, &quot;second line&quot;,
    StringUtils.join(Arrays.asList(&quot;a&quot;, &quot;b&quot;))
  ),
  &quot;separator&quot;
);
</code></pre></div><h2 id="redundant-constants">Redundant Constants</h2><p>Class constants should be used when you want to share information between class methods, and this information is a characteristic (!) of your class. Don&#39;t use constants as a replacement of string or numeric literals&mdash;very bad practice that leads to code pollution. Constants (as with any <a href="/2016/07/14/who-is-object.html">object</a> in <a href="/2016/08/15/what-is-wrong-object-oriented-programming.html">OOP</a>) should have a meaning in a real world. What meaning do these constants have in the real world:</p><div class="highlight"><pre><code class="language-java" data-lang="java"><span></span><span class="kd">class</span> <span class="nc">Document</span> <span class="o">{</span>
  <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">D_LETTER</span> <span class="o">=</span> <span class="s">&quot;D&quot;</span><span class="o">;</span> <span class="c1">// bad practice</span>
  <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">EXTENSION</span> <span class="o">=</span> <span class="s">&quot;.doc&quot;</span><span class="o">;</span> <span class="c1">// good practice</span>
<span class="o">}</span>
</code></pre></div><p>Another typical mistake is to use constants in <a href="/2017/05/17/single-statement-unit-tests.html">unit tests</a> to avoid duplicate string/numeric literals in test methods. <a href="/2016/05/03/test-methods-must-share-nothing.html">Don&#39;t do this</a>! Every test method should work with its own set of input values.</p><p>Use new texts and numbers in every new test method. They are independent. So, why do they have to share the same input constants?</p><h2 id="test-data-coupling">Test Data Coupling</h2><p>This is an example of <a href="http://en.wikipedia.org/wiki/Coupling_%28computer_programming%29">data coupling</a> in a test method:</p><div class="highlight"><pre><code class="language-java" data-lang="java"><span></span><span class="n">User</span> <span class="n">user</span> <span class="o">=</span> <span class="k">new</span> <span class="n">User</span><span class="o">(</span><span class="s">&quot;Jeff&quot;</span><span class="o">);</span>
<span class="c1">// maybe some other code here</span>
<span class="n">MatcherAssert</span><span class="o">.</span><span class="na">assertThat</span><span class="o">(</span><span class="n">user</span><span class="o">.</span><span class="na">name</span><span class="o">(),</span> <span class="n">Matchers</span><span class="o">.</span><span class="na">equalTo</span><span class="o">(</span><span class="s">&quot;Jeff&quot;</span><span class="o">));</span>
</code></pre></div><p>On the last line, we couple <code>&quot;Jeff&quot;</code> with the same string literal from the first line. If, a few months later, someone wants to change the value on the third line, he/she has to spend extra time finding where else <code>&quot;Jeff&quot;</code> is used in the same method.</p><p>To avoid this data coupling, you should introduce a variable. More about it here: <a href="/2015/05/25/unit-test-scaffolding.html">A Few Thoughts on Unit Test Scaffolding</a>.</p></div></article> </main></div><div class="wrapper"><div class="youtube"><ul><li><a href='https://www.youtube.com/watch?v=9yjtsCK6Wdk'><img src='https://i.ytimg.com/vi/9yjtsCK6Wdk/mqdefault.jpg'/></a>A Few Thoughts About Constructors in OOP (webinar #7); 7 October 2015; 935 views; 28 likes</li></ul></div></div><div class="wrapper"> 
  <div class="unprintable">
    <hr/>
    <p>
      You may also find these <strong>related</strong> posts interesting:
      
        <a href="/2017/06/22/object-oriented-input-output-in-cactoos.html" data-score="2.6220155011240096">Object-Oriented Declarative Input/Output in Cactoos</a>;
      
        <a href="/2016/02/03/design-patterns-and-anti-patterns.html" data-score="2.3398873651061285">Design Patterns and Anti-Patterns, Love and Hate</a>;
      
        <a href="/2015/04/16/award.html" data-score="1.9672573899533188">Software Quality Award, 2015</a>;
      
        <a href="/2017/07/25/my-favorite-websites.html" data-score="1.4732685919978419">My Favorite Websites</a>;
      
        <a href="/2017/06/27/my-environment.html" data-score="1.463333062564652">My Work Environment</a>;
      
    </p>
  </div>

</div><div class="disqus" role="complementary"><p class="disqus_hint"> Please, use <a href="https://help.disqus.com/customer/portal/articles/665057-syntax-highlighting">syntax highlighting</a> in your comments, to make them more readable.</p><div id="disqus_thread" class="disqus-thread"></div><script> var disqus_config = function () { this.page.url = document.location.href.split('?')[0].split('#')[0]; this.page.identifier = this.page.url; }; (function() { var d = document, s = d.createElement('script'); s.src = '//yegor256.disqus.com/embed.js'; s.setAttribute('data-timestamp', +new Date()); (d.head || d.body).appendChild(s); })(); </script> <noscript><div><p class="red"> JavaScript is disabled in your browser, that's why you can't see comments under this post.</p></div></noscript></div><div class="wrapper"> <footer class="footer"><p> &copy; <span itemscope="" itemprop="copyrightHolder" itemtype="http://schema.org/Person"> <span itemprop="name">Yegor Bugayenko</span> </span> 2014&ndash;<span itemprop="copyrightYear">2017</span></p></footer></div></section><div class="wrapper unprintable" style="text-align:center;margin-top:2em;"> <a href="http://www.sixnines.io/h/3ba1652f"> <img src="http://www.sixnines.io/b/3ba1652f?style=flat" alt="sixnines availability badge"/> </a></div><script src="//code.jquery.com/jquery-1.9.0.min.js"></script> <script src="/js/all.js?2c6e883ea0"></script> <script>var disqus_shortname = 'yegor256';</script> <script id="dsq-count-scr" src="//yegor256.disqus.com/count.js" async="async"></script> <script src="//cdn.ravenjs.com/3.17.0/raven.min.js" crossorigin="anonymous"></script> <script> Raven.config('//312494d1f047451fa2e8cb845575360c@sentry.io/193861').install(); </script> <script> (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){ (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o), m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m) })(window,document,'script','//www.google-analytics.com/analytics.js','ga'); ga('create', 'UA-1963507-32', 'auto'); ga('send', 'pageview'); </script> <script language="javascript" type="text/javascript"> Cd=document;Cr="&"+Math.random();Cp="&s=1"; Cd.cookie="b=b";if(Cd.cookie)Cp+="&c=1"; Cp+="&t="+(new Date()).getTimezoneOffset(); if(self!=top)Cp+="&f=1"; </script> <script language="javascript1.1" type="text/javascript"> if(navigator.javaEnabled())Cp+="&j=1"; </script> <script language="javascript1.2" type="text/javascript"> if(typeof(screen)!='undefined')Cp+="&w="+screen.width+"&h="+ screen.height+"&d="+(screen.colorDepth?screen.colorDepth:screen.pixelDepth); </script> <script language="javascript" type="text/javascript"> Cd.write("<img src='//c.hit.ua/hit?i=95870&g=0&x=2"+Cp+Cr+ "&r="+escape(Cd.referrer)+"&u="+escape(window.location.href)+ "' border='0' wi"+"dth='1' he"+"ight='1'/>"); </script> </body> </html>
