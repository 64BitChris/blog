<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US" xml:lang="en-US"
  itemscope="" itemtype="http://schema.org/WebPage">
  <head>
    <base href="http://www.yegor256.com/2015/01/10/windows-appveyor-maven.html"/>
    <meta charset="utf-8"/>
    <meta itemprop="name" content="Continuous Integration on Windows, with Appveyor and Maven" />
    <meta itemprop="author" content="Yegor Bugayenko" />
    <meta itemprop="breadcrumb" content="http://www.yegor256.com" />
    <meta itemprop="keywords" content="appveyor maven, continuous integration win7, continuous integration windows, maven appveyor, maven windows" />
    <meta itemprop="description" content="Appveyor is a Windows powered continuous integration hosted service; this article explains how Java Maven builds can be hosted there " />
    <meta name="description" content="Appveyor is a Windows powered continuous integration hosted service; this article explains how Java Maven builds can be hosted there " />
    <meta name="keywords" content="appveyor maven, continuous integration win7, continuous integration windows, maven appveyor, maven windows" />
    <meta name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1"/>
    <meta name="twitter:creator" content="@yegor256"/>
    <meta property="twitter:account_id" content="4503599630178231" />
    <meta property="og:url" content="http://www.yegor256.com/2015/01/10/windows-appveyor-maven.html"/>
    
    <meta property="og:site_name" content="yegor256"/>
    <meta property="og:title" content="Continuous Integration on Windows, with Appveyor and Maven"/>
    <meta property="og:description" content="Appveyor is a Windows powered continuous integration hosted service; this article explains how Java Maven builds can be hosted there "/>
    <meta property="og:type" content="article" />
    <meta property="og:locale" content="en_US" />
    <meta property="fb:admins" content="10203747823006002"/>
    <meta name="twitter:site" content="@yegor256"/>
    <meta name="twitter:creator" content="@yegor256"/>
    <meta name="twitter:url" content="http://www.yegor256.com/2015/01/10/windows-appveyor-maven.html"/>
    <meta property="article:author" content="https://www.facebook.com/yegor256"/>
    <meta name="p:domain_verify" content="61f09f0ef5db665328827225a3fc11bd"/>
    <link rel="search" type="application/opensearchdescription+xml" href="opensearch.xml" title="yegor256" />
    <link rel="shortcut icon" href="/favicon.ico?3fd8210"/>
    <link rel="apple-touch-icon" href="/favicon.ico?3fd8210"/>
    <link rel="alternate" type="application/rss+xml" title="RSS for yegor256.com" href="http://www.yegor256.com/rss.xml"/>
    <link rel="author" href="http://plus.google.com/u/0/114792568016408327418?rel=author" />
    <link rel="publisher" href="http://plus.google.com/u/0/114792568016408327418" />
    <link rel="stylesheet" href="/css/layout.css?3fd8210"/>
    <link rel="stylesheet" href="/css/icons.css?3fd8210"/>
    <link rel="canonical" href="http://www.yegor256.com/2015/01/10/windows-appveyor-maven.html" />
    <title>Continuous Integration on Windows, with Appveyor and Maven - Yegor Bugayenko
      </title>
    <script src="http://code.jquery.com/jquery-2.1.0.min.js"></script>
    <script src="/js/global.js?3fd8210"></script>
  </head>
  <body>
    <div class="wrapper">
      <aside class="header-toggle unprintable" id="header-toggle" title="show head menu"
        onclick="$('#header').show();$('#header-toggle').hide();">&#9776;</aside>
      <header class="header" id="header">
        <div class="face">
          <a href="/about-me.html" class="sub"><span>subscribe</span></a>
          <a href="/about-me.html">
            <img src="/images/yegor-bugayenko-192x192.png" class="photo"
              alt="photo of Yegor Bugayenko"/>
          </a>
          <a href="/about-me.html" class="hire"><span>hire me</span></a>
        </div>
        <nav>
          <ul class="menu social notranslate">
            <li><a href="http://www.twitter.com/yegor256" title="follow me in Twitter"><i class="icon icon-twitter notranslate" aria-hidden="true"></i></a></li>
            <li><a href="/rss" title="RSS feed"><i class="icon icon-rss notranslate" aria-hidden="true"></i></a></li>
            <li><a href="https://github.com/yegor256" title="my GitHub profile"><i class="icon icon-github notranslate" aria-hidden="true"></i></a></li>
            <li><a href="http://stackoverflow.com/users/187141/yegor256" title="my StackOverflow profile"><i class="icon icon-stackoverflow notranslate" aria-hidden="true"></i></a></li>
            <li><a href="https://www.facebook.com/yegor256" title="follow me in Facebook"><i class="icon icon-facebook notranslate" aria-hidden="true"></i></a></li>
            <li><a href="https://plus.google.com/+YegorBugayenko/posts" title="follow me in Google+"><i class="icon icon-googleplus notranslate" aria-hidden="true"></i></a></li>
            <li><a href="https://www.linkedin.com/in/yegor256" title="my LinkedIn profile"><i class="icon icon-linkedin notranslate" aria-hidden="true"></i></a></li>
            <li><a href="https://www.youtube.com/channel/UCr9qCdqXLm2SU0BIs6d_68Q" title="my Youtube video channel"><i class="icon icon-youtube notranslate" aria-hidden="true"></i></a></li>
            <li><a href="https://www.pinterest.com/yegor256/" title="my Pinterest boards"><i class="icon icon-pinterest notranslate" aria-hidden="true"></i></a></li>
            <li><a href="mailto:yegor@teamed.io" title="yegor@teamed.io"><i class="icon icon-mail notranslate" aria-hidden="true"></i></a></li>
          </ul>
          <ul class="menu">
            <li><a href="/" title="home page">home</a></li>
            <li><a href="/best.html" title="best articles to read">12&nbsp;best</a></li>
            <li><a href="/contents.html" title="blog contents">all&nbsp;170</a></li>
            <li><a href="/webinars.html" title="webinars">webinars</a></li>
            <li><a href="/talks.html" title="talks">talks</a></li>
            <li><a href="/books.html" title="books">books</a></li>
            <li><a href="/award.html" title="software quality award">award</a></li>
          </ul>
        </nav>
        <div id="search">
          <form method="get" action="https://www.google.com/search" style="position:relative">
            <input name="sitesearch" value="yegor256.com" type="hidden"/>
            <input id="search-query" class="field field-text"
              onfocus="$('#google').css('display', 'inline-block');"
              name="q" placeholder="Search" autocomplete="off"/>
            <span class="desktop-only">
              <input type="image" src="/images/google-search-icon.png" id="google" title="search via Google"
                style="width:3em;height:3em;display:none;position:absolute;margin-left:1em;" alt="search via Google"/>
            </span>
          </form>
          <div id="search-results" style="display: none;">
            <div class="entries"></div>
          </div>
        </div>
        
        <script id="search-results-template" type="text/mustache">
          {{#entries}}
            <div>
              <a href="{{url}}">{{title}}</a>
            </div>
          {{/entries}}
        </script>
        
        <div class="hot">
          <a href="http://goo.gl/5Yfx1i">
            <img src="/images/books/elegant-objects/cover.png"
              alt="Elegant Objects"
              style="width:100px;float:right;margin-left:1em;"/>
          </a>
          <ul>
            <li>
              <strong>Elegant Objects</strong>, my book about
              object-oriented programming, is published! Buy it
              <a href="http://goo.gl/5Yfx1i">on Amazon</a>
              and give me your feedback, please.
            </li>
            <!--
            <li>
              Meet me in Seattle, on Mar 12, at
              <a href="http://casitconf.org/casitconf16/talks/">CascadiaIT</a>,
              I'll be speaking about chat bots
            </li>
            -->
            <li>
              Meet me in Washington DC, on Mar 31, at
              <a href="http://www.sedcconference.org/">SEDC</a>,
              I'll be speaking about XDSD and meeting-free work
            </li>
            <li>
              <a href="https://plus.google.com/events/cn2nne1qnm8t475bt461igccrg4">Webinar #13</a>
              will be about the role of a Software Architect;
              join us on Apr 6, at 11am PST
            </li>
          </ul>
        </div>
      </header>
    </div>
    <section itemscope="" itemtype="http://schema.org/BlogPosting">

  <div class="wrapper">
    <header>
      <p class="printable">
        <img src="https://api.qrserver.com/v1/create-qr-code/?data=http://www.yegor256.com/2015/01/10/windows-appveyor-maven.html&amp;format=svg"
          style="width:125px;height:125px;" alt="QR code"/>
      </p>
      <p class="printable">
        <code>http://www.yegor256.com/2015/01/10/windows-appveyor-maven.html</code>
      </p>
      <h1 itemprop="name">Continuous Integration on Windows, with Appveyor and Maven</h1>
      
      <ul class="subline">
        <li>
          <time itemprop="datePublished" datetime="2015-01-10T00:00:00+00:00">
            10 January 2015
          </time>
        </li>
        
        <li class='unprintable desktop-only'><a href='https://github.com/yegor256/blog/commits/master/_posts/2015/jan/2015-01-10-windows-appveyor-maven.md'>modified</a>          on <time itemprop='dateModified' datetime='2015-10-18T19:22:01+0000'>18 October 2015</time></li>
        <li class="printable">Yegor Bugayenko</li>
        <li class="unprintable">
          <i class="icon icon-comments"></i>
          <a href="http://www.yegor256.com/2015/01/10/windows-appveyor-maven.html#disqus_thread">comments</a>
        </li>
      </ul>
      <p class="unprintable"><a href='/tag/devops.html' class='tag notranslate'>devops</a></p>
      <div class="buttons notranslate desktop-only">
        <nav class="share" role="navigation">
          <a href="http://www.facebook.com/sharer/sharer.php?u=http://www.yegor256.com/2015/01/10/windows-appveyor-maven.html"
            title="Share on Facebook" class="button">
            <span class="count count-facebook">0</span>
            <i class="icon icon-facebook notranslate" aria-hidden="true"></i>
          </a>
          <a href="https://twitter.com/share?url=http://www.yegor256.com/2015/01/10/windows-appveyor-maven.html&amp;text=Continuous+Integration+on+Windows%2C+with+Appveyor+and+Maven"
            title="Share on Twitter" class="button">
            <span class="count count-twitter">0</span>
            <i class="icon icon-twitter notranslate" aria-hidden="true"></i>
          </a>
          <a href="https://plus.google.com/share?url=http://www.yegor256.com/2015/01/10/windows-appveyor-maven.html"
            title="Share on Google+" class="button">
            <span class="count count-googleplus">0</span>
            <i class="icon icon-googleplus notranslate" aria-hidden="true"></i>
          </a>
          <a href="https://www.linkedin.com/cws/share?url=http://www.yegor256.com/2015/01/10/windows-appveyor-maven.html"
            title="Share on LinkedIn" class="button">
            <span class="count count-linkedin">0</span>
            <i class="icon icon-linkedin notranslate" aria-hidden="true"></i>
          </a>
          <a href="http://www.stumbleupon.com/submit?url=http://www.yegor256.com/2015/01/10/windows-appveyor-maven.html&amp;title=Continuous+Integration+on+Windows%2C+with+Appveyor+and+Maven"
            title="Share on StumbleUpon" class="button">
            <span class="count count-stumbleupon">0</span>
            <i class="icon icon-stumbleupon notranslate" aria-hidden="true"></i>
          </a>
          <a href="http://reddit.com/submit?url=http://www.yegor256.com/2015/01/10/windows-appveyor-maven.html%3F2015-01&amp;title=Continuous+Integration+on+Windows%2C+with+Appveyor+and+Maven"
            title="Share on Reddit" class="button">
            <span class="count count-reddit">0</span>
            <i class="icon icon-reddit notranslate" aria-hidden="true"></i>
          </a>
          <a href="http://news.ycombinator.com/submitlink?u=http://www.yegor256.com/2015/01/10/windows-appveyor-maven.html%3F2015-01&amp;t=Continuous+Integration+on+Windows%2C+with+Appveyor+and+Maven"
            title="Share on Hacker News" class="button">
            <i class="icon icon-hackernews notranslate" aria-hidden="true"></i>
          </a>
        </nav>
      </div>
    </header>
    <main>
      <article class="main" itemprop="articleBody">
        <figure class='badge'><a href='http://www.appveyor.com'><img src='http://cf.jare.io/?u=http%3A%2F%2Fwww.yegor256.com%2Fimages%2F2014%2F10%2Fappveyor.png' style='width:64px;' alt='badge'/></a></figure>

<p>The purpose of Continuous Integration is to tell us, the developers,
when the product we&#39;re working on is not &quot;packagable&quot; any more. The
sooner we get the signal, the better. Why? Because the damage will
be younger if we find it sooner. The younger the damage, the easier it is
to fix. There are many modern and high-quality
<a href="/2014/10/05/ten-hosted-continuous-integration-services.html">hosted continuous integration services</a>,
but only one of them (to my knowledge) supports Windows as a build
platform &mdash; <a href="http://www.appveyor.com">appveyor.com</a>. My experience
tells me that it&#39;s a good practice to continuously integrate on
different platforms at the same time, especially when developing an
open source library. That&#39;s why, in <a href="http://www.teamed.io">teamed.io</a>
we&#39;re using AppVeyor in combination with <a href="http://www.travis-ci.org">Travis</a>.</p>

<!--more-->

<p>This is how I managed to configure AppVeyor to build my Java Maven projects
(this is <code>appveyor.yml</code> configuration file you&#39;re supposed to place
in the root directory of your GitHub repository):</p>

<figure class="highlight"><pre><code class="language-yaml" data-lang="yaml"><span class="l-Scalar-Plain">version</span><span class="p-Indicator">:</span> <span class="s">&#39;{build}&#39;</span>
<span class="l-Scalar-Plain">os</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">Windows Server 2012</span>
<span class="l-Scalar-Plain">install</span><span class="p-Indicator">:</span>
  <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">ps</span><span class="p-Indicator">:</span> <span class="p-Indicator">|</span>
      <span class="no">Add-Type -AssemblyName System.IO.Compression.FileSystem</span>
      <span class="no">if (!(Test-Path -Path &quot;C:\maven&quot; )) {</span>
        <span class="no">(new-object System.Net.WebClient).DownloadFile(</span>
          <span class="no">&#39;http://www.us.apache.org/dist/maven/maven-3/3.2.5/binaries/apache-maven-3.2.5-bin.zip&#39;,</span>
          <span class="no">&#39;C:\maven-bin.zip&#39;</span>
        <span class="no">)</span>
        <span class="no">[System.IO.Compression.ZipFile]::ExtractToDirectory(&quot;C:\maven-bin.zip&quot;, &quot;C:\maven&quot;)</span>
      <span class="no">}</span>
  <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">cmd</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">SET PATH=C:\maven\apache-maven-3.2.5\bin;%JAVA_HOME%\bin;%PATH%</span>
  <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">cmd</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">SET MAVEN_OPTS=-XX:MaxPermSize=2g -Xmx4g</span>
  <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">cmd</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">SET JAVA_OPTS=-XX:MaxPermSize=2g -Xmx4g</span>
<span class="l-Scalar-Plain">build_script</span><span class="p-Indicator">:</span>
  <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">mvn clean package --batch-mode -DskipTest</span>
<span class="l-Scalar-Plain">test_script</span><span class="p-Indicator">:</span>
  <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">mvn clean install --batch-mode</span>
<span class="l-Scalar-Plain">cache</span><span class="p-Indicator">:</span>
  <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">C:\maven\</span>
  <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">C:\Users\appveyor\.m2</span></code></pre></figure>

<p>It was not that easy at all, so I decided to share. You can see
how this configuration works in these projects:
<a href="https://github.com/jcabi/jcabi-aspects">jcabi-aspects</a>,
<a href="https://github.com/jcabi/jcabi-email">jcabi-email</a>,
<a href="https://github.com/jcabi/jcabi-dynamo">jcabi-dynamo</a>, and
<a href="https://github.com/yegor256/rultor">rultor</a>.</p>

      </article>
    </main>
    
  <div class="unprintable">
    <h2>Related Posts</h2>
    <p>You may also find these posts interesting:</p>
    <ul>
      
        <li>
          <a href="/2015/04/16/award.html" data-score="2.617947369599193">Software Quality Award, 2015</a>
        </li>
      
        <li>
          <a href="/2016/02/03/design-patterns-and-anti-patterns.html" data-score="2.5859611473271937">Design Patterns and Anti-Patterns, Love and Hate</a>
        </li>
      
        <li>
          <a href="/2015/04/22/favorite-software-books.html" data-score="1.3227271433353285">My Favorite Software Books</a>
        </li>
      
        <li>
          <a href="/2015/09/07/maven-repository-amazon-s3.html" data-score="1.213171818518144">How to Set Up a Private Maven Repository in Amazon S3</a>
        </li>
      
        <li>
          <a href="/2016/03/15/wring-dispatcher-github-notifications.html" data-score="1.0210669507477446">Wring.io, a Dispatcher of GitHub Notifications</a>
        </li>
      
    </ul>
  </div>


    <div class="teamed-banner">
      <a href="http://www.teamed.io">
        <img src="/images/teamed-banner.jpg" alt="teamed banner"/>
      </a>
    </div>
  </div>

  <div class="disqus" role="complementary">
    <div id="disqus_thread" class="disqus-thread"></div>
    <a href="http://disqus.com" class="dsq-brlink">
      comments powered by
      <span class="logo-disqus">Disqus</span>
    </a>
  </div>

  <div class="wrapper">
    <footer class="footer">
      <p>
        &copy;
        <span itemprop="author">Yegor Bugayenko</span>,
        2014-2016
      </p>
    </footer>
  </div>

</section>

<script src="/js/post.js?3fd8210"></script>
<script src="//a.disquscdn.com/embed.js?3fd8210"></script>

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
      ga('create', 'UA-1963507-32', 'auto');
      ga('send', 'pageview');
    </script>
  </body>
</html>
