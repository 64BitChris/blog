<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US" xml:lang="en-US"
  itemscope="" itemtype="http://schema.org/WebPage">
  <head>
    <meta charset="utf-8"/>
    <meta itemprop="name" content="A Few Valid Reasons to Reject a Bug Fix" />
    <meta itemprop="author" content="Yegor Bugayenko" />
    <meta itemprop="breadcrumb" content="http://www.yegor256.com" />
    <meta itemprop="keywords" content="bug code review, bug fix, pull request code review, pull request rules, review pull request" />
    <meta itemprop="description" content="A bug fix is supposed to improve the quality of the software, but very often the effect of it is actually negative; here is why and how to avoid that. " />
    <meta name="description" content="A bug fix is supposed to improve the quality of the software, but very often the effect of it is actually negative; here is why and how to avoid that. " />
    <meta name="keywords" content="bug code review, bug fix, pull request code review, pull request rules, review pull request" />
    <meta name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1"/>
    <meta name="twitter:creator" content="@yegor256"/>
    <meta property="twitter:account_id" content="4503599630178231" />
    <meta property="og:url" content="http://www.yegor256.com/2015/06/22/valid-reasons-to-reject-bug-fix.html"/>
    
    <meta property="og:site_name" content="yegor256"/>
    <meta property="og:title" content="A Few Valid Reasons to Reject a Bug Fix"/>
    <meta property="og:description" content="A bug fix is supposed to improve the quality of the software, but very often the effect of it is actually negative; here is why and how to avoid that. "/>
    <meta property="og:type" content="article" />
    <meta property="og:locale" content="en_US" />
    <meta property="fb:admins" content="10203747823006002"/>
    <meta name="twitter:site" content="@yegor256"/>
    <meta name="twitter:creator" content="@yegor256"/>
    <meta name="twitter:url" content="http://www.yegor256.com/2015/06/22/valid-reasons-to-reject-bug-fix.html"/>
    <meta property="article:author" content="https://www.facebook.com/yegor256"/>
    <meta name="p:domain_verify" content="61f09f0ef5db665328827225a3fc11bd"/>
    <link rel="search" type="application/opensearchdescription+xml" href="opensearch.xml" title="yegor256" />
    <link rel="shortcut icon" href="/favicon.ico?278e7bb"/>
    <link rel="apple-touch-icon" href="/favicon.ico?278e7bb"/>
    <link rel="alternate" type="application/rss+xml" title="RSS for yegor256.com" href="http://www.yegor256.com/rss.xml"/>
    <link rel="author" href="http://plus.google.com/u/0/114792568016408327418?rel=author" />
    <link rel="publisher" href="http://plus.google.com/u/0/114792568016408327418" />
    <link rel="stylesheet" href="/css/layout.css?278e7bb"/>
    <link rel="stylesheet" href="/css/icons.css?278e7bb"/>
    <link rel="canonical" href="http://www.yegor256.com/2015/06/22/valid-reasons-to-reject-bug-fix.html" />
    <link rel="amphtml" href="http://www.yegor256.com/2015/06/22/valid-reasons-to-reject-bug-fix.amp.html" />
    <title>A Few Valid Reasons to Reject a Bug Fix - Yegor Bugayenko
      </title>
    <script src="//code.jquery.com/jquery-2.1.0.min.js"></script>
    <script src="/js/global.js?278e7bb"></script>
  </head>
  <body>
    <div class="wrapper">
      <aside class="header-toggle unprintable" id="header-toggle" title="show head menu"
        onclick="$('#header').show();$('#header-toggle').hide();">&#9776;</aside>
      <header class="header" id="header">
        <div class="face">
          <a href="/about-me.html#form" class="sub"><span>subscribe</span></a>
          <a href="/about-me.html">
            <img src="/images/yegor-bugayenko-192x192.png" class="photo"
              alt="photo of Yegor Bugayenko"/>
          </a>
        </div>
        <nav>
          <ul class="menu social notranslate">
            <li><a href="http://www.twitter.com/yegor256" title="follow me in Twitter"><i class="icon icon-twitter notranslate" aria-hidden="true"></i></a></li>
            <li><a href="/rss" title="RSS feed"><i class="icon icon-rss notranslate" aria-hidden="true"></i></a></li>
            <li><a href="https://github.com/yegor256" title="my GitHub profile"><i class="icon icon-github notranslate" aria-hidden="true"></i></a></li>
            <li><a href="http://stackoverflow.com/users/187141/yegor256" title="my StackOverflow profile"><i class="icon icon-stackoverflow notranslate" aria-hidden="true"></i></a></li>
            <li><a href="https://www.facebook.com/yegor256" title="follow me in Facebook"><i class="icon icon-facebook notranslate" aria-hidden="true"></i></a></li>
            <li><a href="https://instagram.com/yegor256" title="follow me in Instagram"><i class="icon icon-instagram notranslate" aria-hidden="true"></i></a></li>
            <li><a href="https://www.linkedin.com/in/yegor256" title="my LinkedIn profile"><i class="icon icon-linkedin notranslate" aria-hidden="true"></i></a></li>
            <li><a href="https://www.youtube.com/channel/UCr9qCdqXLm2SU0BIs6d_68Q" title="my Youtube video channel"><i class="icon icon-youtube notranslate" aria-hidden="true"></i></a></li>
            <li><a href="https://www.pinterest.com/yegor256/" title="my Pinterest boards"><i class="icon icon-pinterest notranslate" aria-hidden="true"></i></a></li>
            <li><a href="mailto:yegor@teamed.io" title="yegor@teamed.io"><i class="icon icon-mail notranslate" aria-hidden="true"></i></a></li>
          </ul>
          <ul class="menu">
            <li><a href="/" title="home page">home</a></li>
            <li><a href="/best.html" title="best articles to read">12&#160;best</a></li>
            <li><a href="/contents.html" title="blog contents">all&#160;183</a></li>
            <li><a href="/webinars.html" title="webinars">webinars</a></li>
            <li><a href="/talks.html" title="talks">talks</a></li>
            <li><a href="/books.html" title="books">books</a></li>
            <li><a href="/award.html" title="software quality award">award</a></li>
          </ul>
        </nav>
        <div id="search">
          <form method="get" action="https://www.google.com/search" style="position:relative">
            <input name="sitesearch" value="yegor256.com" type="hidden"/>
            <input id="search-query" class="field field-text"
              onfocus="$('#google').css('display', 'inline-block');"
              name="q" placeholder="Search" autocomplete="off"/>
            <span class="desktop-only">
              <input type="image" src="/images/google-search-icon.svg" id="google" title="search via Google"
                style="height:2.4em;display:none;position:absolute;top:.3em;margin-left:1em;" alt="search via Google"/>
            </span>
          </form>
          <div id="search-results" style="display: none;">
            <div class="entries"></div>
          </div>
        </div>
        <div class="hot">
          <ul>
            <li>
              At <a href="/webinars.html">Webinar #16</a>
              we'll discuss why interfaces in OOP must be small and functionality-poor,
              join us on July 6, at 11am PST.
            </li>
            <!--
            <li>
              Meet me at
              <a href="http://slcdevopsdays.org/2016-speaker-proposals-continuous-integration-may-have-negative-effects/">SLC DevOpsDays</a> (Salt Lake City/June-14),
              and later
              <a href="/talks.html">somewhere else</a>.
            </li>
            -->
          </ul>
        </div>
      </header>
    </div>
    <section itemscope="" itemtype="http://schema.org/BlogPosting">

  <div class="wrapper">
    <header>
      <p class="printable">
        <img src="https://api.qrserver.com/v1/create-qr-code/?data=http://www.yegor256.com/2015/06/22/valid-reasons-to-reject-bug-fix.html&amp;format=svg"
          style="width:125px;height:125px;" alt="QR code"/>
      </p>
      <p class="printable">
        <code>http://www.yegor256.com/2015/06/22/valid-reasons-to-reject-bug-fix.html</code>
      </p>
      <h1 itemprop="name">A Few Valid Reasons to Reject a Bug Fix</h1>
      
      <ul class="subline">
        <li>
          <time itemprop="datePublished" datetime="2015-06-22T00:00:00+00:00">
            22 June 2015
          </time>
        </li>
        
        <li class='unprintable desktop-only'><a href='https://github.com/yegor256/blog/commits/master/_posts/2015/jun/2015-06-22-valid-reasons-to-reject-bug-fix.md'>modified</a>          on <time itemprop='dateModified' datetime='2016-05-08T15:09:56+0000'>8 May 2016</time></li>
        <li class="printable">Yegor Bugayenko</li>
        <li class="unprintable">
          <i class="icon icon-comments"></i>
          <a href="http://www.yegor256.com/2015/06/22/valid-reasons-to-reject-bug-fix.html#disqus_thread">comments</a>
        </li>
      </ul>
      <p class="unprintable"><a href='/tag/agile.html' class='tag notranslate'>agile</a> <a href='/tag/management.html' class='tag notranslate'>management</a></p>
      <div class="buttons notranslate desktop-only">
        <nav class="share" role="navigation">
          <a href="http://www.facebook.com/sharer/sharer.php?u=http://www.yegor256.com/2015/06/22/valid-reasons-to-reject-bug-fix.html"
            title="Share on Facebook" class="button">
            <span class="count count-facebook">0</span>
            <i class="icon icon-facebook notranslate" aria-hidden="true"></i>
          </a>
          <a href="https://twitter.com/share?url=http://www.yegor256.com/2015/06/22/valid-reasons-to-reject-bug-fix.html&amp;text=A+Few+Valid+Reasons+to+Reject+a+Bug+Fix"
            title="Share on Twitter" class="button">
            <span class="count count-twitter">0</span>
            <i class="icon icon-twitter notranslate" aria-hidden="true"></i>
          </a>
          <a href="https://plus.google.com/share?url=http://www.yegor256.com/2015/06/22/valid-reasons-to-reject-bug-fix.html"
            title="Share on Google+" class="button">
            <span class="count count-googleplus">0</span>
            <i class="icon icon-googleplus notranslate" aria-hidden="true"></i>
          </a>
          <a href="https://www.linkedin.com/cws/share?url=http://www.yegor256.com/2015/06/22/valid-reasons-to-reject-bug-fix.html"
            title="Share on LinkedIn" class="button">
            <span class="count count-linkedin">0</span>
            <i class="icon icon-linkedin notranslate" aria-hidden="true"></i>
          </a>
          <a href="http://www.stumbleupon.com/submit?url=http://www.yegor256.com/2015/06/22/valid-reasons-to-reject-bug-fix.html&amp;title=A+Few+Valid+Reasons+to+Reject+a+Bug+Fix"
            title="Share on StumbleUpon" class="button">
            <span class="count count-stumbleupon">0</span>
            <i class="icon icon-stumbleupon notranslate" aria-hidden="true"></i>
          </a>
          <a href="http://reddit.com/submit?url=http://www.yegor256.com/2015/06/22/valid-reasons-to-reject-bug-fix.html%3F2015-25&amp;title=A+Few+Valid+Reasons+to+Reject+a+Bug+Fix"
            title="Share on Reddit" class="button">
            <span class="count count-reddit">0</span>
            <i class="icon icon-reddit notranslate" aria-hidden="true"></i>
          </a>
          <a href="http://news.ycombinator.com/submitlink?u=http://www.yegor256.com/2015/06/22/valid-reasons-to-reject-bug-fix.html%3F2015-25&amp;t=A+Few+Valid+Reasons+to+Reject+a+Bug+Fix"
            title="Share on Hacker News" class="button">
            <i class="icon icon-hackernews notranslate" aria-hidden="true"></i>
          </a>
        </nav>
      </div>
    </header>
    <main>
      <article class="main" itemprop="articleBody">
        <p>A bug exists when something doesn&#39;t work as expected. A <em>bug
fix</em> is basically a patch (a pull request) to the existing code base that
is supposed to solve the problem and make sure that &quot;something&quot;
works as expected. Very often, such a patch fixes one thing
and breaks many others. I believe that sometimes it&#39;s necessary to <strong>reject</strong>
a bug fix and ask its author to re-do the patch in order to
protect the project from bigger problems. There are a few
valid reasons for such a rejection, according to my experience.</p>

<!--more-->

<figure><img src='http://cf.jare.io/?u=http%3A%2F%2Fwww.yegor256.com%2Fimages%2F2015%2F06%2Fcrimen-ferpecto.jpg' style='width:600px;max-width:100%;' alt='El Crimen Perfecto (2004) by Álex de la Iglesia'/><figcaption>El Crimen Perfecto (2004) by Álex de la Iglesia</figcaption></figure>

<h2 id="it-degrades-code-coverage">It Degrades Code Coverage</h2>

<p>This is a very common situation: After the changes are made in one place,
unit tests fail in some other place. The bug is fixed, but some possibly
unrelated unit tests start to report failure. Under pressure or simply because
we&#39;re lazy, we don&#39;t fix them; we simply remove the tests or mark them
as temporarily &quot;skipped.&quot; The problem is solved, the build is clean, so let&#39;s
merge the patch and call it a day, right? Wrong!</p>

<p>Even though I&#39;m in favor of <a href="/2015/01/15/how-to-cut-corners.html">cutting corners</a>
as much as possible, this is the corner I don&#39;t recommend you cut.</p>

<p>The unit tests are there precisely to prevent us from breaking the
product when under pressure.</p>

<p>Obviously, there are situations when the unit tests are wrong and
we have to delete them. In those cases, don&#39;t forget to create new ones.</p>

<figure class='badge'><a href='http://www.amazon.com/gp/product/0131177052/ref=as_li_tl?ie=UTF8&amp;camp=1789&amp;creative=390957&amp;creativeASIN=0131177052&amp;linkCode=as2&amp;tag=yegor256com-20&amp;linkId=D2WNVUW64RHDRGSC'><img src='http://cf.jare.io/?u=http%3A%2F%2Fwww.yegor256.com%2Fimages%2F2015%2F04%2Fbook-legacy.jpg' style='width:96px;max-width:100%;' alt='badge'/></a></figure>

<p>There are also situations when the bug must be fixed in a few minutes
to put the system back online and fixing all unit tests will take an hour.
Such a situation is a strong indicator that you&#39;ve got a terrible underlying
situation with test coverage in the product. There&#39;s no doubt that we have to make
a fix and ask our tests to shut up for some time. But in this case, make sure
the next task your team is working on after the bug fix is released is
correcting those disabled unit tests. I would recommend reading
<a href="http://www.amazon.com/gp/product/0131177052/ref=as_li_tl?ie=UTF8&amp;camp=1789&amp;creative=390957&amp;creativeASIN=0131177052&amp;linkCode=as2&amp;tag=yegor256com-20&amp;linkId=D2WNVUW64RHDRGSC">Working Effectively With Legacy Code</a>
by Michael Feathers, which tackles this very subject.</p>

<h2 id="it-doesn-39-t-reproduce-the-issue">It Doesn&#39;t Reproduce the Issue</h2>

<p>Sometimes the entire system may be down simply because of a small
typo in one line of code. An obvious bug fix is to remove the typo, but
that&#39;s not what a good project is expecting from us if we care about its
quality. The problem is not the typo but rather the absence of unit tests
that would catch the typo at the deployment phase.</p>

<p>The real problem is the lack of test code coverage in this particular
section of the code. By removing the typo, we&#39;re not helping the project
in any way. Moreover, we&#39;re doing it a disservice &mdash; we&#39;re <em>concealing</em>
the real problem.</p>

<p>Thus, no matter how small or cosmetic the issue is, its bug fix
must contain an extra test that first reproduces the bug. Without such
a test, a bug fix is a waste of the project&#39;s money.</p>

<p>Furthermore, without a unit test reproducing the issue, there is no
guarantee that our bug fix doesn&#39;t introduce more bugs. I would even say that
the more bug fixes we have, the higher the
<a href="http://en.wikipedia.org/wiki/Entropy_%28information_theory%29">entropy</a>.
And the only way to decrease this uncertainty is by covering the
code with unit tests. Without a test, a bug fix brings more disorder
to the code base.</p>

<h2 id="it-is-too-big">It Is Too Big</h2>

<p>Bug fixes are <em>not features</em>; they must be small and focused. It&#39;s a very
typical mistake for programmers to get carried away while fixing a
bug and introduce some refactoring together with a fix. The result is that the
patch gets rather big and difficult to understand. I&#39;m not against refactoring; it&#39;s
a very important and positive thing for a project, but do it separately
<em>after</em> the bug is fixed and merged.</p>

<p>No refactoring while fixing a bug!</p>

<p>Create a new unit test, reproduce the bug, and commit it. Fix the bug
in the existing code base, no matter how ugly it is. Create new
bugs, asking the team to improve the situation with the ugly code base.
If interested, assign those bugs to yourself. Or maybe somebody else
will be interested in fixing them and refactoring the code. But all that
will happen later in other pull requests with new
<a href="/2015/02/09/serious-code-reviewer.html">code reviews</a>
and new merges.</p>

<p>It&#39;s not about being lazy and unwilling to fix what looks bad. It&#39;s about
a discipline, which is <a href="/2015/01/15/how-to-cut-corners.html">much more important</a>
than good intentions.</p>

<h2 id="it-solves-more-than-one-issue">It Solves More Than One Issue</h2>

<p>Always fix one issue at a time &mdash; simple as that. No exceptions. When
a bug fix patch contains code changes that fix multiple issues, it is
very difficult to understand which issue is tested, which one is reproduced,
and how they relate to each other. Combining several bug fixes into a single
pull request is a very bad practice.</p>

<p>No matter how simple the fix is, keep it separate from others.
Review, test, and merge it individually. This will also increase the
traceability of changes. It will always be easy to understand who made
that fix, who reviewed the code, and when it was merged (and deployed).</p>

      </article>
    </main>
    
    
  <div class="unprintable">
    <h2>Related Posts</h2>
    <p>You may also find these posts interesting:</p>
    <ul>
      
        <li>
          <a href="/2016/02/03/design-patterns-and-anti-patterns.html" data-score="3.8060621714173397">Design Patterns and Anti-Patterns, Love and Hate</a>
        </li>
      
        <li>
          <a href="/2015/10/17/award-2016.html" data-score="1.7478370111559103">Software Quality Award, 2016</a>
        </li>
      
        <li>
          <a href="/2016/02/09/are-you-still-debugging.html" data-score="1.2846028943784655">Are You Still Debugging?</a>
        </li>
      
        <li>
          <a href="/2016/03/30/jare-instant-free-cdn.html" data-score="1.1374670913655083">Jare.io, an Instant and Free CDN</a>
        </li>
      
        <li>
          <a href="/2015/11/10/ten-mistakes-in-specs.html" data-score="1.049980497042957">10 Typical Mistakes in Specs</a>
        </li>
      
    </ul>
  </div>


    <div class="teamed-banner">
      <a href="http://www.teamed.io">
        <img src="/images/teamed-banner.jpg" alt="teamed banner"/>
      </a>
    </div>
  </div>

  <div class="disqus" role="complementary">
    <div id="disqus_thread" class="disqus-thread"></div>
    <a href="http://disqus.com" class="dsq-brlink">
      comments powered by
      <span class="logo-disqus">Disqus</span>
    </a>
  </div>

  <div class="wrapper">
    <footer class="footer">
      <p>
        &copy;
        <span itemprop="author">Yegor Bugayenko</span>,
        2014-2016
      </p>
    </footer>
  </div>

</section>

<script src="/js/post.js?278e7bb"></script>
<script src="//a.disquscdn.com/embed.js?278e7bb"></script>

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
      ga('create', 'UA-1963507-32', 'auto');
      ga('send', 'pageview');
    </script>
  </body>
</html>
