<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml" lang="en-US"><head><meta charset="utf-8"/><meta name="description" content="Each change we make to our software has to provide some value to our users and customers; our technical objectives should take a back seat."/><meta name="keywords" content="breaking down tasks, incremental delivery, iterative and incremental, iterative programming, tasks breaking down"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta property="twitter:account_id" content="4503599630178231"/><link rel="search" type="application/opensearchdescription+xml" href="opensearch.xml" title="yegor256"/><link rel="shortcut icon" href="/favicon.ico?5443fb3"/><link rel="alternate" type="application/rss+xml" title="RSS for yegor256.com" href="http://www.yegor256.com/rss.xml"/><link rel="author" href="http://plus.google.com/u/0/114792568016408327418?rel=author"/><link rel="stylesheet" href="/css/layout.css?5443fb3"/><link rel="stylesheet" href="//img.teamed.io/yegor256/icons.css?5443fb3"/><link rel="canonical" href="http://www.yegor256.com/2015/02/12/top-down-design.html"/><title>Code For the User, Not for Yourself - Yegor Bugayenko</title></head><body><div class="wrapper"> <header class="header"><div> <a href="/about-me.html"> <img src="/images/yegor-bugayenko.png" class="photo" alt="photo"/> </a></div> <nav role="navigation"><ul class="menu social notranslate"><li><a href="http://www.twitter.com/yegor256" title="follow me in Twitter"><i class="icon icon-twitter notranslate" aria-hidden="true"></i></a></li><li><a href="/rss" title="RSS feed"><i class="icon icon-rss notranslate" aria-hidden="true"></i></a></li><li><a href="https://github.com/yegor256" title="my Github profile"><i class="icon icon-github notranslate" aria-hidden="true"></i></a></li><li><a href="http://stackoverflow.com/users/187141/yegor256" title="my StackOverflow profile"><i class="icon icon-stackoverflow notranslate" aria-hidden="true"></i></a></li><li><a href="https://www.facebook.com/yegor.bugayenko" title="follow me in Facebook"><i class="icon icon-facebook notranslate" aria-hidden="true"></i></a></li><li><a href="https://plus.google.com/+YegorBugayenko/posts" title="follow me in Google+"><i class="icon icon-googleplus notranslate" aria-hidden="true"></i></a></li><li><a href="https://www.linkedin.com/in/yegor256" title="my LinkedIn profile"><i class="icon icon-linkedin notranslate" aria-hidden="true"></i></a></li><li><a href="http://www.youtube.com/user/technoparkcorp" title="my Youtube video channel"><i class="icon icon-youtube notranslate" aria-hidden="true"></i></a></li><li><a href="mailto:yegor@teamed.io" title="yegor@teamed.io"><i class="icon icon-mail notranslate" aria-hidden="true"></i></a></li></ul><ul class="menu"><li> <a href="/best.html" title="best articles to read">12 best articles</a> · <a href="/contents.html" title="blog contents">all 110</a> · <a href="/" title="home page">home page</a></li></ul><ul class="menu"><li> Win <strong style="font-size:2em;color:#81b341"> <a href="/award.html" title="software quality award">$4,096</a> </strong> for Your Open Source Project!</li></ul> </nav><div id="search"> <input id="search-query" class="field field-text" name="q" placeholder="Search" autocomplete="off"/><div id="search-results" style="display:none"><div class="entries"></div></div></div><div style="color:#fab319;text-align:left;margin:2em 0"> <img src="/images/2015/05/webinar-2.jpg" style="width:64px;height:64px;float:left;margin-right:1em" alt="webinar logo"/> Don't miss the <a href="https://plus.google.com/events/ce8vv0tp2ri3p5gm7k6m4ban5d0"><strong>second webinar</strong></a> on the 6th of May, at 11am PST; it will take one hour and we'll talk about <a href="https://plus.google.com/events/ce8vv0tp2ri3p5gm7k6m4ban5d0">"Immutable Objects vs. Common Sense"</a>.</div> <script id="search-results-template" type="text/mustache">
          {{#entries}}
            <div>
              <a href="{{url}}">{{title}}</a>
            </div>
          {{/entries}}
        </script></header></div> <section itemscope itemtype="http://schema.org/BlogPosting"><div class="wrapper"> <header><p class="printable"> <code>http://www.yegor256.com/2015/02/12/top-down-design.html</code></p><h1 itemprop="name">Code For the User, Not for Yourself</h1><ul class="subline"><li> <time itemprop="datePublished" datetime="2015-02-12T00:00:00+00:00"> 12 February 2015 </time></li><li><a href='https://github.com/yegor256/blog/commits/master/_posts/2015/feb/2015-02-12-top-down-design.md'>modified</a> on <time itemprop='dateModified' datetime='2015-02-27T01:37:27+0000'>27 February 2015</time></li><li class="printable">Yegor Bugayenko</li><li class="unprintable"> <i class="icon icon-comments"></i> <a href="http://www.yegor256.com/2015/02/12/top-down-design.html#disqus_thread">comments</a></li></ul><p class="unprintable"><a href='/tag/mgmt.html' class='tag notranslate'>mgmt</a> <a href='/tag/agile.html' class='tag notranslate'>agile</a></p><div class="buttons notranslate desktop-only"> <nav class="share" role="navigation"> <a href="http://www.facebook.com/sharer/sharer.php?u=http://www.yegor256.com/2015/02/12/top-down-design.html" title="Share on Facebook" class="button"> <span class="count count-facebook">0</span> <i class="icon icon-facebook notranslate" aria-hidden="true"></i> </a> <a href="https://twitter.com/share?url=http://www.yegor256.com/2015/02/12/top-down-design.html&amp;text=Code+For+the+User%2C+Not+for+Yourself" title="Share on Twitter" class="button"> <span class="count count-twitter">0</span> <i class="icon icon-twitter notranslate" aria-hidden="true"></i> </a> <a href="https://plus.google.com/share?url=http://www.yegor256.com/2015/02/12/top-down-design.html" title="Share on Google+" class="button"> <span class="count count-googleplus">0</span> <i class="icon icon-googleplus notranslate" aria-hidden="true"></i> </a> <a href="https://www.linkedin.com/cws/share?url=http://www.yegor256.com/2015/02/12/top-down-design.html" title="Share on LinkedIn" class="button"> <span class="count count-linkedin">0</span> <i class="icon icon-linkedin notranslate" aria-hidden="true"></i> </a> <a href="http://www.stumbleupon.com/submit?url=http://www.yegor256.com/2015/02/12/top-down-design.html&amp;title=Code+For+the+User%2C+Not+for+Yourself" title="Share on StumbleUpon" class="button"> <span class="count count-stumbleupon">0</span> <i class="icon icon-stumbleupon notranslate" aria-hidden="true"></i> </a> <a href="http://reddit.com/submit?url=http://www.yegor256.com/2015/02/12/top-down-design.html%3F2015-06&amp;title=Code+For+the+User%2C+Not+for+Yourself" title="Share on Reddit" class="button"> <span class="count count-reddit">0</span> <i class="icon icon-reddit notranslate" aria-hidden="true"></i> </a> <a href="http://news.ycombinator.com/submitlink?u=http://www.yegor256.com/2015/02/12/top-down-design.html%3F2015-06&amp;t=Code+For+the+User%2C+Not+for+Yourself" title="Share on Hacker News" class="button"> <i class="icon icon-hackernews notranslate" aria-hidden="true"></i> </a> </nav></div> </header> <main role="main"> <article class="main" role="article" itemprop="articleBody"><p>First, no matter what the methodology is, we all write software for our users (a.k.a. customers, project sponsors, end users, or clients). Second, no matter what the methodology is, we write incrementally, releasing features and bug fixes one by one. Maybe I'm saying something absolutely obvious here, but it's important to remember that each new version should first of all satisfy the needs of the user, not of us programmers. In other words, the way we decompose a big task into smaller pieces should be user-targeted, and that's why you always work <strong>top down</strong>. Let's see what I mean through a practical example.</p><figure><img src='http://www.yegor256.com/images/2015/02/delicatessen.png' style='width:600px' alt='Delicatessen (1991) by Jean-Pierre Jeunet'/><figcaption>Delicatessen (1991) by Jean-Pierre Jeunet</figcaption></figure><p>Say I'm contracted by a friend of mine to create a word-counting command line tool very similar to <a href="http://en.wikipedia.org/wiki/Wc_%28Unix%29">wc</a>. He promised to pay me $200 for this work, and I promised him I'd deliver the product in two increments — an alpha and beta version. I promised him I'd release the alpha version on Saturday and the beta version on Sunday. He is going to pay me $100 after the first release and the rest after the second release.</p><p>I'll write in C, and he will pay in cash.</p><p>The tool is very primitive, and it only took me a few minutes to write. Take a look at it:</p><div class="highlight"><pre><code class="language-c" data-lang="c"><span class="cp">#include &lt;stdio.h&gt;</span>
<span class="cp">#include &lt;unistd.h&gt;</span>
<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
  <span class="kt">char</span> <span class="n">ch</span><span class="p">;</span>
  <span class="kt">int</span> <span class="n">count</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
  <span class="k">while</span> <span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">read</span><span class="p">(</span><span class="n">STDIN_FILENO</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">ch</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">break</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">ch</span> <span class="o">==</span> <span class="sc">' '</span><span class="p">)</span> <span class="p">{</span>
      <span class="o">++</span><span class="n">count</span><span class="p">;</span>
    <span class="p">}</span>
  <span class="p">}</span>
  <span class="k">if</span> <span class="p">(</span><span class="n">count</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
    <span class="o">++</span><span class="n">count</span><span class="p">;</span>
  <span class="p">}</span>
  <span class="n">printf</span><span class="p">(</span><span class="s">"%d</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="n">count</span><span class="p">);</span>
  <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span></code></pre></div><p>But let's be professional and not forget about build automation and unit testing. Here is a simple <code>Makefile</code> that does them both:</p><div class="highlight"><pre><code class="language-makefile" data-lang="makefile"><span class="nf">all</span><span class="o">:</span> <span class="n">wc</span> <span class="n">test</span>
<span class="nf">wc</span><span class="o">:</span> <span class="n">wc</span>.<span class="n">c</span>
  gcc -o wc wc.c
<span class="nf">test</span><span class="o">:</span> <span class="n">wc</span>
  <span class="nb">echo</span> <span class="s1">''</span> <span class="p">|</span> ./wc <span class="p">|</span> grep <span class="s1">'0'</span>
  <span class="nb">echo</span> <span class="s1">'Hello, world! How are you?'</span> <span class="p">|</span> ./wc <span class="p">|</span> grep <span class="s1">'5'</span></code></pre></div><p>Now I run <code>make</code> from a command line and get this output:</p><div class="highlight"><pre><code class="language-text" data-lang="text">$ make
echo '' | ./wc | grep '0'
0
echo 'Hello, world! How are you?' | ./wc | grep '5'
5</code></pre></div><p>All clean!</p><p>I'm ready to get my $200. Wait, the deal was to deliver two versions and get cash in two installments. Let's back up a little and think — how can we break this small tool into two parts?</p><p>On first thought, let's release the tool itself first and build automation and testing next. Is that a good idea? Can we deliver any software without running it first with a test? How can I be sure that it works if I don't ship tests together with it? What will my friend think about me releasing anything without tests? This would be a total embarassment.</p><p>Okay, let's release <code>Makefile</code> first and <code>wc.c</code> next. But what will my friend do with a couple of tests and no product in hand? This first release will be absolutely pointless, and I won't get my $100.</p><p>Now we're getting to the point of this article. What I'm trying to say is that every new increment must add some value to the product as it is perceived by the customer, not by us programmers. The <code>Makefile</code> is definitely a valuable artifact, but it provides no value to my friend. He doesn't need it, but I need it.</p><p>Here is what I'm going to do. I'll release a skeleton of the tool, backed by the tests but with an absolutely dummy implementation. Look at it:</p><div class="highlight"><pre><code class="language-c" data-lang="c"><span class="cp">#include &lt;stdio.h&gt;</span>
<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
  <span class="n">printf</span><span class="p">(</span><span class="s">"5</span><span class="se">\n</span><span class="s">"</span><span class="p">);</span>
  <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span></code></pre></div><p>And I will modify the <code>Makefile</code> accordingly. I will disable the first test to make sure the build passes.</p><p>Does my tool work? Yes, it does. Does it count words? Yes, it does for some inputs. Does it have value to my friend. Obviously! He can run it from the command line, and he can pass a file as an input. He will always get number "5" as a result of counting, though. That's a bummer, but it's an alpha version. He doesn't expect it to work perfectly.</p><p>However, it works, it is backed by tests, and it is properly packaged.</p><p>What I just did is a top-down approach to design. First of all, I created something that provides value to my customer. I made sure it also satisfies my technical objectives, like proper unit test coverage and build automation. But the most important goal for me was to make sure my friend received something ... and paid me.</p></article> </main><div class="unprintable"><h2>Related Posts</h2><p>You may also find these posts interesting:</p><ul><li><a href="/2015/03/16/technical-glossaries.html">Worst Technical Specifications Have No Glossaries</a></li><li><a href="/2015/03/02/team-morale-myths-and-reality.html">Team Morale: Myths and Reality</a></li><li><a href="/2015/02/16/it-is-not-a-school.html">It's Not a School!</a></li><li><a href="/2015/02/09/serious-code-reviewer.html">Four NOs of a Serious Code Reviewer</a></li><li><a href="/2015/01/15/how-to-cut-corners.html">How to Cut Corners and Stay Cool</a></li></ul></div></div><div class="disqus" role="complementary"><div id="disqus_thread"></div> <a href="http://disqus.com" class="dsq-brlink"> comments powered by <span class="logo-disqus">Disqus</span> </a></div><div class="wrapper"> <footer class="footer"><p> © <span itemprop="author">Yegor Bugayenko</span>, 2014</p> </footer></div></section><script src="http://code.jquery.com/jquery-2.1.0.min.js"></script><script src="/js/ext/search.min.js?5443fb3"></script><script src="/js/global.js?5443fb3" async defer></script><script src="/js/post.js?5443fb3" async defer></script></body></html>