<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml" lang="en-US" xml:lang="en-US" itemscope="" itemtype="http://schema.org/WebPage"><head><base href="/"/><meta charset="utf-8"/><meta itemprop="name" content="Code For the User, Not for Yourself"/><meta itemprop="author" content="Yegor Bugayenko"/><meta itemprop="breadcrumb" content="http://www.yegor256.com"/><meta itemprop="keywords" content="breaking down tasks, incremental delivery, iterative and incremental, iterative programming, tasks breaking down"/><meta itemprop="description" content="Each change we make to our software has to provide some value to our users and customers; our technical objectives should take a back seat."/><meta name="description" content="Each change we make to our software has to provide some value to our users and customers; our technical objectives should take a back seat."/><meta name="keywords" content="breaking down tasks, incremental delivery, iterative and incremental, iterative programming, tasks breaking down"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta name="twitter:creator" content="@yegor256"/><meta property="twitter:account_id" content="4503599630178231"/><meta property="og:url" content="http://www.yegor256.com/2015/02/12/top-down-design.html"/><meta property="og:site_name" content="yegor256"/><meta property="og:title" content="Code For the User, Not for Yourself"/><meta property="og:description" content="Each change we make to our software has to provide some value to our users and customers; our technical objectives should take a back seat."/><meta property="og:type" content="article"/><meta property="og:locale" content="en_US"/><meta property="fb:admins" content="10203747823006002"/><meta name="twitter:site" content="@yegor256"/><meta name="twitter:creator" content="@yegor256"/><meta name="twitter:url" content="http://www.yegor256.com/2015/02/12/top-down-design.html"/><meta property="article:author" content="https://www.facebook.com/yegor.bugayenko"/><meta name="p:domain_verify" content="61f09f0ef5db665328827225a3fc11bd"/><link rel="search" type="application/opensearchdescription+xml" href="opensearch.xml" title="yegor256"/><link rel="shortcut icon" href="/favicon.ico?6a6661b"/><link rel="apple-touch-icon" href="/favicon.ico?6a6661b"/><link rel="alternate" type="application/rss+xml" title="RSS for yegor256.com" href="http://www.yegor256.com/rss.xml"/><link rel="author" href="http://plus.google.com/u/0/114792568016408327418?rel=author"/><link rel="publisher" href="http://plus.google.com/u/0/114792568016408327418"/><link rel="stylesheet" href="/css/layout.css?6a6661b"/><link rel="canonical" href="http://www.yegor256.com/2015/02/12/top-down-design.html"/><title>Code For the User, Not for Yourself - Yegor Bugayenko</title></head><body><div class="wrapper"> <header class="header"><div class="face"> <a href="/about-me.html"> <img src="/images/yegor-bugayenko-192x192.png" class="photo" alt="photo of Yegor Bugayenko"/> </a> <a href="/about-me.html"><span>hire me!</span></a></div> <nav><ul class="menu social notranslate"><li><a href="http://www.twitter.com/yegor256" title="follow me in Twitter"><i class="icon icon-twitter notranslate" aria-hidden="true"></i></a></li><li><a href="/rss" title="RSS feed"><i class="icon icon-rss notranslate" aria-hidden="true"></i></a></li><li><a href="https://github.com/yegor256" title="my GitHub profile"><i class="icon icon-github notranslate" aria-hidden="true"></i></a></li><li><a href="http://stackoverflow.com/users/187141/yegor256" title="my StackOverflow profile"><i class="icon icon-stackoverflow notranslate" aria-hidden="true"></i></a></li><li><a href="https://www.facebook.com/yegor.bugayenko" title="follow me in Facebook"><i class="icon icon-facebook notranslate" aria-hidden="true"></i></a></li><li><a href="https://plus.google.com/+YegorBugayenko/posts" title="follow me in Google+"><i class="icon icon-googleplus notranslate" aria-hidden="true"></i></a></li><li><a href="https://www.linkedin.com/in/yegor256" title="my LinkedIn profile"><i class="icon icon-linkedin notranslate" aria-hidden="true"></i></a></li><li><a href="http://www.youtube.com/user/technoparkcorp" title="my Youtube video channel"><i class="icon icon-youtube notranslate" aria-hidden="true"></i></a></li><li><a href="https://www.pinterest.com/yegor256/" title="my Pinterest boards"><i class="icon icon-pinterest notranslate" aria-hidden="true"></i></a></li><li><a href="mailto:yegor@teamed.io" title="yegor@teamed.io"><i class="icon icon-mail notranslate" aria-hidden="true"></i></a></li></ul><ul class="menu"><li> <a href="/" title="home page">home</a> · <a href="/best.html" title="best articles to read">12 best</a> · <a href="/contents.html" title="blog contents">all 152</a> · <a href="/webinars.html" title="webinars">webinars</a> · <a href="/talks.html" title="talks">talks</a> · <a href="/award.html" title="software quality award">award</a></li></ul> </nav><div id="search"><form action="https://www.google.com/search" style="position:relative"> <input name="sitesearch" value="yegor256.com" type="hidden"/> <input id="search-query" class="field field-text" onfocusin="$('#google').css('display', 'inline-block');" name="q" placeholder="Search" autocomplete="off"/> <span class="desktop-only"> <input type="image" src="/images/google-search-icon.png" id="google" title="search via Google" style="width:3em;height:3em;display:none;position:absolute;margin-left:1em"/> </span></form><div id="search-results" style="display:none"><div class="entries"></div></div></div> <script id="search-results-template" type="text/mustache">
          {{#entries}}
            <div>
              <a href="{{url}}">{{title}}</a>
            </div>
          {{/entries}}
        </script></header><div class="hot"><ul><li> Meet me in Berlin, Nov 19-20, for a workshop about motivation in distributed teams, at <strong><a href="http://distributed-agile-teams.org/workshops/">DATFlock2015</a></strong>. Two <a href="/talks.html">more talks</a> in November, in Kyiv and Warsaw...</li><li> <a href="https://plus.google.com/u/0/events/c6pfo5ku07kd5a92dgrmj5b1o6g">Webinar #9</a> will explain why Dependency Injection containers are a bad idea in OOP, don't miss it on December 1, at 11am PST (it's Tuesday!)</li></ul></div></div> <section itemscope="" itemtype="http://schema.org/BlogPosting"><div class="wrapper"> <header><p class="printable"> <code>http://www.yegor256.com/2015/02/12/top-down-design.html</code></p><h1 itemprop="name">Code For the User, Not for Yourself</h1><ul class="subline"><li> <time itemprop="datePublished" datetime="2015-02-12T00:00:00+00:00"> 12 February 2015 </time></li><li class='unprintable desktop-only'><a href='https://github.com/yegor256/blog/commits/master/_posts/2015/feb/2015-02-12-top-down-design.md'>modified</a> on <time itemprop='dateModified' datetime='2015-11-07T20:35:51+0000'>7 November 2015</time></li><li class="printable">Yegor Bugayenko</li><li class="unprintable"> <i class="icon icon-comments"></i> <a href="http://www.yegor256.com/2015/02/12/top-down-design.html#disqus_thread">comments</a></li></ul><p class="unprintable"><a href='/tag/management.html' class='tag notranslate'>management</a> <a href='/tag/agile.html' class='tag notranslate'>agile</a></p><div class="buttons notranslate desktop-only"> <nav class="share" role="navigation"> <a href="http://www.facebook.com/sharer/sharer.php?u=http://www.yegor256.com/2015/02/12/top-down-design.html" title="Share on Facebook" class="button"> <span class="count count-facebook">0</span> <i class="icon icon-facebook notranslate" aria-hidden="true"></i> </a> <a href="https://twitter.com/share?url=http://www.yegor256.com/2015/02/12/top-down-design.html&amp;text=Code+For+the+User%2C+Not+for+Yourself" title="Share on Twitter" class="button"> <span class="count count-twitter">0</span> <i class="icon icon-twitter notranslate" aria-hidden="true"></i> </a> <a href="https://plus.google.com/share?url=http://www.yegor256.com/2015/02/12/top-down-design.html" title="Share on Google+" class="button"> <span class="count count-googleplus">0</span> <i class="icon icon-googleplus notranslate" aria-hidden="true"></i> </a> <a href="https://www.linkedin.com/cws/share?url=http://www.yegor256.com/2015/02/12/top-down-design.html" title="Share on LinkedIn" class="button"> <span class="count count-linkedin">0</span> <i class="icon icon-linkedin notranslate" aria-hidden="true"></i> </a> <a href="http://www.stumbleupon.com/submit?url=http://www.yegor256.com/2015/02/12/top-down-design.html&amp;title=Code+For+the+User%2C+Not+for+Yourself" title="Share on StumbleUpon" class="button"> <span class="count count-stumbleupon">0</span> <i class="icon icon-stumbleupon notranslate" aria-hidden="true"></i> </a> <a href="http://reddit.com/submit?url=http://www.yegor256.com/2015/02/12/top-down-design.html%3F2015-06&amp;title=Code+For+the+User%2C+Not+for+Yourself" title="Share on Reddit" class="button"> <span class="count count-reddit">0</span> <i class="icon icon-reddit notranslate" aria-hidden="true"></i> </a> <a href="http://news.ycombinator.com/submitlink?u=http://www.yegor256.com/2015/02/12/top-down-design.html%3F2015-06&amp;t=Code+For+the+User%2C+Not+for+Yourself" title="Share on Hacker News" class="button"> <i class="icon icon-hackernews notranslate" aria-hidden="true"></i> </a> </nav></div> </header> <main> <article class="main" itemprop="articleBody"><p>First, no matter what the methodology is, we all write software for our users (a.k.a. customers, project sponsors, end users, or <a href="/2015/01/26/happy-boss-false-objective.html">clients</a>). Second, no matter what the methodology is, we write incrementally, releasing features and bug fixes one by one. Maybe I'm saying something absolutely obvious here, but it's important to remember that each new version should first of all satisfy the needs of the user, not of us programmers. In other words, the way we decompose a big task into smaller pieces should be user-targeted, and that's why you always work <strong>top down</strong>. Let's see what I mean through a practical example.</p><figure><img src='/images/2015/02/delicatessen.png' style='width:600px' alt='Delicatessen (1991) by Jean-Pierre Jeunet'/><figcaption>Delicatessen (1991) by Jean-Pierre Jeunet</figcaption></figure><p>Say I'm contracted by a friend of mine to create a word-counting command line tool very similar to <a href="http://en.wikipedia.org/wiki/Wc_%28Unix%29">wc</a>. He promised to pay me $200 for this work, and I promised him I'd deliver the product in two increments — an alpha and beta version. I promised him I'd release the alpha version on Saturday and the beta version on Sunday. He is going to pay me $100 after the first release and the rest after the second release.</p><p>I'll write in C, and he will pay in cash.</p><p>The tool is very primitive, and it only took me a few minutes to write. Take a look at it:</p><div class="highlight"><pre><code class="language-c" data-lang="c"><span class="cp">#include &lt;stdio.h&gt;</span>
<span class="cp">#include &lt;unistd.h&gt;</span>
<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
  <span class="kt">char</span> <span class="n">ch</span><span class="p">;</span>
  <span class="kt">int</span> <span class="n">count</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
  <span class="k">while</span> <span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">read</span><span class="p">(</span><span class="n">STDIN_FILENO</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">ch</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">break</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">ch</span> <span class="o">==</span> <span class="sc">' '</span><span class="p">)</span> <span class="p">{</span>
      <span class="o">++</span><span class="n">count</span><span class="p">;</span>
    <span class="p">}</span>
  <span class="p">}</span>
  <span class="k">if</span> <span class="p">(</span><span class="n">count</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
    <span class="o">++</span><span class="n">count</span><span class="p">;</span>
  <span class="p">}</span>
  <span class="n">printf</span><span class="p">(</span><span class="s">"%d</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="n">count</span><span class="p">);</span>
  <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span></code></pre></div><p>But let's be professional and not forget about build automation and unit testing. Here is a simple <code>Makefile</code> that does them both:</p><div class="highlight"><pre><code class="language-makefile" data-lang="makefile"><span class="nf">all</span><span class="o">:</span> <span class="n">wc</span> <span class="n">test</span>
<span class="nf">wc</span><span class="o">:</span> <span class="n">wc</span>.<span class="n">c</span>
  gcc -o wc wc.c
<span class="nf">test</span><span class="o">:</span> <span class="n">wc</span>
  <span class="nb">echo</span> <span class="s1">''</span> <span class="p">|</span> ./wc <span class="p">|</span> grep <span class="s1">'0'</span>
  <span class="nb">echo</span> <span class="s1">'Hello, world! How are you?'</span> <span class="p">|</span> ./wc <span class="p">|</span> grep <span class="s1">'5'</span></code></pre></div><p>Now I run <code>make</code> from a command line and get this output:</p><div class="highlight"><pre><code class="language-text" data-lang="text">$ make
echo '' | ./wc | grep '0'
0
echo 'Hello, world! How are you?' | ./wc | grep '5'
5</code></pre></div><p>All clean!</p><p>I'm ready to get my $200. Wait, the deal was to deliver two versions and get cash in two installments. Let's back up a little and think — how can we break this small tool into two parts?</p><p>On first thought, let's release the tool itself first and build automation and testing next. Is that a good idea? Can we deliver any software without running it first with a test? How can I be sure that it works if I don't ship tests together with it? What will my friend think about me releasing anything without tests? This would be a total embarrassment.</p><p>Okay, let's release <code>Makefile</code> first and <code>wc.c</code> next. But what will my friend do with a couple of tests and no product in hand? This first release will be absolutely pointless, and I won't get my $100.</p><p>Now we're getting to the point of this article. What I'm trying to say is that every new increment must add some value to the product as it is perceived by the customer, not by us programmers. The <code>Makefile</code> is definitely a valuable artifact, but it provides no value to my friend. He doesn't need it, but I need it.</p><p>Here is what I'm going to do. I'll release a skeleton of the tool, backed by the tests but with an absolutely dummy implementation. Look at it:</p><div class="highlight"><pre><code class="language-c" data-lang="c"><span class="cp">#include &lt;stdio.h&gt;</span>
<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
  <span class="n">printf</span><span class="p">(</span><span class="s">"5</span><span class="se">\n</span><span class="s">"</span><span class="p">);</span>
  <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span></code></pre></div><p>And I will modify the <code>Makefile</code> accordingly. I will disable the first test to make sure the build passes.</p><p>Does my tool work? Yes, it does. Does it count words? Yes, it does for some inputs. Does it have value to my friend. Obviously! He can run it from the command line, and he can pass a file as an input. He will always get number "5" as a result of counting, though. That's a bummer, but it's an alpha version. He doesn't expect it to work perfectly.</p><p>However, it works, it is backed by tests, and it is properly packaged.</p><p>What I just did is a top-down approach to design. First of all, I created something that provides value to my customer. I made sure it also satisfies my technical objectives, like proper unit test coverage and build automation. But the most important goal for me was to make sure my friend received something ... and paid me.</p></article> </main><div class="unprintable"><h2>Related Posts</h2><p>You may also find these posts interesting:</p><ul><li><a href="/2015/06/22/valid-reasons-to-reject-bug-fix.html">A Few Valid Reasons to Reject a Bug Fix</a></li><li><a href="/2015/06/18/good-programmers-bug-free.html">Good Programmers Write Bug-Free Code, Don't They?</a></li><li><a href="/2015/06/08/deadly-sins-software-project.html">Seven Deadly Sins of a Software Project</a></li><li><a href="/2015/06/02/how-to-estimate-software-cost.html">How Much For This Software?</a></li><li><a href="/2015/05/13/two-instruments-of-software-architect.html">Two Instruments of a Software Architect</a></li></ul></div><div class="teamed-banner"> <a href="http://www.teamed.io"><img src="/images/teamed-banner.jpg" alt="teamed banner"/></a></div></div><div class="disqus" role="complementary"><div id="disqus_thread"></div> <a href="http://disqus.com" class="dsq-brlink"> comments powered by <span class="logo-disqus">Disqus</span> </a></div><div class="wrapper"> <footer class="footer"><p> © <span itemprop="author">Yegor Bugayenko</span>, 2014-2015</p> </footer></div></section><script src="http://code.jquery.com/jquery-2.1.0.min.js"></script><script src="/js/global.js?6a6661b"></script><script src="/js/post.js?6a6661b"></script><script>!function(e,a,t,n,c,o,s){e.GoogleAnalyticsObject=c,e[c]=e[c]||function(){(e[c].q=e[c].q||[]).push(arguments)},e[c].l=1*new Date,o=a.createElement(t),s=a.getElementsByTagName(t)[0],o.async=1,o.src=n,s.parentNode.insertBefore(o,s)}(window,document,"script","//www.google-analytics.com/analytics.js","ga"),ga("create","UA-1963507-32","auto"),ga("send","pageview")</script></body></html>