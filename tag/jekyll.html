<!DOCTYPE html> <html xmlns="http://www.w3.org/1999/xhtml" lang="en-US" xml:lang="en-US" itemscope="" itemtype="http://schema.org/WebSite"> <head> <meta charset="utf-8"/> <meta name="description" content="" /> <meta name="keywords" content="{&quot;layout&quot;=&gt;&quot;tag-index&quot;, &quot;posts&quot;=&gt;[#&lt;Jekyll::Document _posts/2014/jun/2014-06-29-custom-lexer-in-jekyll.md collection=posts&gt;, #&lt;Jekyll::Document _posts/2014/jun/2014-06-24-jekyll-github-deploy.md collection=posts&gt;], &quot;tag&quot;=&gt;&quot;jekyll&quot;, &quot;content&quot;=&gt;&quot;&quot;, &quot;dir&quot;=&gt;&quot;/tag/&quot;, &quot;name&quot;=&gt;&quot;jekyll.html&quot;, &quot;path&quot;=&gt;&quot;tag/jekyll.html&quot;, &quot;url&quot;=&gt;&quot;/tag/jekyll&quot;, &quot;title&quot;=&gt;&quot;jekyll&quot;, &quot;description&quot;=&gt;&quot;jekyll: more about jekyll in this collection of recently published articles... the list is updated every few weeks.&quot;}" /> <meta name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1"/> <meta name="google-site-verification" content="JEj_gQr2CPe2QKGw8XdMz0R7VboQIUbX3FlM-lwTq-8" /> <meta name="author" content="Yegor Bugayenko"> <meta name="og:site_name" content="Yegor Bugayenko"/> <meta name="og:type" content="article" /> <meta name="og:locale" content="en_US" /> <meta name="twitter:account_id" content="4503599630178231" /> <meta name="twitter:creator" content="@yegor256"/> <meta name="twitter:site" content="@yegor256"/> <meta name="twitter:title" property="og:title" content="jekyll"/> <meta name="twitter:description" property="og:description" content="{&quot;layout&quot;=&gt;&quot;tag-index&quot;, &quot;posts&quot;=&gt;[#&lt;Jekyll::Document _posts/2014/jun/2014-06-29-custom-lexer-in-jekyll.md collection=posts&gt;, #&lt;Jekyll::Document _posts/2014/jun/2014-06-24-jekyll-github-deploy.md collection=posts&gt;], &quot;tag&quot;=&gt;&quot;jekyll&quot;, &quot;content&quot;=&gt;&quot;&quot;, &quot;dir&quot;=&gt;&quot;/tag/&quot;, &quot;name&quot;=&gt;&quot;jekyll.html&quot;, &quot;path&quot;=&gt;&quot;tag/jekyll.html&quot;, &quot;url&quot;=&gt;&quot;/tag/jekyll&quot;, &quot;title&quot;=&gt;&quot;jekyll&quot;, &quot;description&quot;=&gt;&quot;jekyll: more about jekyll in this collection of recently published articles... the list is updated every few weeks.&quot;}"/> <meta name="twitter:url" property="og:url" content="https://www.yegor256.com/tag/jekyll"/> <meta name="telegram:channel" content="AAAAAEJFMRzsRTRxM3ec6A"/> <link rel="search" type="application/opensearchdescription+xml" href="/opensearch.xml" title="yegor256" /> <link rel="shortcut icon" href="/favicon.ico?c401938d07c"/> <link rel="apple-touch-icon" href="/favicon.ico?c401938d07c"/> <link rel="alternate" type="application/rss+xml" title="RSS for yegor256.com" href="https://www.yegor256.com/rss.xml"/> <link rel="stylesheet" href="/css/layout.css?c401938d07c"/> <link rel="stylesheet" href="/css/icons.css?c401938d07c"/> <link rel="canonical" href="https://www.yegor256.com/tag/jekyll" /> <link rel="amphtml" href="https://www.yegor256.com/tag/jekyll" /> <title>jekyll </title> </head> <body><div class="wrapper"> <aside class="header-toggle unprintable" id="header-toggle" title="Show the menu" onclick="$('#header').show();$('#header-toggle').hide();">&#9776;</aside> <header class="header" id="header"><div class="face"> <a href="/about-me.html#form" class="sub" title="Click to subscribe to my monthly newsletter"><span>Subscribe</span></a> <a href="/about-me.html" style="position:relative;"> <img src="/images/face-256x256.jpg" class="photo" alt="Yegor Bugayenko"/> </a></div><nav><ul class="menu social notranslate"> <li><a href="https://twitter.com/intent/follow?screen_name=yegor256" rel="nofollow" title="Follow me on Twitter"><i class="icon icon-twitter notranslate" aria-hidden="true"></i></a></li> <li><a href="/rss.xml" rel="nofollow" title="Subscribe to my RSS feed"><i class="icon icon-rss notranslate" aria-hidden="true"></i></a></li> <li><a itemprop="sameAs" href="https://github.com/yegor256" rel="nofollow" title="My GitHub profile"><i class="icon icon-github notranslate" aria-hidden="true"></i></a></li> <li><a itemprop="sameAs" href="http://stackoverflow.com/users/187141/yegor256" rel="nofollow" title="My StackOverflow profile"><i class="icon icon-stackoverflow notranslate" aria-hidden="true"></i></a></li> <li><a itemprop="sameAs" href="https://www.facebook.com/yegor256" rel="nofollow" title="Follow me on Facebook"><i class="icon icon-facebook notranslate" aria-hidden="true"></i></a></li> <li><a itemprop="sameAs" href="https://instagram.com/yegor256" rel="nofollow" title="Follow me on Instagram"><i class="icon icon-instagram notranslate" aria-hidden="true"></i></a></li> <li><a itemprop="sameAs" href="https://www.linkedin.com/in/yegor256" rel="nofollow" title="My LinkedIn profile"><i class="icon icon-linkedin notranslate" aria-hidden="true"></i></a></li> <li><a itemprop="sameAs" href="https://www.youtube.com/c/yegor256?sub_confirmation=1" rel="nofollow" title="My Youtube video channel"><i class="icon icon-youtube notranslate" aria-hidden="true"></i></a></li> <li><a itemprop="sameAs" href="https://www.pinterest.com/yegor256/" rel="nofollow" title="My Pinterest boards"><i class="icon icon-pinterest notranslate" aria-hidden="true"></i></a></li> <li><a itemprop="sameAs" href="https://angel.co/yegor256" rel="nofollow" title="My AngelList profile"><i class="icon icon-angellist notranslate" aria-hidden="true"></i></a></li> <li><a href="https://soundcloud.com/yegor256" rel="nofollow" title="My podcast"><i class="icon icon-podcast notranslate" aria-hidden="true"></i></a></li> <li><a href="https://itunes.apple.com/us/podcast/yegor256-podcast/id1150826721" rel="nofollow" title="My iTunes podcast"><i class="icon icon-itunes notranslate" aria-hidden="true"></i></a></li> <li><a href="https://t.me/yegor256news" rel="nofollow" title="My Telegram public channel"><i class="icon icon-telegram notranslate" aria-hidden="true"></i></a></li> <li><a href="mailto:blog@yegor256.com" rel="nofollow" title="Email me any time"><i class="icon icon-mail notranslate" aria-hidden="true"></i></a></li></ul><ul class="menu"> <li><a href="/" title="Home page">Home</a></li> <li /tag/jekyll><a href="/best.html" title="Best articles to read">12&#160;Best</a></li> <li /tag/jekyll><a href="/contents.html" title="The contents of the entire blog">All&#160;292</a></li> <li /tag/jekyll><a href="/webinars.html" title="My webinars">Webinars</a></li> <li /tag/jekyll><a href="/talks.html" title="Future and past conference talks">Talks</a></li> <li /tag/jekyll><a href="/books.html" title="The books I wrote">Books</a></li> <li /tag/jekyll><a href="/papers.html" title="My academic papers and patents">Papers</a></li> <li /tag/jekyll><a href="/pets.html" title="My loved pet projects">Pets</a></li> <li /tag/jekyll class="highlighted"><a href="/trainings.html" title="On-site trainings">Trainings</a></li> <li /tag/jekyll><a href="/award.html" title="Software quality award">Award</a></li> <li /tag/jekyll><a href="/testimonials.html" title="What some people say about me">Testimonials</a></li> <li /tag/jekyll><a href="/shift-m.html" title="Audio podcast about project management">Shift-M</a></li> <li /tag/jekyll><a href="/paintings.html" title="My paintings for sale">Paintings</a></li> <li><a href="https://ru.yegor256.com/" title="Немного на русском языке">По-русски</a></li></ul></nav><div class="search"> <form method="get" action="https://www.google.com/search" itemprop="potentialAction" itemscope="" itemtype="http://schema.org/SearchAction"> <meta itemprop="target" content="https://www.google.com/search?q={q}"/> <input name="sitesearch" value="yegor256.com" type="hidden"/> <input itemprop="query-input" type="text" id="search-query" class="field field-text" required="required" onfocus="$('.google').css('visibility', 'visible');" name="q" placeholder="Search..." autocomplete="off"/> <input type="image" src="/images/google-search-icon.svg" class="google" title="Search via Google" alt="Search via Google"/> </form></div><div class="hot"><ul></ul></div></header></div><section itemscope="" itemtype="http://schema.org/BlogPosting"><div class="wrapper"> <header itemprop="name"><h1>2 posts about jekyll</h1></header> <article itemprop="articleBody"> <!DOCTYPE html> <html xmlns="http://www.w3.org/1999/xhtml" lang="en-US" xml:lang="en-US" itemscope="" itemtype="http://schema.org/WebSite"> <head> <meta charset="utf-8"/> <meta name="description" content="" /> <meta name="keywords" content="next, path, output, content, previous, url, relative_path, id, collection, excerpt, draft, categories, layout, title, date, tags, description, keywords, slug, ext" /> <meta name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1"/> <meta name="google-site-verification" content="JEj_gQr2CPe2QKGw8XdMz0R7VboQIUbX3FlM-lwTq-8" /> <meta name="author" content="Yegor Bugayenko"> <meta name="article:published_time" content="2014-06-29 00:00:00 +0000"> <meta name="og:site_name" content="Yegor Bugayenko"/> <meta name="og:type" content="article" /> <meta name="og:locale" content="en_US" /> <meta name="twitter:account_id" content="4503599630178231" /> <meta name="twitter:creator" content="@yegor256"/> <meta name="twitter:site" content="@yegor256"/> <meta name="twitter:title" property="og:title" content="Custom Pygments Lexer in Jekyll"/> <meta name="twitter:description" property="og:description" content="&lt;p&gt;I needed to create a custom syntax highlighting for &lt;a href=&quot;http://www.requs.org&quot;&gt;requs.org&lt;/a&gt; on which I’m using Jekyll for site rendering.&lt;/p&gt; &lt;p&gt;This is how my code blocks look in markdown pages:&lt;/p&gt; &lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;&lt;span&gt;&lt;/span&gt;{ % highlight requs %} User is a &amp;quot;human being.&amp;quot; { % endhighlight %}&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt; &lt;p&gt;I created a custom &lt;a href=&quot;http://pygments.org/docs/lexerdevelopment/&quot;&gt;Pygments lexer&lt;/a&gt;:&lt;/p&gt; &lt;!--more--&gt; &lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&quot;kn&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;pygments.lexer&lt;/span&gt; &lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;RegexLexer&lt;/span&gt; &lt;span class=&quot;kn&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;pygments.token&lt;/span&gt; &lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Punctuation&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Text&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Keyword&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;String&lt;/span&gt; &lt;span class=&quot;kn&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;pygments.util&lt;/span&gt; &lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;shebang_matches&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;RequsLexer&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;RegexLexer&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;name&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;requs&amp;#39;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;aliases&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;requs&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;tokens&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;root&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;sa&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;&amp;quot;[^&amp;quot;]+&amp;quot;&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;sa&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;&amp;quot;&amp;quot;&amp;quot;.+&amp;quot;&amp;quot;&amp;quot;&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Text&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;sa&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;\b(needs|includes|requires|when|fail|is|a|the)\s*\b&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Keyword&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;sa&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;([A-Z][a-z]+)+&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;sa&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;[,;:]&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Punctuation&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;],&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;analyse_text&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;text&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;shebang_matches&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;text&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;sa&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;requs&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt; &lt;p&gt;Then, I packaged it for &lt;a href=&quot;https://pypi.python.org/pypi/setuptools&quot;&gt;&lt;code&gt;easy_install&lt;/code&gt;&lt;/a&gt; and installed locally:&lt;/p&gt; &lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span&gt;&lt;/span&gt;$ easy_install src/requs_pygment Processing requs_pygment Running setup.py -q bdist_egg --dist-dir ... zip_safe flag not set&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; analyzing archive contents... Adding requs-pygment &lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;.1 to easy-install.pth file Installed /Library/Python/2.7/site-packages/requs_pygment-0.1-py2.7.egg Processing dependencies &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; requs-pygment&lt;span class=&quot;o&quot;&gt;==&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;.1 Finished processing dependencies &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; requs-pygment&lt;span class=&quot;o&quot;&gt;==&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;.1&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt; &lt;p&gt;It’s done. Now I run &lt;code&gt;jekyll build&lt;/code&gt; and my syntax is highlighted according to the custom rules I specified in the lexer.&lt;/p&gt; "/> <meta name="twitter:url" property="og:url" content="https://www.yegor256.com/2014/06/29/custom-lexer-in-jekyll.html"/> <meta name="telegram:channel" content="AAAAAEJFMRzsRTRxM3ec6A"/> <link rel="search" type="application/opensearchdescription+xml" href="/opensearch.xml" title="yegor256" /> <link rel="shortcut icon" href="/favicon.ico?c401938d07c"/> <link rel="apple-touch-icon" href="/favicon.ico?c401938d07c"/> <link rel="alternate" type="application/rss+xml" title="RSS for yegor256.com" href="https://www.yegor256.com/rss.xml"/> <link rel="stylesheet" href="/css/layout.css?c401938d07c"/> <link rel="stylesheet" href="/css/icons.css?c401938d07c"/> <link rel="canonical" href="https://www.yegor256.com/2014/06/29/custom-lexer-in-jekyll.html" /> <link rel="amphtml" href="https://www.yegor256.com/2014/06/29/custom-lexer-in-jekyll.amp.html" /> <title>Custom Pygments Lexer in Jekyll </title> </head> <body><div class="wrapper"> <aside class="header-toggle unprintable" id="header-toggle" title="Show the menu" onclick="$('#header').show();$('#header-toggle').hide();">&#9776;</aside> <header class="header" id="header"><div class="face"> <a href="/about-me.html#form" class="sub" title="Click to subscribe to my monthly newsletter"><span>Subscribe</span></a> <a href="/about-me.html" style="position:relative;"> <img src="/images/face-256x256.jpg" class="photo" alt="Yegor Bugayenko"/> </a></div><nav><ul class="menu social notranslate"> <li><a href="https://twitter.com/intent/follow?screen_name=yegor256" rel="nofollow" title="Follow me on Twitter"><i class="icon icon-twitter notranslate" aria-hidden="true"></i></a></li> <li><a href="/rss.xml" rel="nofollow" title="Subscribe to my RSS feed"><i class="icon icon-rss notranslate" aria-hidden="true"></i></a></li> <li><a itemprop="sameAs" href="https://github.com/yegor256" rel="nofollow" title="My GitHub profile"><i class="icon icon-github notranslate" aria-hidden="true"></i></a></li> <li><a itemprop="sameAs" href="http://stackoverflow.com/users/187141/yegor256" rel="nofollow" title="My StackOverflow profile"><i class="icon icon-stackoverflow notranslate" aria-hidden="true"></i></a></li> <li><a itemprop="sameAs" href="https://www.facebook.com/yegor256" rel="nofollow" title="Follow me on Facebook"><i class="icon icon-facebook notranslate" aria-hidden="true"></i></a></li> <li><a itemprop="sameAs" href="https://instagram.com/yegor256" rel="nofollow" title="Follow me on Instagram"><i class="icon icon-instagram notranslate" aria-hidden="true"></i></a></li> <li><a itemprop="sameAs" href="https://www.linkedin.com/in/yegor256" rel="nofollow" title="My LinkedIn profile"><i class="icon icon-linkedin notranslate" aria-hidden="true"></i></a></li> <li><a itemprop="sameAs" href="https://www.youtube.com/c/yegor256?sub_confirmation=1" rel="nofollow" title="My Youtube video channel"><i class="icon icon-youtube notranslate" aria-hidden="true"></i></a></li> <li><a itemprop="sameAs" href="https://www.pinterest.com/yegor256/" rel="nofollow" title="My Pinterest boards"><i class="icon icon-pinterest notranslate" aria-hidden="true"></i></a></li> <li><a itemprop="sameAs" href="https://angel.co/yegor256" rel="nofollow" title="My AngelList profile"><i class="icon icon-angellist notranslate" aria-hidden="true"></i></a></li> <li><a href="https://soundcloud.com/yegor256" rel="nofollow" title="My podcast"><i class="icon icon-podcast notranslate" aria-hidden="true"></i></a></li> <li><a href="https://itunes.apple.com/us/podcast/yegor256-podcast/id1150826721" rel="nofollow" title="My iTunes podcast"><i class="icon icon-itunes notranslate" aria-hidden="true"></i></a></li> <li><a href="https://t.me/yegor256news" rel="nofollow" title="My Telegram public channel"><i class="icon icon-telegram notranslate" aria-hidden="true"></i></a></li> <li><a href="mailto:blog@yegor256.com" rel="nofollow" title="Email me any time"><i class="icon icon-mail notranslate" aria-hidden="true"></i></a></li></ul><ul class="menu"> <li><a href="/" title="Home page">Home</a></li> <li /2014/06/29/custom-lexer-in-jekyll.html><a href="/best.html" title="Best articles to read">12&#160;Best</a></li> <li /2014/06/29/custom-lexer-in-jekyll.html><a href="/contents.html" title="The contents of the entire blog">All&#160;292</a></li> <li /2014/06/29/custom-lexer-in-jekyll.html><a href="/webinars.html" title="My webinars">Webinars</a></li> <li /2014/06/29/custom-lexer-in-jekyll.html><a href="/talks.html" title="Future and past conference talks">Talks</a></li> <li /2014/06/29/custom-lexer-in-jekyll.html><a href="/books.html" title="The books I wrote">Books</a></li> <li /2014/06/29/custom-lexer-in-jekyll.html><a href="/papers.html" title="My academic papers and patents">Papers</a></li> <li /2014/06/29/custom-lexer-in-jekyll.html><a href="/pets.html" title="My loved pet projects">Pets</a></li> <li /2014/06/29/custom-lexer-in-jekyll.html class="highlighted"><a href="/trainings.html" title="On-site trainings">Trainings</a></li> <li /2014/06/29/custom-lexer-in-jekyll.html><a href="/award.html" title="Software quality award">Award</a></li> <li /2014/06/29/custom-lexer-in-jekyll.html><a href="/testimonials.html" title="What some people say about me">Testimonials</a></li> <li /2014/06/29/custom-lexer-in-jekyll.html><a href="/shift-m.html" title="Audio podcast about project management">Shift-M</a></li> <li /2014/06/29/custom-lexer-in-jekyll.html><a href="/paintings.html" title="My paintings for sale">Paintings</a></li> <li><a href="https://ru.yegor256.com/" title="Немного на русском языке">По-русски</a></li></ul></nav><div class="search"> <form method="get" action="https://www.google.com/search" itemprop="potentialAction" itemscope="" itemtype="http://schema.org/SearchAction"> <meta itemprop="target" content="https://www.google.com/search?q={q}"/> <input name="sitesearch" value="yegor256.com" type="hidden"/> <input itemprop="query-input" type="text" id="search-query" class="field field-text" required="required" onfocus="$('.google').css('visibility', 'visible');" name="q" placeholder="Search..." autocomplete="off"/> <input type="image" src="/images/google-search-icon.svg" class="google" title="Search via Google" alt="Search via Google"/> </form></div><div class="hot"><ul></ul></div></header></div><section itemscope="" itemtype="http://schema.org/BlogPosting"><div class="wrapper"> <header><p class="printable"> <img src="https://api.qrserver.com/v1/create-qr-code/?data=https://www.yegor256.com/2014/06/29/custom-lexer-in-jekyll.html&amp;format=svg" style="width:125px;height:125px;" alt="QR code"/></p><p class="printable"> <code itemprop="url">https://www.yegor256.com/2014/06/29/custom-lexer-in-jekyll.html</code></p><h1 itemprop="name headline mainEntityOfPage">Custom Pygments Lexer in Jekyll</h1><ul class="subline"> <li> <time itemprop="datePublished" datetime="2014-06-29T00:00:00+00:00"> 29 June 2014 </time> </li> <li class="printable" itemscope="" itemprop="author" itemtype="http://schema.org/Person"> <span itemprop="name">Yegor Bugayenko</span> </li> <li class="unprintable"> <i class="icon icon-comments"></i> <a href="https://www.yegor256.com/2014/06/29/custom-lexer-in-jekyll.html#disqus_thread" itemprop="discussionUrl">comments</a> </li></ul><p class="unprintable"><p>I needed to create a custom syntax highlighting for <a href="http://www.requs.org">requs.org</a> on which I’m using Jekyll for site rendering.</p><p>This is how my code blocks look in markdown pages:</p><figure class="highlight"><pre><code class="language-text" data-lang="text"><span></span>{ % highlight requs %}
User is a &quot;human being.&quot;
{ % endhighlight %}</code></pre></figure><p>I created a custom <a href="http://pygments.org/docs/lexerdevelopment/">Pygments lexer</a>:</p><figure class="highlight"><pre><code class="language-python" data-lang="python"><span></span><span class="kn">from</span> <span class="nn">pygments.lexer</span> <span class="kn">import</span> <span class="n">RegexLexer</span>
<span class="kn">from</span> <span class="nn">pygments.token</span> <span class="kn">import</span> <span class="n">Punctuation</span><span class="p">,</span> <span class="n">Text</span><span class="p">,</span> <span class="n">Keyword</span><span class="p">,</span> <span class="n">Name</span><span class="p">,</span> <span class="n">String</span>
<span class="kn">from</span> <span class="nn">pygments.util</span> <span class="kn">import</span> <span class="n">shebang_matches</span>
<span class="k">class</span> <span class="nc">RequsLexer</span><span class="p">(</span><span class="n">RegexLexer</span><span class="p">):</span>
  <span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;requs&#39;</span>
  <span class="n">aliases</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;requs&#39;</span><span class="p">]</span>
  <span class="n">tokens</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;root&#39;</span><span class="p">:</span> <span class="p">[</span>
      <span class="p">(</span><span class="sa">r</span><span class="s1">&#39;&quot;[^&quot;]+&quot;&#39;</span><span class="p">,</span> <span class="n">String</span><span class="p">),</span>
      <span class="p">(</span><span class="sa">r</span><span class="s1">&#39;&quot;&quot;&quot;.+&quot;&quot;&quot;&#39;</span><span class="p">,</span> <span class="n">Text</span><span class="p">),</span>
      <span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\b(needs|includes|requires|when|fail|is|a|the)\s*\b&#39;</span><span class="p">,</span> <span class="n">Keyword</span><span class="p">),</span>
      <span class="p">(</span><span class="sa">r</span><span class="s1">&#39;([A-Z][a-z]+)+&#39;</span><span class="p">,</span> <span class="n">Name</span><span class="p">),</span>
      <span class="p">(</span><span class="sa">r</span><span class="s1">&#39;[,;:]&#39;</span><span class="p">,</span> <span class="n">Punctuation</span><span class="p">),</span>
    <span class="p">],</span>
  <span class="p">}</span>
  <span class="k">def</span> <span class="nf">analyse_text</span><span class="p">(</span><span class="n">text</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">shebang_matches</span><span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="sa">r</span><span class="s1">&#39;requs&#39;</span><span class="p">)</span></code></pre></figure><p>Then, I packaged it for <a href="https://pypi.python.org/pypi/setuptools"><code>easy_install</code></a> and installed locally:</p><figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span></span>$ easy_install src/requs_pygment
Processing requs_pygment
Running setup.py -q bdist_egg --dist-dir ...
zip_safe flag not set<span class="p">;</span> analyzing archive contents...
Adding requs-pygment <span class="m">0</span>.1 to easy-install.pth file
Installed /Library/Python/2.7/site-packages/requs_pygment-0.1-py2.7.egg
Processing dependencies <span class="k">for</span> requs-pygment<span class="o">==</span><span class="m">0</span>.1
Finished processing dependencies <span class="k">for</span> requs-pygment<span class="o">==</span><span class="m">0</span>.1</code></pre></figure><p>It’s done. Now I run <code>jekyll build</code> and my syntax is highlighted according to the custom rules I specified in the lexer.</p></p><nav class="buttons notranslate desktop-only"> <a href="http://www.facebook.com/sharer/sharer.php?u=https://www.yegor256.com/2014/06/29/custom-lexer-in-jekyll.html" title="Share on Facebook" class="button" rel="nofollow"> <span class="count count-facebook">0</span> <i class="icon icon-facebook notranslate" aria-hidden="true"></i> </a> <a href="https://twitter.com/share?url=https://www.yegor256.com/2014/06/29/custom-lexer-in-jekyll.html&amp;text=Custom+Pygments+Lexer+in+Jekyll" title="Share on Twitter" class="button" rel="nofollow"> <span class="count count-twitter">0</span> <i class="icon icon-twitter notranslate" aria-hidden="true"></i> </a> <a href="https://plus.google.com/share?url=https://www.yegor256.com/2014/06/29/custom-lexer-in-jekyll.html" title="Share on Google+" class="button" rel="nofollow"> <span class="count count-googleplus">0</span> <i class="icon icon-googleplus notranslate" aria-hidden="true"></i> </a> <a href="https://www.linkedin.com/cws/share?url=https://www.yegor256.com/2014/06/29/custom-lexer-in-jekyll.html" title="Share on LinkedIn" class="button" rel="nofollow"> <span class="count count-linkedin">0</span> <i class="icon icon-linkedin notranslate" aria-hidden="true"></i> </a> <a href="http://reddit.com/submit?url=https://www.yegor256.com/2014/06/29/custom-lexer-in-jekyll.html%3F2014-26&amp;title=Custom+Pygments+Lexer+in+Jekyll" title="Share on Reddit" class="button" rel="nofollow"> <span class="count count-reddit">0</span> <i class="icon icon-reddit notranslate" aria-hidden="true"></i> </a> <a href="http://news.ycombinator.com/submitlink?u=https://www.yegor256.com/2014/06/29/custom-lexer-in-jekyll.html%3F2014-26&amp;t=Custom+Pygments+Lexer+in+Jekyll" title="Share on Hacker News" class="button" rel="nofollow"> <span class="count count-hackernews">0</span> <i class="icon icon-hackernews notranslate" aria-hidden="true"></i> </a> </nav> </header> <article class="main" itemprop="articleBody"><div ><p>I needed to create a custom syntax highlighting for <a href="http://www.requs.org">requs.org</a> on which I’m using Jekyll for site rendering.</p><p>This is how my code blocks look in markdown pages:</p><figure class="highlight"><pre><code class="language-text" data-lang="text"><span></span>{ % highlight requs %}
User is a &quot;human being.&quot;
{ % endhighlight %}</code></pre></figure><p>I created a custom <a href="http://pygments.org/docs/lexerdevelopment/">Pygments lexer</a>:</p><figure class="highlight"><pre><code class="language-python" data-lang="python"><span></span><span class="kn">from</span> <span class="nn">pygments.lexer</span> <span class="kn">import</span> <span class="n">RegexLexer</span>
<span class="kn">from</span> <span class="nn">pygments.token</span> <span class="kn">import</span> <span class="n">Punctuation</span><span class="p">,</span> <span class="n">Text</span><span class="p">,</span> <span class="n">Keyword</span><span class="p">,</span> <span class="n">Name</span><span class="p">,</span> <span class="n">String</span>
<span class="kn">from</span> <span class="nn">pygments.util</span> <span class="kn">import</span> <span class="n">shebang_matches</span>
<span class="k">class</span> <span class="nc">RequsLexer</span><span class="p">(</span><span class="n">RegexLexer</span><span class="p">):</span>
  <span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;requs&#39;</span>
  <span class="n">aliases</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;requs&#39;</span><span class="p">]</span>
  <span class="n">tokens</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;root&#39;</span><span class="p">:</span> <span class="p">[</span>
      <span class="p">(</span><span class="sa">r</span><span class="s1">&#39;&quot;[^&quot;]+&quot;&#39;</span><span class="p">,</span> <span class="n">String</span><span class="p">),</span>
      <span class="p">(</span><span class="sa">r</span><span class="s1">&#39;&quot;&quot;&quot;.+&quot;&quot;&quot;&#39;</span><span class="p">,</span> <span class="n">Text</span><span class="p">),</span>
      <span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\b(needs|includes|requires|when|fail|is|a|the)\s*\b&#39;</span><span class="p">,</span> <span class="n">Keyword</span><span class="p">),</span>
      <span class="p">(</span><span class="sa">r</span><span class="s1">&#39;([A-Z][a-z]+)+&#39;</span><span class="p">,</span> <span class="n">Name</span><span class="p">),</span>
      <span class="p">(</span><span class="sa">r</span><span class="s1">&#39;[,;:]&#39;</span><span class="p">,</span> <span class="n">Punctuation</span><span class="p">),</span>
    <span class="p">],</span>
  <span class="p">}</span>
  <span class="k">def</span> <span class="nf">analyse_text</span><span class="p">(</span><span class="n">text</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">shebang_matches</span><span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="sa">r</span><span class="s1">&#39;requs&#39;</span><span class="p">)</span></code></pre></figure><p>Then, I packaged it for <a href="https://pypi.python.org/pypi/setuptools"><code>easy_install</code></a> and installed locally:</p><figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span></span>$ easy_install src/requs_pygment
Processing requs_pygment
Running setup.py -q bdist_egg --dist-dir ...
zip_safe flag not set<span class="p">;</span> analyzing archive contents...
Adding requs-pygment <span class="m">0</span>.1 to easy-install.pth file
Installed /Library/Python/2.7/site-packages/requs_pygment-0.1-py2.7.egg
Processing dependencies <span class="k">for</span> requs-pygment<span class="o">==</span><span class="m">0</span>.1
Finished processing dependencies <span class="k">for</span> requs-pygment<span class="o">==</span><span class="m">0</span>.1</code></pre></figure><p>It’s done. Now I run <code>jekyll build</code> and my syntax is highlighted according to the custom rules I specified in the lexer.</p></div></article></div><div class="wrapper"> <related-posts /></div><div class="disqus" role="complementary"><p class="disqus_hint"> Please, use <a href="https://help.disqus.com/commenting/what-html-tags-are-allowed-within-comments">syntax highlighting</a> in your comments, to make them more readable.</p><div id="disqus_thread" class="disqus-thread"> <a>&nbsp;</a></div><script> var disqus_config = function () { this.page.url = document.location.href.split('?')[0].split('#')[0].replace('https://', 'http://'); this.page.identifier = this.page.url; }; (function() { var d = document, s = d.createElement('script'); s.src = '//yegor256.disqus.com/embed.js'; s.setAttribute('data-timestamp', +new Date()); (d.head || d.body).appendChild(s); })(); </script> <noscript><div><p class="red"> JavaScript is disabled in your browser, that's why you can't see comments under this post.</p></div></noscript></div><div class="wrapper"> <footer class="footer"><p> &copy; <span itemscope="" itemprop="copyrightHolder" itemtype="http://schema.org/Person"> <span itemprop="name">Yegor Bugayenko</span> </span> 2014&ndash;<span itemprop="copyrightYear">2018</span></p></footer></div></section><div class="wrapper unprintable" style="text-align:center;margin-top:2em;"> <a href="http://www.sixnines.io/h/3ba1652f"> <img src="//www.sixnines.io/b/3ba1652f?style=flat" alt="sixnines availability badge"/> </a></div><script src="//code.jquery.com/jquery-1.9.0.min.js"></script> <script src="/js/all.js?c401938d07c"></script> <script>var disqus_shortname = 'yegor256';</script> <script id="dsq-count-scr" src="//yegor256.disqus.com/count.js" async="async"></script> <script> (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){ (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o), m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m) })(window,document,'script','//www.google-analytics.com/analytics.js','ga'); ga('create', 'UA-1963507-32', 'auto'); ga('send', 'pageview'); </script> <script> Cd=document;Cr="&"+Math.random();Cp="&s=1"; Cd.cookie="b=b";if(Cd.cookie)Cp+="&c=1"; Cp+="&t="+(new Date()).getTimezoneOffset(); if(self!=top)Cp+="&f=1"; </script> <script> if(navigator.javaEnabled())Cp+="&j=1"; </script> <script> if(typeof(screen)!='undefined')Cp+="&w="+screen.width+"&h="+ screen.height+"&d="+(screen.colorDepth?screen.colorDepth:screen.pixelDepth); </script> <script> Cd.write("<img src='//c.hit.ua/hit?i=95870&g=0&x=2"+Cp+Cr+ "&r="+escape(Cd.referrer)+"&u="+escape(window.location.href)+ "' border='0' wi"+"dth='1' he"+"ight='1'/>"); </script> <script type="application/ld+json"> { "@context": "http://schema.org", "@type": "Person", "name": "Yegor Bugayenko", "url": "https://www.yegor256.com", "sameAs": [ "https://www.facebook.com/yegor256", "https://instagram.com/yegor256", "https://www.linkedin.com/in/yegor256", "https://twitter.com/yegor256", "https://github.com/yegor256", "https://www.pinterest.com/yegor256/" ] } </script> </body> </html> <!DOCTYPE html> <html xmlns="http://www.w3.org/1999/xhtml" lang="en-US" xml:lang="en-US" itemscope="" itemtype="http://schema.org/WebSite"> <head> <meta charset="utf-8"/> <meta name="description" content="" /> <meta name="keywords" content="next, path, output, content, previous, url, relative_path, id, collection, excerpt, draft, categories, layout, title, date, tags, description, keywords, slug, ext" /> <meta name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1"/> <meta name="google-site-verification" content="JEj_gQr2CPe2QKGw8XdMz0R7VboQIUbX3FlM-lwTq-8" /> <meta name="author" content="Yegor Bugayenko"> <meta name="article:published_time" content="2014-06-24 00:00:00 +0000"> <meta name="og:site_name" content="Yegor Bugayenko"/> <meta name="og:type" content="article" /> <meta name="og:locale" content="en_US" /> <meta name="twitter:account_id" content="4503599630178231" /> <meta name="twitter:creator" content="@yegor256"/> <meta name="twitter:site" content="@yegor256"/> <meta name="twitter:title" property="og:title" content="Deploy Jekyll to GitHub Pages"/> <meta name="twitter:description" property="og:description" content="&lt;p&gt;This blog is written in &lt;a href=&quot;http://jekyllrb.com/&quot;&gt;Jekyll&lt;/a&gt; and is hosted at &lt;a href=&quot;https://pages.github.com/&quot;&gt;GitHub Pages&lt;/a&gt;. It uses half a dozen custom plugins, which &lt;a href=&quot;https://help.github.com/articles/using-jekyll-plugins-with-github-pages&quot;&gt;are not allowed there&lt;/a&gt;.&lt;/p&gt; &lt;p&gt;Here is how I deploy it:&lt;/p&gt; &lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span&gt;&lt;/span&gt;$ jgd&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt; &lt;p&gt;That’s it. &lt;a href=&quot;http://rubygems.org/gems/jgd&quot;&gt;jgd&lt;/a&gt; is my Ruby gem (stands for “Jekyll GitHub Deploy”), which does the trick. Here is &lt;a href=&quot;https://github.com/yegor256/jekyll-github-deploy/blob/master/bash/deploy.sh&quot;&gt;what it does&lt;/a&gt;:&lt;/p&gt; &lt;!--more--&gt; &lt;ol&gt; &lt;li&gt; &lt;p&gt;It clones your existing repository from the current directory to a temporary one (guessing the URL of the repo from &lt;code&gt;.git/config&lt;/code&gt; file).&lt;/p&gt; &lt;/li&gt; &lt;li&gt; &lt;p&gt;Runs &lt;code&gt;jekyll build&lt;/code&gt; in that temporary directory, which saves the output in another temporary directory.&lt;/p&gt; &lt;/li&gt; &lt;li&gt; &lt;p&gt;Checks out &lt;code&gt;gh-pages&lt;/code&gt; branch or creates one if it doesn’t exist.&lt;/p&gt; &lt;/li&gt; &lt;li&gt; &lt;p&gt;Copies the content of the site built by &lt;code&gt;jekyll build&lt;/code&gt; into the branch, thus overwriting existing files, commits and pushes to GitHub.&lt;/p&gt; &lt;/li&gt; &lt;li&gt; &lt;p&gt;Cleans up all temporary directories.&lt;/p&gt; &lt;/li&gt; &lt;/ol&gt; &lt;p&gt;Using this gem is very easy. Just install it with &lt;code&gt;gem install jgd&lt;/code&gt; and then run in the root directory of your Jekyll blog.&lt;/p&gt; &lt;p&gt;What is important is that your Jekyll site files be located in the root directory of the repository. Just as they do on &lt;a href=&quot;/2014/04/06/introduction.html&quot;&gt;this blog&lt;/a&gt;; see &lt;a href=&quot;https://github.com/yegor256/blog&quot;&gt;its sources in GitHub&lt;/a&gt;.&lt;/p&gt; &lt;p&gt;You can easily integrate &lt;code&gt;jgd&lt;/code&gt; with Travis. See &lt;a href=&quot;https://github.com/yegor256/blog/blob/master/.travis.yml&quot;&gt;&lt;code&gt;.travis.yml&lt;/code&gt;&lt;/a&gt; of this blog.&lt;/p&gt; &lt;p&gt;Full documentation about the gem is located &lt;a href=&quot;https://github.com/yegor256/jekyll-github-deploy&quot;&gt;here&lt;/a&gt;.&lt;/p&gt; "/> <meta name="twitter:url" property="og:url" content="https://www.yegor256.com/2014/06/24/jekyll-github-deploy.html"/> <meta name="telegram:channel" content="AAAAAEJFMRzsRTRxM3ec6A"/> <link rel="search" type="application/opensearchdescription+xml" href="/opensearch.xml" title="yegor256" /> <link rel="shortcut icon" href="/favicon.ico?c401938d07c"/> <link rel="apple-touch-icon" href="/favicon.ico?c401938d07c"/> <link rel="alternate" type="application/rss+xml" title="RSS for yegor256.com" href="https://www.yegor256.com/rss.xml"/> <link rel="stylesheet" href="/css/layout.css?c401938d07c"/> <link rel="stylesheet" href="/css/icons.css?c401938d07c"/> <link rel="canonical" href="https://www.yegor256.com/2014/06/24/jekyll-github-deploy.html" /> <link rel="amphtml" href="https://www.yegor256.com/2014/06/24/jekyll-github-deploy.amp.html" /> <title>Deploy Jekyll to GitHub Pages </title> </head> <body><div class="wrapper"> <aside class="header-toggle unprintable" id="header-toggle" title="Show the menu" onclick="$('#header').show();$('#header-toggle').hide();">&#9776;</aside> <header class="header" id="header"><div class="face"> <a href="/about-me.html#form" class="sub" title="Click to subscribe to my monthly newsletter"><span>Subscribe</span></a> <a href="/about-me.html" style="position:relative;"> <img src="/images/face-256x256.jpg" class="photo" alt="Yegor Bugayenko"/> </a></div><nav><ul class="menu social notranslate"> <li><a href="https://twitter.com/intent/follow?screen_name=yegor256" rel="nofollow" title="Follow me on Twitter"><i class="icon icon-twitter notranslate" aria-hidden="true"></i></a></li> <li><a href="/rss.xml" rel="nofollow" title="Subscribe to my RSS feed"><i class="icon icon-rss notranslate" aria-hidden="true"></i></a></li> <li><a itemprop="sameAs" href="https://github.com/yegor256" rel="nofollow" title="My GitHub profile"><i class="icon icon-github notranslate" aria-hidden="true"></i></a></li> <li><a itemprop="sameAs" href="http://stackoverflow.com/users/187141/yegor256" rel="nofollow" title="My StackOverflow profile"><i class="icon icon-stackoverflow notranslate" aria-hidden="true"></i></a></li> <li><a itemprop="sameAs" href="https://www.facebook.com/yegor256" rel="nofollow" title="Follow me on Facebook"><i class="icon icon-facebook notranslate" aria-hidden="true"></i></a></li> <li><a itemprop="sameAs" href="https://instagram.com/yegor256" rel="nofollow" title="Follow me on Instagram"><i class="icon icon-instagram notranslate" aria-hidden="true"></i></a></li> <li><a itemprop="sameAs" href="https://www.linkedin.com/in/yegor256" rel="nofollow" title="My LinkedIn profile"><i class="icon icon-linkedin notranslate" aria-hidden="true"></i></a></li> <li><a itemprop="sameAs" href="https://www.youtube.com/c/yegor256?sub_confirmation=1" rel="nofollow" title="My Youtube video channel"><i class="icon icon-youtube notranslate" aria-hidden="true"></i></a></li> <li><a itemprop="sameAs" href="https://www.pinterest.com/yegor256/" rel="nofollow" title="My Pinterest boards"><i class="icon icon-pinterest notranslate" aria-hidden="true"></i></a></li> <li><a itemprop="sameAs" href="https://angel.co/yegor256" rel="nofollow" title="My AngelList profile"><i class="icon icon-angellist notranslate" aria-hidden="true"></i></a></li> <li><a href="https://soundcloud.com/yegor256" rel="nofollow" title="My podcast"><i class="icon icon-podcast notranslate" aria-hidden="true"></i></a></li> <li><a href="https://itunes.apple.com/us/podcast/yegor256-podcast/id1150826721" rel="nofollow" title="My iTunes podcast"><i class="icon icon-itunes notranslate" aria-hidden="true"></i></a></li> <li><a href="https://t.me/yegor256news" rel="nofollow" title="My Telegram public channel"><i class="icon icon-telegram notranslate" aria-hidden="true"></i></a></li> <li><a href="mailto:blog@yegor256.com" rel="nofollow" title="Email me any time"><i class="icon icon-mail notranslate" aria-hidden="true"></i></a></li></ul><ul class="menu"> <li><a href="/" title="Home page">Home</a></li> <li /2014/06/24/jekyll-github-deploy.html><a href="/best.html" title="Best articles to read">12&#160;Best</a></li> <li /2014/06/24/jekyll-github-deploy.html><a href="/contents.html" title="The contents of the entire blog">All&#160;292</a></li> <li /2014/06/24/jekyll-github-deploy.html><a href="/webinars.html" title="My webinars">Webinars</a></li> <li /2014/06/24/jekyll-github-deploy.html><a href="/talks.html" title="Future and past conference talks">Talks</a></li> <li /2014/06/24/jekyll-github-deploy.html><a href="/books.html" title="The books I wrote">Books</a></li> <li /2014/06/24/jekyll-github-deploy.html><a href="/papers.html" title="My academic papers and patents">Papers</a></li> <li /2014/06/24/jekyll-github-deploy.html><a href="/pets.html" title="My loved pet projects">Pets</a></li> <li /2014/06/24/jekyll-github-deploy.html class="highlighted"><a href="/trainings.html" title="On-site trainings">Trainings</a></li> <li /2014/06/24/jekyll-github-deploy.html><a href="/award.html" title="Software quality award">Award</a></li> <li /2014/06/24/jekyll-github-deploy.html><a href="/testimonials.html" title="What some people say about me">Testimonials</a></li> <li /2014/06/24/jekyll-github-deploy.html><a href="/shift-m.html" title="Audio podcast about project management">Shift-M</a></li> <li /2014/06/24/jekyll-github-deploy.html><a href="/paintings.html" title="My paintings for sale">Paintings</a></li> <li><a href="https://ru.yegor256.com/" title="Немного на русском языке">По-русски</a></li></ul></nav><div class="search"> <form method="get" action="https://www.google.com/search" itemprop="potentialAction" itemscope="" itemtype="http://schema.org/SearchAction"> <meta itemprop="target" content="https://www.google.com/search?q={q}"/> <input name="sitesearch" value="yegor256.com" type="hidden"/> <input itemprop="query-input" type="text" id="search-query" class="field field-text" required="required" onfocus="$('.google').css('visibility', 'visible');" name="q" placeholder="Search..." autocomplete="off"/> <input type="image" src="/images/google-search-icon.svg" class="google" title="Search via Google" alt="Search via Google"/> </form></div><div class="hot"><ul></ul></div></header></div><section itemscope="" itemtype="http://schema.org/BlogPosting"><div class="wrapper"> <header><p class="printable"> <img src="https://api.qrserver.com/v1/create-qr-code/?data=https://www.yegor256.com/2014/06/24/jekyll-github-deploy.html&amp;format=svg" style="width:125px;height:125px;" alt="QR code"/></p><p class="printable"> <code itemprop="url">https://www.yegor256.com/2014/06/24/jekyll-github-deploy.html</code></p><h1 itemprop="name headline mainEntityOfPage">Deploy Jekyll to GitHub Pages</h1><ul class="subline"> <li> <time itemprop="datePublished" datetime="2014-06-24T00:00:00+00:00"> 24 June 2014 </time> </li> <li class="printable" itemscope="" itemprop="author" itemtype="http://schema.org/Person"> <span itemprop="name">Yegor Bugayenko</span> </li> <li class="unprintable"> <i class="icon icon-comments"></i> <a href="https://www.yegor256.com/2014/06/24/jekyll-github-deploy.html#disqus_thread" itemprop="discussionUrl">comments</a> </li></ul><p class="unprintable"><p>This blog is written in <a href="http://jekyllrb.com/">Jekyll</a> and is hosted at <a href="https://pages.github.com/">GitHub Pages</a>. It uses half a dozen custom plugins, which <a href="https://help.github.com/articles/using-jekyll-plugins-with-github-pages">are not allowed there</a>.</p><p>Here is how I deploy it:</p><figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span></span>$ jgd</code></pre></figure><p>That’s it. <a href="http://rubygems.org/gems/jgd">jgd</a> is my Ruby gem (stands for “Jekyll GitHub Deploy”), which does the trick. Here is <a href="https://github.com/yegor256/jekyll-github-deploy/blob/master/bash/deploy.sh">what it does</a>:</p><ol> <li><p>It clones your existing repository from the current directory to a temporary one (guessing the URL of the repo from <code>.git/config</code> file).</p></li> <li><p>Runs <code>jekyll build</code> in that temporary directory, which saves the output in another temporary directory.</p></li> <li><p>Checks out <code>gh-pages</code> branch or creates one if it doesn’t exist.</p></li> <li><p>Copies the content of the site built by <code>jekyll build</code> into the branch, thus overwriting existing files, commits and pushes to GitHub.</p></li> <li><p>Cleans up all temporary directories.</p></li> </ol><p>Using this gem is very easy. Just install it with <code>gem install jgd</code> and then run in the root directory of your Jekyll blog.</p><p>What is important is that your Jekyll site files be located in the root directory of the repository. Just as they do on <a href="/2014/04/06/introduction.html">this blog</a>; see <a href="https://github.com/yegor256/blog">its sources in GitHub</a>.</p><p>You can easily integrate <code>jgd</code> with Travis. See <a href="https://github.com/yegor256/blog/blob/master/.travis.yml"><code>.travis.yml</code></a> of this blog.</p><p>Full documentation about the gem is located <a href="https://github.com/yegor256/jekyll-github-deploy">here</a>.</p></p><nav class="buttons notranslate desktop-only"> <a href="http://www.facebook.com/sharer/sharer.php?u=https://www.yegor256.com/2014/06/24/jekyll-github-deploy.html" title="Share on Facebook" class="button" rel="nofollow"> <span class="count count-facebook">0</span> <i class="icon icon-facebook notranslate" aria-hidden="true"></i> </a> <a href="https://twitter.com/share?url=https://www.yegor256.com/2014/06/24/jekyll-github-deploy.html&amp;text=Deploy+Jekyll+to+GitHub+Pages" title="Share on Twitter" class="button" rel="nofollow"> <span class="count count-twitter">0</span> <i class="icon icon-twitter notranslate" aria-hidden="true"></i> </a> <a href="https://plus.google.com/share?url=https://www.yegor256.com/2014/06/24/jekyll-github-deploy.html" title="Share on Google+" class="button" rel="nofollow"> <span class="count count-googleplus">0</span> <i class="icon icon-googleplus notranslate" aria-hidden="true"></i> </a> <a href="https://www.linkedin.com/cws/share?url=https://www.yegor256.com/2014/06/24/jekyll-github-deploy.html" title="Share on LinkedIn" class="button" rel="nofollow"> <span class="count count-linkedin">0</span> <i class="icon icon-linkedin notranslate" aria-hidden="true"></i> </a> <a href="http://reddit.com/submit?url=https://www.yegor256.com/2014/06/24/jekyll-github-deploy.html%3F2014-25&amp;title=Deploy+Jekyll+to+GitHub+Pages" title="Share on Reddit" class="button" rel="nofollow"> <span class="count count-reddit">0</span> <i class="icon icon-reddit notranslate" aria-hidden="true"></i> </a> <a href="http://news.ycombinator.com/submitlink?u=https://www.yegor256.com/2014/06/24/jekyll-github-deploy.html%3F2014-25&amp;t=Deploy+Jekyll+to+GitHub+Pages" title="Share on Hacker News" class="button" rel="nofollow"> <span class="count count-hackernews">0</span> <i class="icon icon-hackernews notranslate" aria-hidden="true"></i> </a> </nav> </header> <article class="main" itemprop="articleBody"><div ><p>This blog is written in <a href="http://jekyllrb.com/">Jekyll</a> and is hosted at <a href="https://pages.github.com/">GitHub Pages</a>. It uses half a dozen custom plugins, which <a href="https://help.github.com/articles/using-jekyll-plugins-with-github-pages">are not allowed there</a>.</p><p>Here is how I deploy it:</p><figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span></span>$ jgd</code></pre></figure><p>That’s it. <a href="http://rubygems.org/gems/jgd">jgd</a> is my Ruby gem (stands for “Jekyll GitHub Deploy”), which does the trick. Here is <a href="https://github.com/yegor256/jekyll-github-deploy/blob/master/bash/deploy.sh">what it does</a>:</p><ol> <li><p>It clones your existing repository from the current directory to a temporary one (guessing the URL of the repo from <code>.git/config</code> file).</p></li> <li><p>Runs <code>jekyll build</code> in that temporary directory, which saves the output in another temporary directory.</p></li> <li><p>Checks out <code>gh-pages</code> branch or creates one if it doesn’t exist.</p></li> <li><p>Copies the content of the site built by <code>jekyll build</code> into the branch, thus overwriting existing files, commits and pushes to GitHub.</p></li> <li><p>Cleans up all temporary directories.</p></li> </ol><p>Using this gem is very easy. Just install it with <code>gem install jgd</code> and then run in the root directory of your Jekyll blog.</p><p>What is important is that your Jekyll site files be located in the root directory of the repository. Just as they do on <a href="/2014/04/06/introduction.html">this blog</a>; see <a href="https://github.com/yegor256/blog">its sources in GitHub</a>.</p><p>You can easily integrate <code>jgd</code> with Travis. See <a href="https://github.com/yegor256/blog/blob/master/.travis.yml"><code>.travis.yml</code></a> of this blog.</p><p>Full documentation about the gem is located <a href="https://github.com/yegor256/jekyll-github-deploy">here</a>.</p></div></article></div><div class="wrapper"> <related-posts /></div><div class="disqus" role="complementary"><p class="disqus_hint"> Please, use <a href="https://help.disqus.com/commenting/what-html-tags-are-allowed-within-comments">syntax highlighting</a> in your comments, to make them more readable.</p><div id="disqus_thread" class="disqus-thread"> <a>&nbsp;</a></div><script> var disqus_config = function () { this.page.url = document.location.href.split('?')[0].split('#')[0].replace('https://', 'http://'); this.page.identifier = this.page.url; }; (function() { var d = document, s = d.createElement('script'); s.src = '//yegor256.disqus.com/embed.js'; s.setAttribute('data-timestamp', +new Date()); (d.head || d.body).appendChild(s); })(); </script> <noscript><div><p class="red"> JavaScript is disabled in your browser, that's why you can't see comments under this post.</p></div></noscript></div><div class="wrapper"> <footer class="footer"><p> &copy; <span itemscope="" itemprop="copyrightHolder" itemtype="http://schema.org/Person"> <span itemprop="name">Yegor Bugayenko</span> </span> 2014&ndash;<span itemprop="copyrightYear">2018</span></p></footer></div></section><div class="wrapper unprintable" style="text-align:center;margin-top:2em;"> <a href="http://www.sixnines.io/h/3ba1652f"> <img src="//www.sixnines.io/b/3ba1652f?style=flat" alt="sixnines availability badge"/> </a></div><script src="//code.jquery.com/jquery-1.9.0.min.js"></script> <script src="/js/all.js?c401938d07c"></script> <script>var disqus_shortname = 'yegor256';</script> <script id="dsq-count-scr" src="//yegor256.disqus.com/count.js" async="async"></script> <script> (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){ (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o), m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m) })(window,document,'script','//www.google-analytics.com/analytics.js','ga'); ga('create', 'UA-1963507-32', 'auto'); ga('send', 'pageview'); </script> <script> Cd=document;Cr="&"+Math.random();Cp="&s=1"; Cd.cookie="b=b";if(Cd.cookie)Cp+="&c=1"; Cp+="&t="+(new Date()).getTimezoneOffset(); if(self!=top)Cp+="&f=1"; </script> <script> if(navigator.javaEnabled())Cp+="&j=1"; </script> <script> if(typeof(screen)!='undefined')Cp+="&w="+screen.width+"&h="+ screen.height+"&d="+(screen.colorDepth?screen.colorDepth:screen.pixelDepth); </script> <script> Cd.write("<img src='//c.hit.ua/hit?i=95870&g=0&x=2"+Cp+Cr+ "&r="+escape(Cd.referrer)+"&u="+escape(window.location.href)+ "' border='0' wi"+"dth='1' he"+"ight='1'/>"); </script> <script type="application/ld+json"> { "@context": "http://schema.org", "@type": "Person", "name": "Yegor Bugayenko", "url": "https://www.yegor256.com", "sameAs": [ "https://www.facebook.com/yegor256", "https://instagram.com/yegor256", "https://www.linkedin.com/in/yegor256", "https://twitter.com/yegor256", "https://github.com/yegor256", "https://www.pinterest.com/yegor256/" ] } </script> </body> </html> </article></div></section><div class="wrapper unprintable" style="text-align:center;margin-top:2em;"> <a href="http://www.sixnines.io/h/3ba1652f"> <img src="//www.sixnines.io/b/3ba1652f?style=flat" alt="sixnines availability badge"/> </a></div><script src="//code.jquery.com/jquery-1.9.0.min.js"></script> <script src="/js/all.js?c401938d07c"></script> <script>var disqus_shortname = 'yegor256';</script> <script id="dsq-count-scr" src="//yegor256.disqus.com/count.js" async="async"></script> <script> (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){ (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o), m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m) })(window,document,'script','//www.google-analytics.com/analytics.js','ga'); ga('create', 'UA-1963507-32', 'auto'); ga('send', 'pageview'); </script> <script> Cd=document;Cr="&"+Math.random();Cp="&s=1"; Cd.cookie="b=b";if(Cd.cookie)Cp+="&c=1"; Cp+="&t="+(new Date()).getTimezoneOffset(); if(self!=top)Cp+="&f=1"; </script> <script> if(navigator.javaEnabled())Cp+="&j=1"; </script> <script> if(typeof(screen)!='undefined')Cp+="&w="+screen.width+"&h="+ screen.height+"&d="+(screen.colorDepth?screen.colorDepth:screen.pixelDepth); </script> <script> Cd.write("<img src='//c.hit.ua/hit?i=95870&g=0&x=2"+Cp+Cr+ "&r="+escape(Cd.referrer)+"&u="+escape(window.location.href)+ "' border='0' wi"+"dth='1' he"+"ight='1'/>"); </script> <script type="application/ld+json"> { "@context": "http://schema.org", "@type": "Person", "name": "Yegor Bugayenko", "url": "https://www.yegor256.com", "sameAs": [ "https://www.facebook.com/yegor256", "https://instagram.com/yegor256", "https://www.linkedin.com/in/yegor256", "https://twitter.com/yegor256", "https://github.com/yegor256", "https://www.pinterest.com/yegor256/" ] } </script> </body> </html>
